{"version":3,"term":{"cols":120,"rows":30,"type":"xterm-256color","version":"iTerm2 3.5.14","theme":{"fg":"#697a82","bg":"#fcf7e5","palette":"#163540:#cb4238:#89982d:#ae8b2c:#4689cd:#c34380:#519f98:#ede9d7:#0d2a34:#bc5329:#5c6d74:#697a82:#869496:#6d71bf:#96a1a1:#fcf7e5"}},"timestamp":1768189223,"idle_time_limit":0.5,"title":"pgsql-ext","env":{"SHELL":"/bin/bash"}}
[0.014, "o", "\u001b[?2004h\u001b]0;vonng@vonng-aimax: ~/pigsty\u0007\u001b[01;32mvonng@vonng-aimax\u001b[00m:\u001b[01;34m~/pigsty\u001b[00m$ "]
[0.711, "o", "c"]
[0.129, "o", "l"]
[0.102, "o", "e"]
[0.073, "o", "ar"]
[0.048, "o", "\r\n\u001b[?2004l\r"]
[0.002, "o", "\u001b[H\u001b[2J\u001b[3J"]
[0.000, "o", "\u001b[?2004h\u001b]0;vonng@vonng-aimax: ~/pigsty\u0007\u001b[01;32mvonng@vonng-aimax\u001b[00m:\u001b[01;34m~/pigsty\u001b[00m$ "]
[0.739, "o", "v"]
[0.086, "o", "i"]
[0.096, "o", " "]
[0.070, "o", "p"]
[0.069, "o", "i"]
[0.107, "o", "gsty.yml "]
[0.131, "o", "\r\n"]
[0.000, "o", "\u001b[?2004l\r"]
[0.009, "o", "\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;30r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t"]
[0.000, "o", "\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[30;1H\"pigsty.yml\""]
[0.000, "o", " 180L, 9832B"]
[0.002, "o", "\u001b[2;1Hâ–½\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007"]
[0.008, "o", "\u001b[1;9H\u001b[36mpg_vip_address\u001b[m\u001b[35m:\u001b[m 10.10.10.2/24\r\n        \u001b[36mpg_vip_interface\u001b[m\u001b[35m:\u001b[m eth1\u001b[2;31H\u001b[K\u001b[3;1H        \u001b[36mnode_crontab\u001b[m\u001b[35m:\u001b[m \u001b[34m # make a full backup 1 am everyday\u001b[m\u001b[3;58H\u001b[K\u001b[4;11H\u001b[38;5;130m- \u001b[m\u001b[31m'00 01 * * * postgres /pg/bin/pg-backup full'\u001b[m\u001b[6;4H\u001b[34m # pgsql 3 node ha cluster: pg-test\u001b[m\r\n    \u001b[36mpg-test\u001b[m\u001b[35m:\u001b[m\u001b[8;7H\u001b[36mhosts\u001b[m\u001b[35m:\u001b[m\u001b[9;9H\u001b[36m10.10.10.11\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[36mpg_seq\u001b[m\u001b[35m:\u001b[m \u001b[31m1\u001b[m, \u001b[36mpg_role\u001b[m\u001b[35m:\u001b[m primary \u001b[35m}\u001b[m  \u001b[34m # primary instance, leader of cluster\u001b[m\u001b[10;9H\u001b[36m10.10.10.12\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[36mpg_seq\u001b[m\u001b[35m:\u001b[m \u001b[31m2\u001b[m, \u001b[36mpg_role\u001b[m\u001b[35m:\u001b[m replica \u001b[35m}\u001b[m  \u001b[34m # replica instance, follower of leader\u001b[m\u001b[11;9H\u001b[36m10.10.10.13\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[36mpg_seq\u001b[m\u001b[35m:\u001b[m \u001b[31m3\u001b[m, \u001b[36mpg_role\u001b[m\u001b[35m:\u001b[m replica, \u001b[36mpg_offline_query\u001b[m\u001b[35m:\u001b[m \u001b[31mtrue\u001b[m \u001b[35m}\u001b[m\u001b[34m # replica with offline access\u001b[m\u001b[12;7H\u001b[36mvars\u001b[m\u001b[35m:\u001b[m\u001b[13;9H\u001b[36mpg_cluster\u001b[m\u001b[35m:\u001b[m pg-test\u001b[10C\u001b[34m # define pgsql cluster name\u001b[m\u001b[14;9H\u001b[36mpg_users\u001b[m\u001b[35m:\u001b[m  \u001b[35m[{\u001b[m \u001b[36mname\u001b[m\u001b[35m:\u001b[m test , \u001b[36mpassword\u001b[m\u001b[35m:\u001b[m test , \u001b[36mpgbouncer\u001b[m\u001b[35m:\u001b[m \u001b[31mtrue\u001b[m , \u001b[36mroles\u001b[m\u001b[35m:\u001b[m \u001b[35m[\u001b[m dbrole_admin \u001b[35m]\u001b[m \u001b[35m}]\u001b[m\u001b[15;9H\u001b[36mpg_databases\u001b[m\u001b[35m:\u001b[m \u001b[35m[{\u001b[m \u001b[36mname\u001b[m\u001b[35m:\u001b[m test \u001b[35m}\u001b[m , \u001b[35m\u001b[106m{\u001b[m\u001b[36mname\u001b[m\u001b[35m:\u001b[m test2\u001b[35m\u001b[106m}\u001b[m \u001b[35m]\u001b[m\u001b[16;9H\u001b[36mpg_vip_enabled\u001b[m\u001b[35m:\u001b[m \u001b[31mtrue\u001b[m\u001b[17;9H\u001b[36mpg_vip_address\u001b[m\u001b[35m:\u001b[m 10.10.10.3/24\u001b[18;9H\u001b[36mpg_vip_interface\u001b[m\u001b[35m:\u001b[m eth1\u001b[19;9H\u001b[36mnode_crontab\u001b[m\u001b[35m:\u001b[m \u001b[34m # make a full backup on monday 1am, and an incremental backup during weekdays\u001b[m\u001b[20;11H\u001b[38;5;130m- \u001b[m\u001b[31m'00 01 * * 1 postgres /pg/bin/pg-backup full'\u001b[m\u001b[21;11H\u001b[38;5;130m- \u001b[m\u001b[31m'00 01 * * 2,3,4,5,6,7 postgres /pg/bin/pg-backup'\u001b[m\u001b[23;4H\u001b[34m #----------------------------------#\r\n\u001b[m   \u001b[34m # redis ms, sentinel, native cluster\r\n\u001b[m   \u001b[34m #----------------------------------#"]
[0.002, "o", "\u001b[m\r\n    \u001b[36mredis-ms\u001b[m\u001b[35m:\u001b[m\u001b[34m # redis classic primary & replica\u001b[m\u001b[27;7H\u001b[36mhosts\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[36m10.10.10.10\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[36mredis_node\u001b[m\u001b[35m:\u001b[m \u001b[31m1\u001b[m , \u001b[36mredis_instances\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[36m6379\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[35m}\u001b[m, \u001b[36m6380\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[36mreplica_of\u001b[m\u001b[35m:\u001b[m \u001b[31m'10.10.10.10 6379'\u001b[m \u001b[35m}\u001b[m \u001b[35m}\u001b[m \u001b[35m}}\u001b[m\u001b[28;1H \u001b[35m}\u001b[m\u001b[29;7H\u001b[36mvars\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[36mredis_cluster\u001b[m\u001b[35m:\u001b[m redis-ms ,\u001b[36mredis_password\u001b[m\u001b[35m:\u001b[m \u001b[31m'redis.ms'\u001b[m ,\u001b[36mredis_max_memory\u001b[m\u001b[35m:\u001b[m 64MB \u001b[35m}\u001b[m\u001b[30;103H75,53\u001b[9C39%\u001b[15;53H\u001b[?25h\u001b[?4m"]
[0.070, "o", "\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p\u001b[?25l\u001b[30;93Hf\u001b[15;53H\u001b[30;94H7\u001b[15;53H\u001b[30;95H3\u001b[15;53H\u001b[30;96H2\u001b[15;53H\u001b[30;97H/\u001b[15;53H\u001b[30;98He\u001b[15;53H\u001b[30;99H5\u001b[15;53H\u001b[30;100Hd\u001b[15;53H\u001b[30;101H0\u001b[15;53H\u001b[30;93H732/e5d0^[\u001b[15;53H"]
[0.000, "o", "\u001b[30;93H          \u001b[15;53H\u001b[?25h"]
[0.014, "o", "\u001bP+q6b32\u001b\\"]
[0.000, "o", "\u001bP+q6b33\u001b\\\u001bP+q6b34\u001b\\"]
[0.000, "o", "\u001b[?25l\u001b[30;93H7\u001b[15;53H\u001b[30;94H2\u001b[15;53H\u001b[30;95H=\u001b[15;53H\u001b[30;96H1\u001b[15;53H\u001b[30;97HB\u001b[15;53H\u001b[30;98H4\u001b[15;53H\u001b[30;99HF\u001b[15;53H\u001b[30;100H4\u001b[15;53H\u001b[30;101H3\u001b[15;53H\u001b[30;93H2=1B4F43^[\u001b[15;53H"]
[0.000, "o", "\u001b[30;93H          \u001b[15;53H\u001bP+q6b35\u001b\\"]
[0.000, "o", "\u001bP+q6b36\u001b\\"]
[0.000, "o", "\u001bP+q6b37\u001b\\"]
[0.000, "o", "\u001b[30;93H^[\u001b[15;53H\u001b[30;95HP\u001b[15;53H\u001b[30;96H1\u001b[15;53H\u001b[30;97H+\u001b[15;53H"]
[0.000, "o", "\u001b[30;93H     \u001b[15;53H\u001bP+q6b38\u001b\\\u001bP+q6b39\u001b\\"]
[0.000, "o", "\u001b[30;93H1\u001b[15;53H\u001b[30;94H+\u001b[15;53H\u001b[30;95Hr\u001b[15;53H\u001b[30;96H2\u001b[15;53H\u001b[30;97HA\u001b[15;53H\u001b[30;98H3\u001b[15;53H\u001b[30;99H7\u001b[15;53H\u001b[30;100H=\u001b[15;53H\u001b[30;101H1\u001b[15;53H\u001b[30;102HB\u001b[15;53H\u001b[30;93H          \u001b[15;53H\u001bP+q6b3b\u001b\\"]
[0.000, "o", "\u001bP+q4631\u001b\\\u001b[?25h"]
[0.016, "o", "\u001bP+q4632\u001b\\\u001bP+q2531\u001b\\\u001bP+q2638\u001b\\\u001b[?25l\u001b[30;93H^[\u001b[15;53H\u001b[30;95HP\u001b[15;53H\u001b[30;96H1\u001b[15;53H\u001b[30;97H+\u001b[15;53H\u001b[30;98Hr\u001b[15;53H"]
[0.000, "o", "\u001b[30;93H      \u001b[15;53H\u001bP+q6b62\u001b\\"]
[0.000, "o", "\u001bP+q6b49\u001b\\"]
[0.000, "o", "\u001bP+q6b44\u001b\\"]
[0.000, "o", "\u001b[30;93H^[\u001b[15;53H\u001b[30;95HP\u001b[15;53H\u001b[30;96H1\u001b[15;53H\u001b[30;97H+\u001b[15;53H\u001b[30;98Hr\u001b[15;53H\u001b[30;99H6\u001b[15;53H\u001b[30;100HB\u001b[15;53H\u001b[30;101H3\u001b[15;53H\u001b[30;93H         \u001b[15;53H\u001bP+q6b68\u001b\\"]
[0.000, "o", "\u001bP+q4037\u001b\\\u001bP+q6b50\u001b\\"]
[0.000, "o", "\u001b[30;93H^[\u001b[15;53H\u001b[30;95HP\u001b[15;53H\u001b[30;96H1\u001b[15;53H\u001b[30;97H+\u001b[15;53H\u001b[30;98Hr\u001b[15;53H\u001b[30;99H4\u001b[15;53H\u001b[30;100H6\u001b[15;53H\u001b[30;101H3\u001b[15;53H\u001b[30;102H1\u001b[15;53H\u001b[30;93H[P1+r4631=\u001b[15;53H\u001b[30;93H          \u001b[15;53H\u001bP+q6b4e\u001b\\\u001b[?25h"]
[0.018, "o", "\u001bP+q4b31\u001b\\\u001bP+q4b33\u001b\\\u001bP+q4b34\u001b\\"]
[0.017, "o", "\u001bP+q4b35\u001b\\\u001bP+q6b42\u001b\\\u001bP+q5053\u001b\\\u001b[?25l\u001b[30;93HP\u001b[15;53H\u001b[30;94H1\u001b[15;53H\u001b[30;95H+\u001b[15;53H\u001b[30;96Hr\u001b[15;53H\u001b[30;97H6\u001b[15;53H\u001b[30;98HB\u001b[15;53H\u001b[30;99H6\u001b[15;53H\u001b[30;100H8\u001b[15;53H\u001b[30;101H=\u001b[15;53H\u001b[30;102H1\u001b[15;53H"]
[0.000, "o", "\u001b[30;93H          \u001b[15;53H\u001bP+q5045\u001b\\"]
[0.000, "o", "\u001b[30;93H+\u001b[15;53H\u001b[30;94Hr\u001b[15;53H\u001b[30;95H6\u001b[15;53H\u001b[30;96HB\u001b[15;53H\u001b[30;97H4\u001b[15;53H\u001b[30;98HE\u001b[15;53H\u001b[30;99H=\u001b[15;53H\u001b[30;100H1\u001b[15;53H\u001b[30;101HB\u001b[15;53H\u001b[30;102H5\u001b[15;53H\u001b[30;93H          \u001b[15;53H\u001b[?25h"]
[1.050, "o", "\u001b[?25l\u001b[30;93Hk\u001b[15;53H"]
[0.002, "o", "\u001b[30;93H \u001b[14;53H\u001b[15;41H\u001b[35m{\u001b[11C}\u001b[m\u001b[30;104H4\u001b[14;53H\u001b[?25h"]
[0.236, "o", "\u001b[?25l\u001b[30;93Hk\u001b[14;53H"]
[0.000, "o", "\u001b[30;93H \u001b[13;53H\u001b[30;104H3\u001b[13;53H\u001b[?25h"]
[0.050, "o", "\u001b[?25l\u001b[30;93Hk\u001b[13;53H"]
[0.000, "o", "\u001b[30;93H \u001b[12;11H\u001b[30;104H2,11\u001b[12;11H\u001b[?25h"]
[0.022, "o", "\u001b[?25l\u001b[30;93Hk\u001b[12;11H"]
[0.000, "o", "\u001b[30;93H \u001b[11;53H\u001b[30;104H1,53\u001b[11;53H\u001b[?25h"]
[0.044, "o", "\u001b[?25l\u001b[30;93Hk\u001b[11;53H"]
[0.000, "o", "\u001b[30;93H \u001b[10;53H\u001b[30;104H0\u001b[10;53H\u001b[?25h"]
[0.021, "o", "\u001b[?25l\u001b[30;93Hk\u001b[10;53H"]
[0.000, "o", "\u001b[30;93H \u001b[9;53H\u001b[30;103H69\u001b[9;53H\u001b[?25h"]
[0.046, "o", "\u001b[?25l\u001b[30;93Hk\u001b[9;53H"]
[0.000, "o", "\u001b[30;93H \u001b[8;12H\u001b[30;104H8,12\u001b[8;12H\u001b[?25h"]
[0.022, "o", "\u001b[?25l\u001b[30;93Hk\u001b[8;12H"]
[0.000, "o", "\u001b[30;93H \u001b[7;12H\u001b[30;104H7\u001b[7;12H\u001b[?25h"]
[0.048, "o", "\u001b[?25l\u001b[30;93Hk\u001b[7;12H"]
[0.000, "o", "\u001b[30;93H \u001b[6;38H\u001b[30;104H6,38\u001b[6;38H\u001b[?25h"]
[0.020, "o", "\u001b[?25l\u001b[30;93Hk\u001b[6;38H"]
[0.001, "o", "\u001b[30;93H \u001b[6;1H\u001b[1;29r\u001b[1;1H\u001b[L\u001b[1;30r\u001b[1;9H\u001b[36mpg_vip_enabled\u001b[m\u001b[35m:\u001b[m \u001b[31mtrue\u001b[m\u001b[30;1H\u001b[K\u001b[30;103H65,0-1\u001b[8C38%\u001b[6;1H\u001b[?25h"]
[0.047, "o", "\u001b[?25l\u001b[30;93Hk\u001b[6;1H"]
[0.001, "o", "\u001b[30;93H \u001b[7;53H\u001b[1;29r\u001b[1;1H\u001b[2L\u001b[1;30r\u001b[1;11H\u001b[38;5;130m- \u001b[m\u001b[35m{\u001b[m \u001b[36muser\u001b[m\u001b[35m:\u001b[m dbuser_view , \u001b[36mdb\u001b[m\u001b[35m:\u001b[m all ,\u001b[36maddr\u001b[m\u001b[35m:\u001b[m infra ,\u001b[36mauth\u001b[m\u001b[35m:\u001b[m pwd ,\u001b[36mtitle\u001b[m\u001b[35m:\u001b[m \u001b[31m'allow grafana dashboard access cmdb from infrr\u001b[2;1Ha nodes'\u001b[m \u001b[35m}\u001b[m\u001b[30;103H\u001b[K\u001b[30;103H64,53\u001b[9C38%\u001b[7;53H\u001b[?25h"]
[0.019, "o", "\u001b[?25l\u001b[30;93Hk\u001b[7;53H"]
[0.000, "o", "\u001b[30;93H \u001b[6;53H\u001b[30;104H3\u001b[6;53H\u001b[?25h"]
[0.049, "o", "\u001b[?25l\u001b[30;93Hk\u001b[6;53H"]
[0.000, "o", "\u001b[30;93H \u001b[6;30H\u001b[1;29r\u001b[1;1H\u001b[L\u001b[1;30r\u001b[1;9H\u001b[36mpg_hba_rules\u001b[m\u001b[35m:\u001b[m\u001b[30;103H\u001b[K\u001b[30;103H62,30\u001b[9C37%\u001b[6;30H\u001b[?25h"]
[0.023, "o", "\u001b[?25l\u001b[30;93Hk\u001b[6;30H"]
[0.001, "o", "\u001b[30;93H \u001b[6;37H\u001b[1;29r\u001b[1;1H\u001b[L\u001b[1;30r\u001b[1;11H\u001b[38;5;130m- \u001b[m\u001b[35m{\u001b[m \u001b[36mname\u001b[m\u001b[35m:\u001b[m meta ,\u001b[36mbaseline\u001b[m\u001b[35m:\u001b[m cmdb.sql ,\u001b[36mcomment\u001b[m\u001b[35m:\u001b[m pigsty meta database ,\u001b[36mschemas\u001b[m\u001b[35m:\u001b[m \u001b[35m[\u001b[m pigsty \u001b[35m]\u001b[m \u001b[35m}\u001b[m\u001b[30;103H\u001b[K\u001b[30;103H61,37\u001b[9C36%\u001b[6;37H\u001b[?25h"]
[0.041, "o", "\u001b[?25l\u001b[30;93Hk\u001b[6;37H"]
[0.000, "o", "\u001b[30;93H \u001b[6;28H\u001b[1;29r\u001b[1;1H\u001b[L\u001b[1;30r\u001b[1;9H\u001b[36mpg_databases\u001b[m\u001b[35m:\u001b[m\u001b[30;103H\u001b[K\u001b[30;103H60,28\u001b[9C36%\u001b[6;28H\u001b[?25h"]
[0.024, "o", "\u001b[?25l\u001b[30;93Hk\u001b[6;28H"]
[0.002, "o", "\u001b[30;93H \u001b[6;53H\u001b[1;29r\u001b[1;1H\u001b[2L\u001b[1;30r\u001b[1;11H\u001b[38;5;130m- \u001b[m\u001b[35m{\u001b[m \u001b[36mname\u001b[m\u001b[35m:\u001b[m dbuser_view ,\u001b[36mpassword\u001b[m\u001b[35m:\u001b[m DBUser.Viewer   ,\u001b[36mpgbouncer\u001b[m\u001b[35m:\u001b[m \u001b[31mtrue\u001b[m ,\u001b[36mroles\u001b[m\u001b[35m:\u001b[m \u001b[35m[\u001b[m dbrole_readonly \u001b[35m]\u001b[m ,\u001b[36mcomment\u001b[m\u001b[35m:\u001b[m read-oo\u001b[2;1Hnly viewer for meta database \u001b[35m}\u001b[m\u001b[30;103H\u001b[K\u001b[30;103H59,53\u001b[9C35%\u001b[6;53H\u001b[?25h"]
[0.023, "o", "\u001b[?25l\u001b[30;93Hk\u001b[6;53H"]
[0.001, "o", "\u001b[30;93H \u001b[7;21H\u001b[1;29r\u001b[1;1H\u001b[2L\u001b[1;30r\u001b[1;11H\u001b[38;5;130m- \u001b[m\u001b[35m{\u001b[m \u001b[36mname\u001b[m\u001b[35m:\u001b[m dbuser_new ,\u001b[36mpassword\u001b[m\u001b[35m:\u001b[m DBUser.NEw   ,\u001b[36mpgbouncer\u001b[m\u001b[35m:\u001b[m \u001b[31mtrue\u001b[m ,\u001b[36mroles\u001b[m\u001b[35m:\u001b[m \u001b[35m[\u001b[m dbrole_readwrite \u001b[35m]\u001b[m    ,\u001b[36mcomment\u001b[m\u001b[35m:\u001b[m pigstyy\u001b[2;1H rw user \u001b[35m}\u001b[m\u001b[30;103H\u001b[K\u001b[30;103H58,21\u001b[9C34%\u001b[7;21H\u001b[?25h"]
[0.046, "o", "\u001b[?25l\u001b[30;93Hk\u001b[7;21H"]
[0.001, "o", "\u001b[30;93H \u001b[6;53H\u001b[30;104H7,53\u001b[6;53H\u001b[?25h"]
[0.022, "o", "\u001b[?25l\u001b[30;93Hk\u001b[6;53H"]
[0.001, "o", "\u001b[30;93H \u001b[7;21H\u001b[1;29r\u001b[1;1H\u001b[2L\u001b[1;30r\u001b[1;11H\u001b[38;5;130m- \u001b[m\u001b[35m{\u001b[m \u001b[36mname\u001b[m\u001b[35m:\u001b[m dbuser_meta ,\u001b[36mpassword\u001b[m\u001b[35m:\u001b[m DBUser.Meta     ,\u001b[36mpgbouncer\u001b[m\u001b[35m:\u001b[m \u001b[31mtrue\u001b[m ,\u001b[36mroles\u001b[m\u001b[35m:\u001b[m \u001b[35m[\u001b[m dbrole_admin \u001b[35m]\u001b[m    ,\u001b[36mcomment\u001b[m\u001b[35m:\u001b[m pigstyy\u001b[2;1H admin user \u001b[35m}\u001b[m\u001b[30;103H\u001b[K\u001b[30;103H56,21\u001b[9C33%\u001b[7;21H\u001b[?25h"]
[0.046, "o", "\u001b[?25l\u001b[30;93Hk\u001b[7;21H"]
[0.000, "o", "\u001b[30;93H \u001b[6;53H\u001b[1;29r\u001b[1;1H\u001b[L\u001b[1;30r\u001b[1;9H\u001b[36mpg_users\u001b[m\u001b[35m:\u001b[m\u001b[30;103H\u001b[K\u001b[30;103H55,53\u001b[9C32%\u001b[6;53H\u001b[?25h"]
[0.021, "o", "\u001b[?25l\u001b[30;93Hk\u001b[6;53H"]
[0.000, "o", "\u001b[30;93H \u001b[6;53H\u001b[1;29r\u001b[1;1H\u001b[2L\u001b[1;30r\u001b[1;7H\u001b[36mvars\u001b[m\u001b[35m:\u001b[m\u001b[2;9H\u001b[36mpg_cluster\u001b[m\u001b[35m:\u001b[m pg-meta\u001b[30;103H\u001b[K\u001b[30;103H54,53\u001b[9C31%\u001b[6;53H\u001b[?25h"]
[0.050, "o", "\u001b[?25l\u001b[30;93Hk\u001b[6;53H"]
[0.001, "o", "\u001b[30;93H \u001b[6;53H\u001b[1;29r\u001b[1;1H\u001b[2L\u001b[1;30r\u001b[1;7H\u001b[36mhosts\u001b[m\u001b[35m:\u001b[m\u001b[2;9H\u001b[36m10.10.10.10\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[36mpg_seq\u001b[m\u001b[35m:\u001b[m \u001b[31m1\u001b[m, \u001b[36mpg_role\u001b[m\u001b[35m:\u001b[m primary \u001b[35m}\u001b[m\u001b[30;103H\u001b[K\u001b[30;103H53,53\u001b[9C30%\u001b[6;53H\u001b[?25h"]
[0.019, "o", "\u001b[?25l\u001b[30;93Hk\u001b[6;53H"]
[0.001, "o", "\u001b[30;93H \u001b[6;17H\u001b[1;29r\u001b[1;1H\u001b[L\u001b[1;30r\u001b[1;5H\u001b[36mpg-meta\u001b[m\u001b[35m:\u001b[m\u001b[30;103H\u001b[K\u001b[30;103H52,17\u001b[9C29%\u001b[6;17H\u001b[?25h"]
[0.045, "o", "\u001b[?25l\u001b[30;93Hk\u001b[6;17H"]
[0.000, "o", "\u001b[30;93H \u001b[6;27H\u001b[1;29r\u001b[1;1H\u001b[L\u001b[1;30r\u001b[1;4H\u001b[34m # postgres cluster: pg-meta\u001b[m\u001b[30;103H\u001b[K\u001b[30;103H51,27\u001b[9C29%\u001b[6;27H\u001b[?25h"]
[0.020, "o", "\u001b[?25l\u001b[30;93Hk\u001b[6;27H"]
[0.000, "o", "\u001b[30;93H \u001b[6;11H\u001b[1;29r\u001b[1;1H\u001b[L\u001b[1;30r\u001b[30;103H\u001b[K\u001b[30;103H50,11\u001b[9C28%\u001b[6;11H\u001b[?25h"]
[0.049, "o", "\u001b[?25l\u001b[30;93Hk\u001b[6;11H"]
[0.003, "o", "\u001b[30;93H \u001b[6;52H\u001b[1;29r\u001b[1;1H\u001b[L\u001b[1;30r\u001b[1;11H\u001b[38;5;130m- \u001b[m\u001b[35m{\u001b[m \u001b[36maccess_key\u001b[m\u001b[35m:\u001b[m s3user_data ,\u001b[36msecret_key\u001b[m\u001b[35m:\u001b[m S3User.Data   ,\u001b[36mpolicy\u001b[m\u001b[35m:\u001b[m data  \u001b[35m}\u001b[m\u001b[6;22H\u001b[35m\u001b[106m{\u001b[29C}\u001b[m\u001b[30;103H\u001b[K\u001b[30;103H49,52\u001b[9C27%\u001b[6;52H\u001b[?25h"]
[0.018, "o", "\u001b[?25l\u001b[30;93Hk\u001b[6;52H"]
[0.001, "o", "\u001b[30;93H \u001b[6;12H\u001b[1;29r\u001b[1;1H\u001b[L\u001b[1;30r\u001b[1;11H\u001b[38;5;130m- \u001b[m\u001b[35m{\u001b[m \u001b[36maccess_key\u001b[m\u001b[35m:\u001b[m s3user_meta ,\u001b[36msecret_key\u001b[m\u001b[35m:\u001b[m S3User.Meta   ,\u001b[36mpolicy\u001b[m\u001b[35m:\u001b[m meta  \u001b[35m}\u001b[7;22H{\u001b[29C}\u001b[m\u001b[30;103H\u001b[K\u001b[30;103H48,12\u001b[9C27%\u001b[6;12H\u001b[?25h"]
[0.390, "o", "\u001b[?25l\u001b[30;93Hj\u001b[6;12H"]
[0.002, "o", "\u001b[30;93H \u001b[7;52H\u001b[7;22H\u001b[35m\u001b[106m{\u001b[29C}\u001b[m\u001b[30;104H9,5\u001b[7;52H\u001b[?25h"]
[0.246, "o", "\u001b[?25l\u001b[30;93Hj\u001b[7;52H"]
[0.001, "o", "\u001b[30;93H \u001b[8;11H\u001b[7;22H\u001b[35m{\u001b[29C}\u001b[m\u001b[30;103H50,11\u001b[8;11H\u001b[?25h"]
[0.043, "o", "\u001b[?25l\u001b[30;93Hj\u001b[8;11H"]
[0.000, "o", "\u001b[30;93H \u001b[9;27H\u001b[30;104H1,27\u001b[9;27H\u001b[?25h"]
[0.120, "o", "\u001b[?25l\u001b[30;93Hj\u001b[9;27H"]
[0.001, "o", "\u001b[30;93H \u001b[10;17H\u001b[30;104H2,1\u001b[10;17H\u001b[?25h"]
[0.355, "o", "\u001b[?25l\u001b[30;93Hk\u001b[10;17H"]
[0.000, "o", "\u001b[30;93H \u001b[9;27H\u001b[30;104H1,2\u001b[9;27H\u001b[?25h"]
[0.840, "o", "\u001b[?25l\u001b[30;93Ho\u001b[9;27H"]
[0.002, "o", "\u001b[30;93H \u001b[10;11H\u001b[30;1H\u001b[1m-- INSERT --\u001b[m\u001b[30;103H\u001b[K\u001b[30;103H52,11\u001b[9C26%\u001b[10;29r\u001b[10;1H\u001b[L\u001b[1;30r\u001b[30;103H\u001b[K\u001b[30;103H52,11\u001b[9C26%\u001b[10;11H\u001b[?25h"]
[0.628, "o", "\u001b[?25l\u001b[36mpg_extensions\u001b[m\u001b[35m:\u001b[m \u001b[35m[\u001b[m postgis, pgrouting, pointcloud\u001b[12;11H- \u001b[107Cyy\u001b[13;1H \u001b[14;11H- \u001b[107Cyy\u001b[15;1H \u001b[16;11H- \u001b[107Coo\u001b[17;1Hn\u001b[19;11H- \u001b[21;11H- \u001b[107C\u001b[31mrr\u001b[22;1Ha\u001b[m\u001b[27;11H- \u001b[10;58H\u001b[?25h"]
[0.002, "o", "\u001b[?25l \u001b[35m]\u001b[m\u001b[12;11H\u001b[38;5;130m- \u001b[m\u001b[107Cyy\u001b[13;1H \u001b[14;11H\u001b[38;5;130m- \u001b[m\u001b[107Cyy\u001b[15;1H \u001b[16;11H\u001b[38;5;130m- \u001b[m\u001b[107Coo\u001b[17;1Hn\u001b[19;11H\u001b[38;5;130m- \u001b[21;11H- \u001b[m\u001b[107C\u001b[31mrr\u001b[22;1Ha\u001b[m\u001b[27;11H\u001b[38;5;130m- \u001b[m\u001b[10;26H\u001b[35m\u001b[106m[\u001b[32C]\u001b[m\u001b[30;106H60\u001b[10;60H\u001b[?25h"]
[0.469, "o", "\u001b[?25l\u001b[10;26H\u001b[35m[\u001b[32C]\u001b[m\u001b[30;106H1 \u001b[10;1H\u001b[?25h"]
[0.346, "o", "\u001b[?25l\u001b[9C\u001b[36mpg_extensions\u001b[m\u001b[35m:\u001b[m \u001b[35m[\u001b[m postgis, pgrouting, pointcloud \u001b[35m]\u001b[m\u001b[10;59H\u001b[K\u001b[10;1H\u001b[?25h"]
[0.121, "o", "\u001b[?25l\u001b[8C\u001b[36mpg_extensions\u001b[m\u001b[35m:\u001b[m \u001b[35m[\u001b[m postgis, pgrouting, pointcloud \u001b[35m]\u001b[m\u001b[10;58H\u001b[K\u001b[10;1H\u001b[?25h"]
[0.568, "o", "\u001b[?25l\u001b[23C\u001b[35m\u001b[106m[\u001b[32C]\u001b[m\u001b[30;106H58\u001b[10;58H\u001b[?25h"]
[0.407, "o", "\u001b[30;1H\u001b[K\u001b[10;57H\u001b[?25l\u001b[30;93H^[\u001b[10;57H"]
[0.100, "o", "\u001b[30;93H  \u001b[10;58H"]
[0.001, "o", "\u001b[30;103H52,57\u001b[9C26%\u001b[10;57H\u001b[?25h"]
[0.281, "o", "\u001b[?25l\u001b[30;93H:\u001b[10;57H\u001b[30;93H\u001b[K\u001b[30;1H:\u001b[?25h"]
[0.192, "o", "w"]
[0.070, "o", "q"]
[0.096, "o", "\r"]
[0.000, "o", "\u001b[?25l\u001b[?2004l\u001b[>4;m"]
[0.000, "o", "\"pigsty.yml\""]
[0.003, "o", " 181L, 9890B written"]
[0.000, "o", "\r\u001b[23;2t\u001b[23;1t\r\r\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m"]
[0.002, "o", "\u001b[?2004h\u001b]0;vonng@vonng-aimax: ~/pigsty\u0007\u001b[01;32mvonng@vonng-aimax\u001b[00m:\u001b[01;34m~/pigsty\u001b[00m$ "]
[0.985, "o", "b"]
[0.160, "o", "i"]
[0.096, "o", "n"]
[0.022, "o", "/"]
[0.272, "o", "p"]
[0.167, "o", "g"]
[0.068, "o", "s"]
[0.167, "o", "q"]
[0.049, "o", "l"]
[0.187, "o", "-"]
[0.119, "o", "e"]
[0.189, "o", "x"]
[0.071, "o", "t"]
[0.224, "o", " "]
[0.767, "o", "p"]
[0.098, "o", "g"]
[0.172, "o", "-"]
[0.167, "o", "m"]
[0.047, "o", "e"]
[0.093, "o", "t"]
[0.047, "o", "a"]
[0.126, "o", "\r\n"]
[0.000, "o", "\u001b[?2004l\r"]
[0.004, "o", "\u001b[0;35m[EXECUTE] ===========================================\u001b[0m\r\n[\u001b[0;33mWARN\u001b[0m] \u001b[0;33minstall extensions for cluster 'pg-meta'\u001b[0m\r\n\u001b[0;34m$ ./pgsql.yml -l 'pg-meta' -t pg_ext\u001b[0m\r\n"]
[0.272, "o", "\r\nPLAY [PGSQL] ***********************************************************************************************************\r\n"]
[0.020, "o", "\r\nTASK [node_id : get node fact] *****************************************************************************************\r\n"]
[0.637, "o", "\u001b[0;33mchanged: [10.10.10.10]\u001b[0m\r\n"]
[0.001, "o", "\r\nTASK [node_id : set node fact] *****************************************************************************************\r\n"]
[0.018, "o", "\u001b[0;32mok: [10.10.10.10]\u001b[0m\r\n"]
[0.001, "o", "\r\nTASK [node_id : fill empty nodename with hostname] *********************************************************************\r\n"]
[0.015, "o", "\u001b[0;36mskipping: [10.10.10.10]\u001b[0m\r\n"]
[0.001, "o", "\r\nTASK [node_id : build node identity] ***********************************************************************************\r\n"]
[0.021, "o", "\u001b[0;32mok: [10.10.10.10]\u001b[0m\r\n"]
[0.002, "o", "\r\nTASK [node_id : load roles/node_id/vars/u24.x86_64.yml] ****************************************************************\r\n"]
[0.015, "o", "\u001b[0;32mok: [10.10.10.10]\u001b[0m\r\n"]
[0.002, "o", "\r\nTASK [node_id : fallback to u24.x86_64.yml if u24.x86_64.yml not exists] ***********************************************\r\n"]
[0.009, "o", "\u001b[0;36mskipping: [10.10.10.10]\u001b[0m\r\n"]
[0.001, "o", "\r\nTASK [node_id : print node identity] ***********************************************************************************\r\n"]
[0.017, "o", "\u001b[0;32mok: [10.10.10.10] => {\u001b[0m\r\n\u001b[0;32m    \"msg\": \"nodename: pg-meta-1, node_cluster: pg-meta, spec: c8m16, os: ubuntu.24.x86_64 u24:deb, [ADMIN] [INFRA] [PGSQL: pg-meta] [REDIS: redis-ms] [ETCD: etcd] [MINIO: minio]  \"\u001b[0m\r\n\u001b[0;32m}\u001b[0m\r\n"]
[0.001, "o", "\r\nTASK [pg_id : get pgsql identity] **************************************************************************************\r\n"]
[0.051, "o", "\u001b[0;32mok: [10.10.10.10]\u001b[0m\r\n"]
[0.001, "o", "\r\nTASK [pg_id : build pgsql identity] ************************************************************************************\r\n"]
[0.051, "o", "\u001b[0;32mok: [10.10.10.10]\u001b[0m\r\n"]
[0.001, "o", "\r\nTASK [pg_id : print pgsql identity] ************************************************************************************\r\n"]
[0.042, "o", "\u001b[0;32mok: [10.10.10.10] => {\u001b[0m\r\n\u001b[0;32m    \"msg\": \"  [primary] pg-meta-1 @ 10.10.10.10 , ins = pg-meta-1 , cls = pg-meta ,  CLUSTER LEADER @ pg-meta-1    , postgres://10.10.10.10:5432/postgres\"\u001b[0m\r\n\u001b[0;32m}\u001b[0m\r\n"]
[0.001, "o", "\r\nTASK [pgsql : lookup pg packages & extensions names] *******************************************************************\r\n"]
[0.021, "o", "\u001b[0;32mok: [10.10.10.10]\u001b[0m\r\n"]
[0.001, "o", "\r\nTASK [pgsql : install postgres extensions] *****************************************************************************\r\n"]
[18.147, "o", "\u001b[0;33mchanged: [10.10.10.10] => (item=postgresql-18-postgis-3)\u001b[0m\r\n"]
[6.472, "o", "\u001b[0;33mchanged: [10.10.10.10] => (item=postgresql-18-pgrouting)\u001b[0m\r\n"]
[6.177, "o", "\u001b[0;33mchanged: [10.10.10.10] => (item=postgresql-18-pointcloud)\u001b[0m\r\n"]
[0.004, "o", "\r\nPLAY RECAP *************************************************************************************************************\r\n"]
[0.000, "o", "\u001b[0;33m10.10.10.10\u001b[0m                : \u001b[0;32mok=10  \u001b[0m \u001b[0;33mchanged=2   \u001b[0m unreachable=0    failed=0    \u001b[0;36mskipped=2   \u001b[0m rescued=0    ignored=0   \r\n"]
[0.000, "o", "\r\n"]
[0.051, "o", "\u001b[0;35m[SUMMARY] ===========================================\u001b[0m\r\n[\u001b[0;32m OK \u001b[0m] \u001b[0;32minstall extensions for 'pg-meta' complete\u001b[0m\r\n"]
[0.001, "o", "\u001b[?2004h\u001b]0;vonng@vonng-aimax: ~/pigsty\u0007\u001b[01;32mvonng@vonng-aimax\u001b[00m:\u001b[01;34m~/pigsty\u001b[00m$ "]
[4.937, "o", "\u001b[?2004l\r\r\n"]
[0.000, "o", "exit\r\n"]
[0.001, "x", "0"]
