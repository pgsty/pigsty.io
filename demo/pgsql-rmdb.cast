{"version":3,"term":{"cols":120,"rows":30,"type":"xterm-256color","version":"iTerm2 3.5.14","theme":{"fg":"#697a82","bg":"#fcf7e5","palette":"#163540:#cb4238:#89982d:#ae8b2c:#4689cd:#c34380:#519f98:#ede9d7:#0d2a34:#bc5329:#5c6d74:#697a82:#869496:#6d71bf:#96a1a1:#fcf7e5"}},"timestamp":1768187473,"idle_time_limit":0.5,"title":"pgsql-rmdb","env":{"SHELL":"/bin/bash"}}
[0.013, "o", "\u001b[?2004h\u001b]0;vonng@vonng-aimax: ~/pigsty\u0007\u001b[01;32mvonng@vonng-aimax\u001b[00m:\u001b[01;34m~/pigsty\u001b[00m$ "]
[0.288, "o", "v"]
[0.110, "o", "i"]
[0.096, "o", " "]
[0.078, "o", "p"]
[0.048, "o", "i"]
[0.074, "o", "gsty.yml "]
[0.159, "o", "\r\n"]
[0.000, "o", "\u001b[?2004l\r"]
[0.010, "o", "\u001b[?1049h\u001b[22;0;0t\u001b[>4;2m\u001b[?1h\u001b=\u001b[?2004h\u001b[?1004h\u001b[1;30r\u001b[?12h\u001b[?12l\u001b[22;2t\u001b[22;1t"]
[0.000, "o", "\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[30;1H\"pigsty.yml\""]
[0.000, "o", " 180L, 9847B"]
[0.001, "o", "\u001b[2;1Hâ–½\u001b[6n\u001b[2;1H  \u001b[3;1H\u001bPzz\u001b\\\u001b[0%m\u001b[6n\u001b[3;1H           \u001b[1;1H\u001b[>c\u001b]10;?\u0007\u001b]11;?\u0007"]
[0.006, "o", "\u001b[1;9H\u001b[36mpg_vip_address\u001b[m\u001b[35m:\u001b[m 10.10.10.2/24\r\n        \u001b[36mpg_vip_interface\u001b[m\u001b[35m:\u001b[m eth1\u001b[2;31H\u001b[K\u001b[3;1H        \u001b[36mnode_crontab\u001b[m\u001b[35m:\u001b[m \u001b[34m # make a full backup 1 am everyday\u001b[m\u001b[3;58H\u001b[K\u001b[4;11H\u001b[38;5;130m- \u001b[m\u001b[31m'00 01 * * * postgres /pg/bin/pg-backup full'\u001b[m\u001b[6;4H\u001b[34m # pgsql 3 node ha cluster: pg-test\u001b[m\r\n    \u001b[36mpg-test\u001b[m\u001b[35m:\u001b[m\u001b[8;7H\u001b[36mhosts\u001b[m\u001b[35m:\u001b[m\u001b[9;9H\u001b[36m10.10.10.11\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[36mpg_seq\u001b[m\u001b[35m:\u001b[m \u001b[31m1\u001b[m, \u001b[36mpg_role\u001b[m\u001b[35m:\u001b[m primary \u001b[35m}\u001b[m  \u001b[34m # primary instance, leader of cluster\u001b[m\u001b[10;9H\u001b[36m10.10.10.12\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[36mpg_seq\u001b[m\u001b[35m:\u001b[m \u001b[31m2\u001b[m, \u001b[36mpg_role\u001b[m\u001b[35m:\u001b[m replica \u001b[35m}\u001b[m  \u001b[34m # replica instance, follower of leader\u001b[m\u001b[11;9H\u001b[36m10.10.10.13\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[36mpg_seq\u001b[m\u001b[35m:\u001b[m \u001b[31m3\u001b[m, \u001b[36mpg_role\u001b[m\u001b[35m:\u001b[m replica, \u001b[36mpg_offline_query\u001b[m\u001b[35m:\u001b[m \u001b[31mtrue\u001b[m \u001b[35m}\u001b[m\u001b[34m # replica with offline access\u001b[m\u001b[12;7H\u001b[36mvars\u001b[m\u001b[35m:\u001b[m\u001b[13;9H\u001b[36mpg_cluster\u001b[m\u001b[35m:\u001b[m pg-test\u001b[10C\u001b[34m # define pgsql cluster name\u001b[m\u001b[14;9H\u001b[36mpg_users\u001b[m\u001b[35m:\u001b[m  \u001b[35m[{\u001b[m \u001b[36mname\u001b[m\u001b[35m:\u001b[m test , \u001b[36mpassword\u001b[m\u001b[35m:\u001b[m test , \u001b[36mpgbouncer\u001b[m\u001b[35m:\u001b[m \u001b[31mtrue\u001b[m , \u001b[36mroles\u001b[m\u001b[35m:\u001b[m \u001b[35m[\u001b[m dbrole_admin \u001b[35m]\u001b[m \u001b[35m}]\u001b[m\u001b[15;9H\u001b[36mpg_databases\u001b[m\u001b[35m:\u001b[m \u001b[35m[{\u001b[m \u001b[36mname\u001b[m\u001b[35m:\u001b[m test \u001b[35m}\u001b[m, \u001b[35m{\u001b[m\u001b[36mname\u001b[m\u001b[35m:\u001b[m test2, \u001b[36mtemplate\u001b[m\u001b[35m:\u001b[m test\u001b[35m}\u001b[m \u001b[35m]\u001b[m\u001b[16;9H\u001b[36mpg_vip_enabled\u001b[m\u001b[35m:\u001b[m \u001b[31mtrue\u001b[m\u001b[17;9H\u001b[36mpg_vip_address\u001b[m\u001b[35m:\u001b[m 10.10.10.3/24\u001b[18;9H\u001b[36mpg_vip_interface\u001b[m\u001b[35m:\u001b[m eth1\u001b[19;9H\u001b[36mnode_crontab\u001b[m\u001b[35m:\u001b[m \u001b[34m # make a full backup on monday 1am, and an incremental backup during weekdays\u001b[m\u001b[20;11H\u001b[38;5;130m- \u001b[m\u001b[31m'00 01 * * 1 postgres /pg/bin/pg-backup full'\u001b[m\u001b[21;11H\u001b[38;5;130m- \u001b[m\u001b[31m'00 01 * * 2,3,4,5,6,7 postgres /pg/bin/pg-backup'\u001b[m\u001b[23;4H\u001b[34m #----------------------------------#\r\n\u001b[m   \u001b[34m # redis ms, sentinel, native cluster\r\n"]
[0.002, "o", "\u001b[m   \u001b[34m #----------------------------------#\u001b[m\r\n    \u001b[36mredis-ms\u001b[m\u001b[35m:\u001b[m\u001b[34m # redis classic primary & replica\u001b[m\u001b[27;7H\u001b[36mhosts\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[36m10.10.10.10\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[36mredis_node\u001b[m\u001b[35m:\u001b[m \u001b[31m1\u001b[m , \u001b[36mredis_instances\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[36m6379\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[35m}\u001b[m, \u001b[36m6380\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[36mreplica_of\u001b[m\u001b[35m:\u001b[m \u001b[31m'10.10.10.10 6379'\u001b[m \u001b[35m}\u001b[m \u001b[35m}\u001b[m \u001b[35m}}\u001b[m\u001b[28;1H \u001b[35m}\u001b[m\u001b[29;7H\u001b[36mvars\u001b[m\u001b[35m:\u001b[m \u001b[35m{\u001b[m \u001b[36mredis_cluster\u001b[m\u001b[35m:\u001b[m redis-ms ,\u001b[36mredis_password\u001b[m\u001b[35m:\u001b[m \u001b[31m'redis.ms'\u001b[m ,\u001b[36mredis_max_memory\u001b[m\u001b[35m:\u001b[m 64MB \u001b[35m}\u001b[m\u001b[30;103H75,54\u001b[9C39%\u001b[15;54H\u001b[?25h\u001b[?4m"]
[0.067, "o", "\u001bP+q436f\u001b\\\u001bP+q6b75\u001b\\\u001bP+q6b64\u001b\\\u001bP+q6b72\u001b\\\u001bP+q6b6c\u001b\\\u001bP+q2332\u001b\\\u001bP+q2334\u001b\\\u001bP+q2569\u001b\\\u001bP+q2a37\u001b\\\u001bP+q6b31\u001b\\\u001bP$q q\u001b\\\u001b[?12$p"]
[0.000, "o", "\u001b[?25l\u001b[30;93Hf\u001b[15;54H\u001b[30;94H7\u001b[15;54H\u001b[30;95H3\u001b[15;54H\u001b[30;96H2\u001b[15;54H\u001b[30;97H/\u001b[15;54H\u001b[30;98He\u001b[15;54H\u001b[30;99H5\u001b[15;54H\u001b[30;100Hd\u001b[15;54H\u001b[30;101H0\u001b[15;54H\u001b[30;93H732/e5d0^[\u001b[15;54H\u001b[30;93H          \u001b[15;54H\u001b[?25h"]
[0.016, "o", "\u001bP+q6b32\u001b\\\u001bP+q6b33\u001b\\"]
[0.000, "o", "\u001bP+q6b34\u001b\\"]
[0.000, "o", "\u001b[?25l\u001b[30;93H7\u001b[15;54H\u001b[30;94H2\u001b[15;54H\u001b[30;95H=\u001b[15;54H\u001b[30;96H1\u001b[15;54H\u001b[30;97HB\u001b[15;54H\u001b[30;98H4\u001b[15;54H\u001b[30;99HF\u001b[15;54H\u001b[30;100H4\u001b[15;54H\u001b[30;101H3\u001b[15;54H\u001b[30;93H2=1B4F43^[\u001b[15;54H\u001b[30;93H          \u001b[15;54H\u001bP+q6b35\u001b\\\u001bP+q6b36\u001b\\\u001bP+q6b37\u001b\\"]
[0.000, "o", "\u001b[30;93H^[\u001b[15;54H\u001b[30;95HP\u001b[15;54H\u001b[30;96H1\u001b[15;54H\u001b[30;97H+\u001b[15;54H\u001b[30;93H     \u001b[15;54H\u001bP+q6b38\u001b\\\u001bP+q6b39\u001b\\"]
[0.000, "o", "\u001b[30;93H1\u001b[15;54H\u001b[30;94H+\u001b[15;54H\u001b[30;95Hr\u001b[15;54H\u001b[30;96H2\u001b[15;54H\u001b[30;97HA\u001b[15;54H\u001b[30;98H3\u001b[15;54H\u001b[30;99H7\u001b[15;54H\u001b[30;100H=\u001b[15;54H\u001b[30;101H1\u001b[15;54H\u001b[30;102HB\u001b[15;54H"]
[0.000, "o", "\u001b[30;93H          \u001b[15;54H\u001bP+q6b3b\u001b\\"]
[0.000, "o", "\u001bP+q4631\u001b\\"]
[0.000, "o", "\u001b[?25h"]
[0.022, "o", "\u001bP+q4632\u001b\\\u001bP+q2531\u001b\\\u001bP+q2638\u001b\\\u001b[?25l\u001b[30;93HP\u001b[15;54H\u001b[30;94H1\u001b[15;54H\u001b[30;95H+\u001b[15;54H\u001b[30;96Hr\u001b[15;54H\u001b[30;97H6\u001b[15;54H\u001b[30;98HB\u001b[15;54H\u001b[30;99H3\u001b[15;54H\u001b[30;100H5\u001b[15;54H\u001b[30;101H=\u001b[15;54H\u001b[30;102H1\u001b[15;54H\u001b[30;93H          \u001b[15;54H\u001bP+q6b62\u001b\\\u001bP+q6b49\u001b\\"]
[0.000, "o", "\u001bP+q6b44\u001b\\"]
[0.000, "o", "\u001b[30;93H1\u001b[15;54H\u001b[30;94H+\u001b[15;54H\u001b[30;95Hr\u001b[15;54H\u001b[30;96H6\u001b[15;54H\u001b[30;97HB\u001b[15;54H\u001b[30;98H3\u001b[15;54H\u001b[30;99H8\u001b[15;54H\u001b[30;100H=\u001b[15;54H\u001b[30;101H1\u001b[15;54H\u001b[30;102HB\u001b[15;54H"]
[0.000, "o", "\u001b[30;93H          \u001b[15;54H\u001bP+q6b68\u001b\\\u001bP+q4037\u001b\\"]
[0.000, "o", "\u001bP+q6b50\u001b\\"]
[0.000, "o", "\u001b[30;93H+\u001b[15;54H\u001b[30;94Hr\u001b[15;54H\u001b[30;95H4\u001b[15;54H\u001b[30;96H6\u001b[15;54H\u001b[30;97H3\u001b[15;54H\u001b[30;98H1\u001b[15;54H\u001b[30;99H=\u001b[15;54H\u001b[30;100H1\u001b[15;54H\u001b[30;101HB\u001b[15;54H\u001b[30;102H5\u001b[15;54H\u001b[30;93H          \u001b[15;54H\u001bP+q6b4e\u001b\\\u001b[?25h"]
[0.023, "o", "\u001bP+q4b31\u001b\\\u001bP+q4b33\u001b\\\u001bP+q4b34\u001b\\\u001bP+q4b35\u001b\\\u001bP+q6b42\u001b\\\u001b[?25l\u001b[30;93H^[\u001b[15;54H\u001b[30;95HP\u001b[15;54H\u001b[30;96H1\u001b[15;54H\u001b[30;97H+\u001b[15;54H\u001b[30;98Hr\u001b[15;54H\u001b[30;99H6\u001b[15;54H\u001b[30;100HB\u001b[15;54H\u001b[30;93H        \u001b[15;54H\u001bP+q5053\u001b\\\u001bP+q5045\u001b\\"]
[0.000, "o", "\u001b[30;93H5\u001b[15;54H\u001b[30;94H0\u001b[15;54H\u001b[30;95H=\u001b[15;54H\u001b[30;96H1\u001b[15;54H\u001b[30;97HB\u001b[15;54H\u001b[30;98H5\u001b[15;54H\u001b[30;99HB\u001b[15;54H\u001b[30;100H3\u001b[15;54H\u001b[30;101H5\u001b[15;54H\u001b[30;102H7\u001b[15;54H\u001b[30;93H          \u001b[15;54H\u001b[?25h"]
[0.838, "o", "\u001b[?25l\u001b[30;93Hl\u001b[15;54H"]
[0.000, "o", "\u001b[30;93H \u001b[15;55H\u001b[30;107H5\u001b[15;55H\u001b[?25h"]
[0.278, "o", "\u001b[?25l\u001b[30;93Hl\u001b[15;55H"]
[0.000, "o", "\u001b[30;93H \u001b[15;56H\u001b[30;107H6\u001b[15;56H\u001b[?25h"]
[0.025, "o", "\u001b[?25l\u001b[30;93Hl\u001b[15;56H"]
[0.000, "o", "\u001b[30;93H \u001b[15;57H\u001b[30;107H7\u001b[15;57H\u001b[?25h"]
[0.022, "o", "\u001b[?25l\u001b[30;93Hl\u001b[15;57H"]
[0.000, "o", "\u001b[30;93H \u001b[15;58H\u001b[30;107H8\u001b[15;58H\u001b[?25h"]
[0.022, "o", "\u001b[?25l\u001b[30;93Hl\u001b[15;58H"]
[0.000, "o", "\u001b[30;93H \u001b[15;59H\u001b[30;107H9\u001b[15;59H\u001b[?25h"]
[0.049, "o", "\u001b[?25l\u001b[30;93Hl\u001b[15;59H"]
[0.000, "o", "\u001b[30;93H \u001b[15;60H\u001b[30;106H60\u001b[15;60H\u001b[?25h"]
[0.021, "o", "\u001b[?25l\u001b[30;93Hl\u001b[15;60H"]
[0.000, "o", "\u001b[30;93H \u001b[15;61H\u001b[30;107H1\u001b[15;61H\u001b[?25h"]
[0.045, "o", "\u001b[?25l\u001b[30;93Hl\u001b[15;61H"]
[0.000, "o", "\u001b[30;93H \u001b[15;62H\u001b[30;107H2\u001b[15;62H\u001b[?25h"]
[0.022, "o", "\u001b[?25l\u001b[30;93Hl\u001b[15;62H"]
[0.000, "o", "\u001b[30;93H \u001b[15;63H\u001b[30;107H3\u001b[15;63H\u001b[?25h"]
[0.050, "o", "\u001b[?25l\u001b[30;93Hl\u001b[15;63H"]
[0.000, "o", "\u001b[30;93H \u001b[15;64H\u001b[30;107H4\u001b[15;64H\u001b[?25h"]
[0.022, "o", "\u001b[?25l\u001b[30;93Hl\u001b[15;64H"]
[0.000, "o", "\u001b[30;93H \u001b[15;65H\u001b[30;107H5\u001b[15;65H\u001b[?25h"]
[0.045, "o", "\u001b[?25l\u001b[30;93Hl\u001b[15;65H"]
[0.000, "o", "\u001b[30;93H \u001b[15;66H\u001b[30;107H6\u001b[15;66H\u001b[?25h"]
[0.197, "o", "\u001b[?25l\u001b[30;93Hl\u001b[15;66H"]
[0.000, "o", "\u001b[30;93H \u001b[15;67H\u001b[30;107H7\u001b[15;67H\u001b[?25h"]
[0.094, "o", "\u001b[?25l\u001b[30;93Hl\u001b[15;67H"]
[0.002, "o", "\u001b[30;93H \u001b[15;68H\u001b[15;40H\u001b[35m\u001b[106m{\u001b[27C}\u001b[m\u001b[30;107H8\u001b[15;68H\u001b[?25h"]
[0.231, "o", "\u001b[?25l\u001b[30;93Hi\u001b[15;68H\u001b[30;93H \u001b[15;68H\u001b[30;1H\u001b[1m-- INSERT --\u001b[m\u001b[30;14H\u001b[K\u001b[30;103H75,68\u001b[9C39%\u001b[15;68H\u001b[?25h"]
[0.190, "o", "\u001b[?25l\u001b[106m \u001b[m\u001b[35m}\u001b[m \u001b[35m]\u001b[m\b\b\b\b \u001b[35m\u001b[106m}\u001b[m\u001b[30;107H9\u001b[15;69H\u001b[?25h"]
[0.239, "o", "\u001b[?25l\b\b\b\b\b\u001b[36mtest \u001b[m\u001b[36m\u001b[106ms\u001b[m\u001b[36mtate\u001b[m\u001b[35m:\u001b[m absent\u001b[35m}\u001b[m \u001b[35m]\u001b[m\u001b[15;69H\u001b[36ms\u001b[m\u001b[12C\u001b[35m\u001b[106m}\u001b[m\u001b[30;106H82\u001b[15;82H\u001b[?25h"]
[0.350, "o", "\u001b[?25l\u001b[15;40H\u001b[35m{\u001b[41C}\u001b[m\u001b[30;107H1\u001b[15;81H\u001b[?25h"]
[0.241, "o", "\u001b[?25l\u001b[30;107H0\u001b[15;80H\u001b[?25h"]
[0.051, "o", "\u001b[?25l\u001b[30;106H79\u001b[15;79H\u001b[?25h"]
[0.023, "o", "\u001b[?25l\u001b[30;107H8\u001b[15;78H\u001b[?25h"]
[0.021, "o", "\u001b[?25l\u001b[30;107H7\u001b[15;77H\u001b[?25h"]
[0.048, "o", "\u001b[?25l\u001b[30;107H6\u001b[15;76H\u001b[?25h"]
[0.022, "o", "\u001b[?25l\u001b[30;107H5\u001b[15;75H\u001b[?25h"]
[0.048, "o", "\u001b[?25l\u001b[30;107H4\u001b[15;74H\u001b[?25h"]
[0.022, "o", "\u001b[?25l\u001b[30;107H3\u001b[15;73H\u001b[?25h"]
[0.045, "o", "\u001b[?25l\u001b[30;107H2\u001b[15;72H\u001b[?25h"]
[0.024, "o", "\u001b[?25l\u001b[30;107H1\u001b[15;71H\u001b[?25h"]
[0.116, "o", "\u001b[?25l\u001b[30;107H0\u001b[15;70H\u001b[?25h"]
[0.161, "o", "\u001b[?25l\u001b[30;106H69\u001b[15;69H\u001b[?25h"]
[0.222, "o", "\u001b[?25l\b\b\b\b\btest ,\u001b[36mstate\u001b[m\u001b[35m:\u001b[m absent\u001b[35m}\u001b[m \u001b[35m]\u001b[m\u001b[30;106H70\u001b[15;70H\u001b[?25h"]
[0.118, "o", "\u001b[30;1H\u001b[K\u001b[15;69H\u001b[?25l\u001b[30;93H^[\u001b[15;69H"]
[0.101, "o", "\u001b[30;93H  \u001b[15;70H\u001b[30;103H75,69\u001b[9C39%\u001b[15;69H\u001b[?25h"]
[0.232, "o", "\u001b[?25l\u001b[30;93H:\u001b[15;69H\u001b[30;93H\u001b[K\u001b[30;1H:\u001b[?25h"]
[0.189, "o", "w"]
[0.068, "o", "q"]
[0.124, "o", "\r"]
[0.000, "o", "\u001b[?25l\u001b[?2004l\u001b[>4;m"]
[0.001, "o", "\"pigsty.yml\""]
[0.001, "o", " 180L, 9862B written"]
[0.000, "o", "\r\u001b[23;2t\u001b[23;1t\r\r\n\u001b[?1004l\u001b[?2004l\u001b[?1l\u001b>\u001b[?1049l\u001b[23;0;0t\u001b[?25h\u001b[>4;m"]
[0.001, "o", "\u001b[?2004h\u001b]0;vonng@vonng-aimax: ~/pigsty\u0007\u001b[01;32mvonng@vonng-aimax\u001b[00m:\u001b[01;34m~/pigsty\u001b[00m$ "]
[1.347, "o", "b"]
[0.120, "o", "i"]
[0.044, "o", "n"]
[0.093, "o", "/"]
[0.186, "o", "p"]
[0.097, "o", "g"]
[0.097, "o", "s"]
[0.149, "o", "q"]
[0.045, "o", "l"]
[0.210, "o", "-"]
[0.101, "o", "d"]
[0.072, "o", "b"]
[0.194, "o", " "]
[0.123, "o", "p"]
[0.126, "o", "g"]
[0.258, "o", "-"]
[0.215, "o", "t"]
[0.079, "o", "e"]
[0.100, "o", "s"]
[0.078, "o", "t"]
[0.072, "o", " "]
[0.154, "o", "t"]
[0.116, "o", "e"]
[0.093, "o", "s"]
[0.045, "o", "t"]
[0.241, "o", "2"]
[0.175, "o", "\r\n\u001b[?2004l\r"]
[0.005, "o", "\u001b[0;35m[EXECUTE] ===========================================\u001b[0m\r\n[\u001b[0;33mWARN\u001b[0m] \u001b[0;33mcreate pgsql database 'test2' on 'pg-test'\u001b[0m\r\n\u001b[0;34m$ ./pgsql-db.yml -l pg-test -e dbname=test2\u001b[0m\r\n"]
[0.233, "o", "\r\nPLAY [PGSQL DB] ********************************************************************************************************\r\n"]
[0.004, "o", "\r\nTASK [validate dbname parameter] ***************************************************************************************\r\n"]
[0.010, "o", "\u001b[0;32mok: [10.10.10.11] => {\u001b[0m\r\n\u001b[0;32m    \"changed\": false,\u001b[0m\r\n\u001b[0;32m    \"msg\": \"All assertions passed\"\u001b[0m\r\n\u001b[0;32m}\u001b[0m\r\n\u001b[0;32mok: [10.10.10.12] => {\u001b[0m\r\n\u001b[0;32m    \"changed\": false,\u001b[0m\r\n\u001b[0;32m    \"msg\": \"All assertions passed\"\u001b[0m\r\n\u001b[0;32m}\u001b[0m\r\n"]
[0.003, "o", "\u001b[0;32mok: [10.10.10.13] => {\u001b[0m\r\n\u001b[0;32m    \"changed\": false,\u001b[0m\r\n\u001b[0;32m    \"msg\": \"All assertions passed\"\u001b[0m\r\n\u001b[0;32m}\u001b[0m\r\n"]
[0.000, "o", "\r\nTASK [get database definition] *****************************************************************************************\r\n"]
[0.033, "o", "\u001b[0;32mok: [10.10.10.12]\u001b[0m\r\n"]
[0.001, "o", "\u001b[0;32mok: [10.10.10.11]\u001b[0m\r\n"]
[0.004, "o", "\u001b[0;32mok: [10.10.10.13]\u001b[0m\r\n"]
[0.000, "o", "\r\nTASK [validate database definition] ************************************************************************************\r\n"]
[0.010, "o", "\u001b[0;32mok: [10.10.10.11] => {\u001b[0m\r\n\u001b[0;32m    \"changed\": false,\u001b[0m\r\n\u001b[0;32m    \"msg\": \"All assertions passed\"\u001b[0m\r\n\u001b[0;32m}\u001b[0m\r\n"]
[0.000, "o", "\u001b[0;32mok: [10.10.10.12] => {\u001b[0m\r\n\u001b[0;32m    \"changed\": false,\u001b[0m\r\n\u001b[0;32m    \"msg\": \"All assertions passed\"\u001b[0m\r\n\u001b[0;32m}\u001b[0m\r\n"]
[0.003, "o", "\u001b[0;32mok: [10.10.10.13] => {\u001b[0m\r\n\u001b[0;32m    \"changed\": false,\u001b[0m\r\n\u001b[0;32m    \"msg\": \"All assertions passed\"\u001b[0m\r\n\u001b[0;32m}\u001b[0m\r\n"]
[0.001, "o", "\r\nTASK [debug] ***********************************************************************************************************\r\n"]
[0.007, "o", "\u001b[0;32mok: [10.10.10.11] => {\u001b[0m\r\n\u001b[0;32m    \"msg\": {\u001b[0m\r\n\u001b[0;32m        \"name\": \"test2\",\u001b[0m\r\n\u001b[0;32m        \"state\": \"absent\",\u001b[0m\r\n\u001b[0;32m        \"template\": \"test\"\u001b[0m\r\n\u001b[0;32m    }\u001b[0m\r\n\u001b[0;32m}\u001b[0m\r\n"]
[0.001, "o", "\u001b[0;32mok: [10.10.10.12] => {\u001b[0m\r\n\u001b[0;32m    \"msg\": {\u001b[0m\r\n\u001b[0;32m        \"name\": \"test2\",\u001b[0m\r\n\u001b[0;32m        \"state\": \"absent\",\u001b[0m\r\n\u001b[0;32m        \"template\": \"test\"\u001b[0m\r\n\u001b[0;32m    }\u001b[0m\r\n\u001b[0;32m}\u001b[0m\r\n"]
[0.001, "o", "\u001b[0;32mok: [10.10.10.13] => {\u001b[0m\r\n\u001b[0;32m    \"msg\": {\u001b[0m\r\n\u001b[0;32m        \"name\": \"test2\",\u001b[0m\r\n\u001b[0;32m        \"state\": \"absent\",\u001b[0m\r\n\u001b[0;32m        \"template\": \"test\"\u001b[0m\r\n\u001b[0;32m    }\u001b[0m\r\n\u001b[0;32m}\u001b[0m\r\n"]
[0.000, "o", "\r\nTASK [include_tasks] ***************************************************************************************************\r\n"]
[0.007, "o", "\u001b[0;36mskipping: [10.10.10.12]\u001b[0m\r\n"]
[0.001, "o", "\u001b[0;36mskipping: [10.10.10.13]\u001b[0m\r\n"]
[0.003, "o", "\u001b[0;36mincluded: /home/vonng/pigsty/roles/pgsql/tasks/database.yml for 10.10.10.11\u001b[0m\r\n"]
[0.002, "o", "\r\nTASK [drop database test2] *********************************************************************************************\r\n"]
[0.813, "o", "\u001b[0;33mchanged: [10.10.10.11]\u001b[0m\r\n"]
[0.002, "o", "\r\nTASK [render sql for database test2] ***********************************************************************************\r\n"]
[0.007, "o", "\u001b[0;36mskipping: [10.10.10.11]\u001b[0m\r\n"]
[0.001, "o", "\r\nTASK [copy baseline for database test2] ********************************************************************************\r\n"]
[0.009, "o", "\u001b[0;36mskipping: [10.10.10.11]\u001b[0m\r\n"]
[0.001, "o", "\r\nTASK [create database test2] *******************************************************************************************\r\n"]
[0.015, "o", "\u001b[0;36mskipping: [10.10.10.11]\u001b[0m\r\n"]
[0.001, "o", "\r\nTASK [provision database test2] ****************************************************************************************\r\n"]
[0.015, "o", "\u001b[0;36mskipping: [10.10.10.11]\u001b[0m\r\n"]
[0.002, "o", "\r\nTASK [load database test2 baseline] ************************************************************************************\r\n"]
[0.015, "o", "\u001b[0;36mskipping: [10.10.10.11]\u001b[0m\r\n"]
[0.001, "o", "\r\nTASK [include_tasks] ***************************************************************************************************\r\n"]
[0.008, "o", "\u001b[0;36mskipping: [10.10.10.11]\u001b[0m\r\n\u001b[0;36mskipping: [10.10.10.12]\u001b[0m\r\n"]
[0.003, "o", "\u001b[0;36mskipping: [10.10.10.13]\u001b[0m\r\n"]
[0.000, "o", "\r\nTASK [include_tasks] ***************************************************************************************************\r\n"]
[0.013, "o", "\u001b[0;36mincluded: /home/vonng/pigsty/roles/pg_remove/tasks/grafana.yml for 10.10.10.11, 10.10.10.12, 10.10.10.13\u001b[0m\r\n"]
[0.010, "o", "\r\nTASK [remove grafana datasource test2] *********************************************************************************\r\n"]
[0.625, "o", "\u001b[0;33mchanged: [10.10.10.11 -> 10.10.10.10] => (item=10.10.10.10)\u001b[0m\r\n"]
[0.000, "o", "\u001b[0;33mchanged: [10.10.10.13 -> 10.10.10.10] => (item=10.10.10.10)\u001b[0m\r\n"]
[0.009, "o", "\u001b[0;33mchanged: [10.10.10.12 -> 10.10.10.10] => (item=10.10.10.10)\u001b[0m\r\n"]
[0.001, "o", "\r\nTASK [render pgbouncer database.txt] ***********************************************************************************\r\n"]
[0.392, "o", "\u001b[0;33mchanged: [10.10.10.11]\u001b[0m\r\n"]
[0.392, "o", "\u001b[0;33mchanged: [10.10.10.13]\u001b[0m\r\n\u001b[0;33mchanged: [10.10.10.12]\u001b[0m\r\n"]
[0.001, "o", "\r\nTASK [reload pgbouncer] ************************************************************************************************\r\n"]
[0.464, "o", "\u001b[0;33mchanged: [10.10.10.13]\u001b[0m\r\n"]
[0.003, "o", "\u001b[0;33mchanged: [10.10.10.12]\u001b[0m\r\n"]
[0.017, "o", "\u001b[0;33mchanged: [10.10.10.11]\u001b[0m\r\n"]
[0.003, "o", "\r\nPLAY RECAP *************************************************************************************************************\r\n\u001b[0;33m10.10.10.11\u001b[0m                : \u001b[0;32mok=10  \u001b[0m \u001b[0;33mchanged=4   \u001b[0m unreachable=0    failed=0    \u001b[0;36mskipped=6   \u001b[0m rescued=0    ignored=0   \r\n\u001b[0;33m10.10.10.12\u001b[0m                : \u001b[0;32mok=8   \u001b[0m \u001b[0;33mchanged=3   \u001b[0m unreachable=0    failed=0    \u001b[0;36mskipped=2   \u001b[0m rescued=0    ignored=0   \r\n"]
[0.000, "o", "\u001b[0;33m10.10.10.13\u001b[0m                : \u001b[0;32mok=8   \u001b[0m \u001b[0;33mchanged=3   \u001b[0m unreachable=0    failed=0    \u001b[0;36mskipped=2   \u001b[0m rescued=0    ignored=0   \r\n\r\n"]
[0.048, "o", "\u001b[0;35m[SUMMARY] ===========================================\u001b[0m\r\n[\u001b[0;32m OK \u001b[0m] \u001b[0;32mcreate pgsql database test2 on 'pg-test' complete\u001b[0m\r\n\u001b[0;34mcheck pgurl: postgres://pg-test/test2\u001b[0m\r\n"]
[0.000, "o", "\u001b[?2004h\u001b]0;vonng@vonng-aimax: ~/pigsty\u0007\u001b[01;32mvonng@vonng-aimax\u001b[00m:\u001b[01;34m~/pigsty\u001b[00m$ "]
[3.093, "o", "\u001b[?2004l\r\r\nexit\r\n"]
[0.001, "x", "0"]
