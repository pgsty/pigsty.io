<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js data-theme-init><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=color-scheme content="light dark"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#000000"><style>html{background:Canvas;color:CanvasText}@media(prefers-color-scheme:dark){html{background:#0b0d12;color:#e6e6e6}}html[data-theme-init] *{transition:none!important}</style><script>(function(){const t="td-color-theme",n=localStorage.getItem(t);let e=n||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");e==="auto"&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("data-bs-theme",e)})()</script><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Self-Hosting Supabase on PostgreSQL | PIGSTY</title><meta name=description content="Supabase is great, own your own Supabase is even better. A tutorial for self-hosting production-grade supabase on local/cloud VM/BMs."><meta property="og:url" content="https://pigsty.io/blog/db/supabase/"><meta property="og:site_name" content="PIGSTY"><meta property="og:title" content="Self-Hosting Supabase on PostgreSQL"><meta property="og:description" content="Supabase is great, own your own Supabase is even better. A tutorial for self-hosting production-grade supabase on local/cloud VM/BMs."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2024-11-25T00:00:00+00:00"><meta property="article:modified_time" content="2026-01-15T00:52:33+08:00"><meta property="article:tag" content="Database"><meta property="article:tag" content="Supabase"><meta itemprop=name content="Self-Hosting Supabase on PostgreSQL"><meta itemprop=description content="Supabase is great, own your own Supabase is even better. A tutorial for self-hosting production-grade supabase on local/cloud VM/BMs."><meta itemprop=datePublished content="2024-11-25T00:00:00+00:00"><meta itemprop=dateModified content="2026-01-15T00:52:33+08:00"><meta itemprop=wordCount content="5267"><meta itemprop=keywords content="Database,Supabase"><meta name=twitter:card content="summary"><meta name=twitter:title content="Self-Hosting Supabase on PostgreSQL"><meta name=twitter:description content="Supabase is great, own your own Supabase is even better. A tutorial for self-hosting production-grade supabase on local/cloud VM/BMs."><link rel=preload href=/scss/main.min.f6da858eb22dc48110abb983f095554930a5a614c30190b4e32ee7b08a496331.css as=style integrity="sha256-9tqFjrItxIEQq7mD8JVVSTClphTDAZC04y7nsIpJYzE=" crossorigin=anonymous><link href=/scss/main.min.f6da858eb22dc48110abb983f095554930a5a614c30190b4e32ee7b08a496331.css rel=stylesheet integrity="sha256-9tqFjrItxIEQq7mD8JVVSTClphTDAZC04y7nsIpJYzE=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-LG1V9WTKGE"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-LG1V9WTKGE")}</script></head><body class="td-page td-blog"><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="td-navbar-container container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"><svg viewBox="0 0 24 24" width="24" height="24"><defs/><g id="32" fill="none" stroke-dasharray="none" fill-opacity="1" stroke-opacity="1" stroke="none"><title>32</title><g id="32_图层_2"><title>图层 2</title><g id="Group_17"><g id="Graphic_16"/><g id="Graphic_15"><path d="M7.666187 11.971335l2.165064-3.75H14.16138l2.165065 3.75-2.165065 3.75H9.831251z" fill="#bbb" fill-opacity=".9526367"/><path d="M7.666187 11.971335l2.165064-3.75H14.16138l2.165065 3.75-2.165065 3.75H9.831251z" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width=".6730434"/></g><g id="Graphic_14"><path d="M7.666187 19.474806l2.165064-3.75H14.16138l2.165065 3.75-2.165065 3.75H9.831251z" fill="#de372c" fill-opacity=".8545852"/><path d="M7.666187 19.474806l2.165064-3.75H14.16138l2.165065 3.75-2.165065 3.75H9.831251z" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width=".6730434"/></g><g id="Graphic_13"><path d="M14.161476 15.751202l2.165064-3.75h4.33013l2.165064 3.75-2.165064 3.75H16.32654z" fill="#424242" fill-opacity=".9016462"/><path d="M14.161476 15.751202l2.165064-3.75h4.33013l2.165064 3.75-2.165064 3.75H16.32654z" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width=".6730434"/></g><g id="Graphic_12"><path d="M14.161476 8.226008 16.32654 4.4760076h4.33013L22.821734 8.226008l-2.165064 3.75H16.32654z" fill="#ffa269" fill-opacity=".8975772"/><path d="M14.161476 8.226008 16.32654 4.4760076h4.33013L22.821734 8.226008l-2.165064 3.75H16.32654z" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width=".6730434"/></g><g id="Graphic_11"><path d="M7.666187 4.5 9.831251.75H14.16138L16.326445 4.5 14.16138 8.25H9.831251z" fill="#419edb" fill-opacity=".8979957"/><path d="M7.666187 4.5 9.831251.75H14.16138L16.326445 4.5 14.16138 8.25H9.831251z" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width=".6730434"/></g><g id="Graphic_10"><path d="M1.1491742 8.226008 3.3142388 4.4760076H7.644368L9.809432 8.226008l-2.165064 3.75H3.3142388z" fill="#2f6793" fill-opacity=".9002511"/><path d="M1.1491742 8.226008 3.3142388 4.4760076H7.644368L9.809432 8.226008l-2.165064 3.75H3.3142388z" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width=".6730434"/></g><g id="Graphic_9"><path d="M1.182071 15.741036l2.1650645-3.75h4.330129l2.1650645 3.75-2.1650645 3.75H3.3471355z" fill="#53ac79" fill-opacity=".9"/><path d="M1.182071 15.741036l2.1650645-3.75h4.330129l2.1650645 3.75-2.1650645 3.75H3.3471355z" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width=".6730434"/></g></g></g></g></svg></span><span class=navbar-brand__name>PIGSTY</span></a><div class="td-navbar-nav-scroll td-navbar-nav-scroll--indicator" id=main_navbar><div class="scroll-indicator scroll-left"></div><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/docs/><i class='fa-solid fa-book'></i><span>Docs</span></a></li><li class=nav-item><a class="nav-link active" href=/blog/><i class="fas fa-blog"></i><span>Blog</span></a></li><li class="nav-item dropdown d-none d-lg-block td-navbar__version-menu"><div class=dropdown><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>Ver</a><ul class=dropdown-menu><li><a class=dropdown-item href=https://pigsty.cc>Pigsty 中文网站</a></li><li><a class=dropdown-item href=https://doc.pgsty.com>Pigsty v3.7 Doc</a></li><li><a class=dropdown-item href=https://v34.pigsty.cc>Pigsty v3.4 Doc</a></li><li><a class=dropdown-item href=https://v27.pigsty.cc>Pigsty v2.7 Doc</a></li><li><a class=dropdown-item href=https://v15.pigsty.cc/docs>Pigsty v1.5 Doc</a></li></ul></div></li><li class="nav-item td-navbar__light-dark-menu"><div class="td-light-dark-menu dropdown"><svg class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5.0 010 .708l-7 7a.5.5.0 01-.708.0l-3.5-3.5a.5.5.0 11.708-.708L6.5 10.293l6.646-6.647a.5.5.0 01.708.0z"/></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/><path d="M10.794 3.148a.217.217.0 01.412.0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217.0 010 .412l-1.162.387A1.734 1.734.0 0011.593 7.69l-.387 1.162a.217.217.0 01-.412.0l-.387-1.162A1.734 1.734.0 009.31 6.593l-1.162-.387a.217.217.0 010-.412l1.162-.387a1.734 1.734.0 001.097-1.097l.387-1.162zM13.863.099a.145.145.0 01.274.0l.258.774c.115.346.386.617.732.732l.774.258a.145.145.0 010 .274l-.774.258a1.156 1.156.0 00-.732.732l-.258.774a.145.145.0 01-.274.0l-.258-.774a1.156 1.156.0 00-.732-.732l-.774-.258a.145.145.0 010-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></symbol></svg>
<button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id=bd-theme type=button aria-expanded=false data-bs-toggle=dropdown aria-label="Toggle theme (auto)">
<svg class="bi my-1 theme-icon-active"><use href="#circle-half"/></svg></button><ul class=dropdown-menu aria-labelledby=bd-theme><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=light aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#sun-fill"/></svg>
Light
<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=dark aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"/></svg>
Dark
<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center active" data-bs-theme-value=auto aria-pressed=true>
<svg class="bi me-2 opacity-50"><use href="#circle-half"/></svg>
Auto
<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li></ul></div></li><li class=nav-item><a class=nav-link href=# onclick="return switchLang(),!1" title="Switch Language / 切换语言"><i class="fas fa-language"></i></a></li></ul><div class="scroll-indicator scroll-right"></div></div><div class="d-none d-lg-block td-navbar__search"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.d757e151050fd40088751a74721d74f6.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav><script>function switchLang(){var t=window.location.host,e=window.location.pathname+window.location.search+window.location.hash;t.indexOf("pigsty.io")!==-1?window.location.href="https://pigsty.cc"+e:t.indexOf("pigsty.cc")!==-1?window.location.href="https://pigsty.io"+e:window.location.href="https://pigsty.cc"+e}</script></header><div class="container-fluid td-outer"><div class=td-main data-bs-spy=scroll data-bs-target=.td-toc data-bs-root-margin="0px 0px -10%"><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.d757e151050fd40088751a74721d74f6.json data-offline-search-base-href=/ data-offline-search-max-results=10></div><button class="btn btn-link td-sidebar__toggle" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse foldable-nav" id=td-section-nav data-sidebar-root-id=/blog/><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-blog-li><a href=/blog/ title="Pigsty Blog Articles" class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-blog><span>Blog</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-blogselect-li><input type=checkbox id=m-blogselect-check checked>
<label for=m-blogselect-check><a href=/blog/select/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-blogselect><i class="fas fa-wand-magic-sparkles"></i><span>Featured</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogselectopenai-pg-li><input type=checkbox id=m-blogselectopenai-pg-check>
<label for=m-blogselectopenai-pg-check><a href=/blog/db/openai-pg/ title="Scaling Postgres to the Next Level at OpenAI" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogselectopenai-pg><span>OpenAI's PG Scaling</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogselectsupabase-li><input type=checkbox id=m-blogselectsupabase-check>
<label for=m-blogselectsupabase-check><a href=/blog/db/supabase/ title="Self-Hosting Supabase on PostgreSQL" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogselectsupabase><span>Self-Host Supabase</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogselectpg-eat-db-world-li><input type=checkbox id=m-blogselectpg-eat-db-world-check>
<label for=m-blogselectpg-eat-db-world-check><a href=/blog/pg/pg-eat-db-world/ title="PostgreSQL is Eating the Database World" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogselectpg-eat-db-world><span>PG Eats DB World</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogselectdb-in-k8s-li><input type=checkbox id=m-blogselectdb-in-k8s-check>
<label for=m-blogselectdb-in-k8s-check><a href=/blog/db/db-in-k8s/ title="Database in K8S: Pros & Cons" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogselectdb-in-k8s><span>Database in K8S</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-blogpigsty-li><input type=checkbox id=m-blogpigsty-check checked>
<label for=m-blogpigsty-check><a href=/blog/pigsty/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-blogpigsty><i class="fas fa-newspaper"></i><span>Pigsty</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv40-li><input type=checkbox id=m-blogpigstyv40-check>
<label for=m-blogpigstyv40-check><a href=https://vonng.com/en/pigsty/v4.0/ title="Pigsty v4.0: Victoria Stack + Security Hardening" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv40><span>Pigsty v4.0 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv37-li><input type=checkbox id=m-blogpigstyv37-check>
<label for=m-blogpigstyv37-check><a href=https://vonng.com/en/pigsty/v3.7/ title="Pigsty v3.7: PostgreSQL Magneto Award, PG18 Deep Support" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv37><span>Pigsty v3.7 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv36-li><input type=checkbox id=m-blogpigstyv36-check>
<label for=m-blogpigstyv36-check><a href=https://vonng.com/en/pigsty/v3.6/ title="Pigsty v3.6: The Ultimate PostgreSQL Distribution" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv36><span>Pigsty v3.6 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv35-li><input type=checkbox id=m-blogpigstyv35-check>
<label for=m-blogpigstyv35-check><a href=https://vonng.com/en/pigsty/v3.5/ title="Pigsty v3.5: 4K Stars, PG18 Beta, 421 Extensions" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv35><span>Pigsty v3.5 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv34-li><input type=checkbox id=m-blogpigstyv34-check>
<label for=m-blogpigstyv34-check><a href=https://vonng.com/en/pigsty/v3.4/ title="Pigsty v3.4: PITR Enhancement, Locale Best Practices, Auto Certificates" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv34><span>Pigsty v3.4 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv33-li><input type=checkbox id=m-blogpigstyv33-check>
<label for=m-blogpigstyv33-check><a href=https://vonng.com/en/pigsty/v3.3/ title="Pigsty v3.3: 404 Extensions, Turnkey Apps, New Website" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv33><span>Pigsty v3.3 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv32-li><input type=checkbox id=m-blogpigstyv32-check>
<label for=m-blogpigstyv32-check><a href=https://vonng.com/en/pigsty/v3.2/ title="Pigsty v3.2: The pig CLI, Full ARM Support, Supabase & Grafana Enhancements" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv32><span>Pigsty v3.2 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv31-li><input type=checkbox id=m-blogpigstyv31-check>
<label for=m-blogpigstyv31-check><a href=https://vonng.com/en/pigsty/v3.1/ title="Pigsty v3.1: One-Click Supabase, PG17 Default, ARM & Ubuntu 24" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv31><span>Pigsty v3.1 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv30-li><input type=checkbox id=m-blogpigstyv30-check>
<label for=m-blogpigstyv30-check><a href=https://vonng.com/en/pigsty/v3.0/ title="Pigsty v3.0: Pluggable Kernels & 340 Extensions" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv30><span>Pigsty v3.0 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv27-li><input type=checkbox id=m-blogpigstyv27-check>
<label for=m-blogpigstyv27-check><a href=https://vonng.com/en/pigsty/v2.7/ title="Pigsty v2.7: The Extension Superpack" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv27><span>Pigsty v2.7 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv26-li><input type=checkbox id=m-blogpigstyv26-check>
<label for=m-blogpigstyv26-check><a href=https://vonng.com/en/pigsty/v2.6/ title="Pigsty v2.6: PostgreSQL Crashes the OLAP Party" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv26><span>Pigsty v2.6 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv25-li><input type=checkbox id=m-blogpigstyv25-check>
<label for=m-blogpigstyv25-check><a href=https://vonng.com/en/pigsty/v2.5/ title="Pigsty v2.5: Ubuntu & PG16" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv25><span>Pigsty v2.5 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv24-li><input type=checkbox id=m-blogpigstyv24-check>
<label for=m-blogpigstyv24-check><a href=https://vonng.com/en/pigsty/v2.4/ title="Pigsty v2.4: Monitor Cloud RDS" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv24><span>Pigsty v2.4 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv23-li><input type=checkbox id=m-blogpigstyv23-check>
<label for=m-blogpigstyv23-check><a href=https://vonng.com/en/pigsty/v2.3/ title="Pigsty v2.3: Richer App Ecosystem" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv23><span>Pigsty v2.3 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv22-li><input type=checkbox id=m-blogpigstyv22-check>
<label for=m-blogpigstyv22-check><a href=https://vonng.com/en/pigsty/v2.2/ title="Pigsty v2.2: Monitoring System Reborn" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv22><span>Pigsty v2.2 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv21-li><input type=checkbox id=m-blogpigstyv21-check>
<label for=m-blogpigstyv21-check><a href=https://vonng.com/en/pigsty/v2.1/ title="Pigsty v2.1: Vector + Full PG Version Support!" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv21><span>Pigsty v2.1 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv20-li><input type=checkbox id=m-blogpigstyv20-check>
<label for=m-blogpigstyv20-check><a href=https://vonng.com/en/pigsty/v2.0/ title="Pigsty v2.0: Open-Source RDS PostgreSQL Alternative" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv20><span>Pigsty v2.0 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv15-li><input type=checkbox id=m-blogpigstyv15-check>
<label for=m-blogpigstyv15-check><a href=https://vonng.com/en/pigsty/v1.5/ title="Pigsty v1.5: Docker Application Support, Infrastructure Self-Monitoring" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv15><span>Pigsty v1.5 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv14-li><input type=checkbox id=m-blogpigstyv14-check>
<label for=m-blogpigstyv14-check><a href=https://vonng.com/en/pigsty/v1.4/ title="Pigsty v1.4: Modular Architecture, MatrixDB Data Warehouse Support" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv14><span>Pigsty v1.4 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv13-li><input type=checkbox id=m-blogpigstyv13-check>
<label for=m-blogpigstyv13-check><a href=https://vonng.com/en/pigsty/v1.3/ title="Pigsty v1.3: Redis Support, PGCAT Overhaul, PGSQL Enhancements" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv13><span>Pigsty v1.3 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv12-li><input type=checkbox id=m-blogpigstyv12-check>
<label for=m-blogpigstyv12-check><a href=https://vonng.com/en/pigsty/v1.2/ title="Pigsty v1.2: PG14 Default, Monitor Existing PG" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv12><span>Pigsty v1.2 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv11-li><input type=checkbox id=m-blogpigstyv11-check>
<label for=m-blogpigstyv11-check><a href=https://vonng.com/en/pigsty/v1.1/ title="Pigsty v1.1: Homepage, Jupyter, Pev2, PgBadger" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv11><span>Pigsty v1.1 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv10-li><input type=checkbox id=m-blogpigstyv10-check>
<label for=m-blogpigstyv10-check><a href=https://vonng.com/en/pigsty/v1.0/ title="Pigsty v1.0: GA Release with Monitoring Overhaul" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv10><span>Pigsty v1.0 Release</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv09-li><input type=checkbox id=m-blogpigstyv09-check>
<label for=m-blogpigstyv09-check><a href=https://vonng.com/en/pigsty/v0.9/ title="Pigsty v0.9: CLI + Logs" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv09><span>Pigsty v0.9 Release Notes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv08-li><input type=checkbox id=m-blogpigstyv08-check>
<label for=m-blogpigstyv08-check><a href=https://vonng.com/en/pigsty/v0.8/ title="Pigsty v0.8: Service Provisioning" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv08><span>Pigsty v0.8 Release Notes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv07-li><input type=checkbox id=m-blogpigstyv07-check>
<label for=m-blogpigstyv07-check><a href=https://vonng.com/en/pigsty/v0.7/ title="Pigsty v0.7: Monitor-Only Deployments" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv07><span>Pigsty v0.7 Release Notes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv06-li><input type=checkbox id=m-blogpigstyv06-check>
<label for=m-blogpigstyv06-check><a href=https://vonng.com/en/pigsty/v0.6/ title="Pigsty v0.6: Provisioning Upgrades" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv06><span>Pigsty v0.6 Release Notes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv05-li><input type=checkbox id=m-blogpigstyv05-check>
<label for=m-blogpigstyv05-check><a href=https://vonng.com/en/pigsty/v0.5/ title="Pigsty v0.5: Declarative DB Templates" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv05><span>Pigsty v0.5 Release Notes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv04-li><input type=checkbox id=m-blogpigstyv04-check>
<label for=m-blogpigstyv04-check><a href=https://vonng.com/en/pigsty/v0.4/ title="Pigsty v0.4: PG13 and Better Docs" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv04><span>Pigsty v0.4 Release Notes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpigstyv03-li><input type=checkbox id=m-blogpigstyv03-check>
<label for=m-blogpigstyv03-check><a href=https://vonng.com/en/pigsty/v0.3/ title="Pigsty v0.3: First Public Beta" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpigstyv03><span>Pigsty v0.3 Release Notes</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-blogcloud-li><input type=checkbox id=m-blogcloud-check>
<label for=m-blogcloud-check><a href=/blog/cloud/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-blogcloud><i class="fas fa-cloud"></i><span>Cloud</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudrednote-cloud-exit-li><input type=checkbox id=m-blogcloudrednote-cloud-exit-check>
<label for=m-blogcloudrednote-cloud-exit-check><a href=https://vonng.com/en/cloud/rednote-cloud-exit/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudrednote-cloud-exit><span>Did RedNote Exit the Cloud?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudalipay-crash-li><input type=checkbox id=m-blogcloudalipay-crash-check>
<label for=m-blogcloudalipay-crash-check><a href=https://vonng.com/en/cloud/alipay-crash/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudalipay-crash><span>Alipay, Taobao, Xianyu Went Dark. Smells Like a Message Queue Meltdown.</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudcf-ck-down-li><input type=checkbox id=m-blogcloudcf-ck-down-check>
<label for=m-blogcloudcf-ck-down-check><a href=https://vonng.com/en/cloud/cf-ck-down/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudcf-ck-down><span>Cloudflare’s Nov 18 Outage, Translated and Dissected</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudaliyun-supabase-li><input type=checkbox id=m-blogcloudaliyun-supabase-check>
<label for=m-blogcloudaliyun-supabase-check><a href=https://vonng.com/en/cloud/aliyun-supabase/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudaliyun-supabase><span>Alicloud “Borrowed” Supabase. This Is What Happens When Giants Strip-Mine Open-Source.</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudaws-postmotem-li><input type=checkbox id=m-blogcloudaws-postmotem-check>
<label for=m-blogcloudaws-postmotem-check><a href=https://vonng.com/en/cloud/aws-postmotem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudaws-postmotem><span>AWS’s Official DynamoDB Outage Postmortem</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudaws-dns-failure-li><input type=checkbox id=m-blogcloudaws-dns-failure-check>
<label for=m-blogcloudaws-dns-failure-check><a href=https://vonng.com/en/cloud/aws-dns-failure/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudaws-dns-failure><span>How One AWS DNS Failure Cascaded Across Half the Internet</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudexit-li><input type=checkbox id=m-blogcloudexit-check>
<label for=m-blogcloudexit-check><a href=https://vonng.com/en/cloud/exit/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudexit><span>Column: Cloud-Exit</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudkubesphere-rugpull-li><input type=checkbox id=m-blogcloudkubesphere-rugpull-check>
<label for=m-blogcloudkubesphere-rugpull-check><a href=https://vonng.com/en/cloud/kubesphere-rugpull/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudkubesphere-rugpull><span>KubeSphere: Trust Crisis Behind Open-Source Supply Cut</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudrds-duckdb-li><input type=checkbox id=m-blogcloudrds-duckdb-check>
<label for=m-blogcloudrds-duckdb-check><a href=https://vonng.com/en/cloud/rds-duckdb/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudrds-duckdb><span>Alicloud’s rds_duckdb: Tribute or Rip-Off?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudpatsy-li><input type=checkbox id=m-blogcloudpatsy-check>
<label for=m-blogcloudpatsy-check><a href=https://vonng.com/en/cloud/patsy/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudpatsy><span>Escaping Cloud Computing Scam Mills: The Big Fool Paying for Pain</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudopenai-failure-li><input type=checkbox id=m-blogcloudopenai-failure-check>
<label for=m-blogcloudopenai-failure-check><a href=https://vonng.com/en/cloud/openai-failure/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudopenai-failure><span>OpenAI Global Outage Postmortem: K8S Circular Dependencies</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudwordpress-drama-li><input type=checkbox id=m-blogcloudwordpress-drama-check>
<label for=m-blogcloudwordpress-drama-check><a href=https://vonng.com/en/cloud/wordpress-drama/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudwordpress-drama><span>WordPress Community Civil War: On Community Boundary Demarcation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudrds-scam-li><input type=checkbox id=m-blogcloudrds-scam-check>
<label for=m-blogcloudrds-scam-check><a href=https://vonng.com/en/cloud/rds-scam/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudrds-scam><span>Cloud Database: Michelin Prices for Cafeteria Pre-made Meals</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudaliyun-ha-li><input type=checkbox id=m-blogcloudaliyun-ha-check>
<label for=m-blogcloudaliyun-ha-check><a href=https://vonng.com/en/cloud/aliyun-ha/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudaliyun-ha><span>Alibaba-Cloud: High Availability Disaster Recovery Myth Shattered</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudrds-failure-li><input type=checkbox id=m-blogcloudrds-failure-check>
<label for=m-blogcloudrds-failure-check><a href=https://vonng.com/en/cloud/rds-failure/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudrds-failure><span>Amateur Hour Opera: Alibaba-Cloud PostgreSQL Disaster Chronicle</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudnetease-li><input type=checkbox id=m-blogcloudnetease-check>
<label for=m-blogcloudnetease-check><a href=https://vonng.com/en/cloud/netease/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudnetease><span>What Can We Learn from NetEase Cloud Music's Outage?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudbsod-friday-li><input type=checkbox id=m-blogcloudbsod-friday-check>
<label for=m-blogcloudbsod-friday-check><a href=https://vonng.com/en/cloud/bsod-friday/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudbsod-friday><span>Blue Screen Friday: Amateur Hour on Both Sides</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudahrefs-saving-li><input type=checkbox id=m-blogcloudahrefs-saving-check>
<label for=m-blogcloudahrefs-saving-check><a href=https://vonng.com/en/cloud/ahrefs-saving/ title="How Ahrefs Saved US$400M by NOT Going to the Cloud" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudahrefs-saving><span>Ahrefs Saved $400M by NOT Going to Cloud</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudgcp-unisuper-li><input type=checkbox id=m-blogcloudgcp-unisuper-check>
<label for=m-blogcloudgcp-unisuper-check><a href=https://vonng.com/en/cloud/gcp-unisuper/ title="Database Deletion Supreme - Google Cloud Nuked a Major Fund's Entire Cloud Account" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudgcp-unisuper><span>Google Cloud Database Deletion - UniSuper</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogclouds3-scam-li><input type=checkbox id=m-blogclouds3-scam-check>
<label for=m-blogclouds3-scam-check><a href=https://vonng.com/en/cloud/s3-scam/ title="Cloud Dark Forest: Exploding Cloud Bills with Just S3 Bucket Names" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogclouds3-scam><span>Exploding Cloud Bills with Just S3 Bucket Names</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudcf-interview-li><input type=checkbox id=m-blogcloudcf-interview-check>
<label for=m-blogcloudcf-interview-check><a href=https://vonng.com/en/cloud/cf-interview/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudcf-interview><span>Cloudflare Roundtable Interview and Q&amp;A Record</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudqcloud-li><input type=checkbox id=m-blogcloudqcloud-check>
<label for=m-blogcloudqcloud-check><a href=https://vonng.com/en/cloud/qcloud/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudqcloud><span>What Can We Learn from Tencent Cloud's Major Outage?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudcloudflare-li><input type=checkbox id=m-blogcloudcloudflare-check>
<label for=m-blogcloudcloudflare-check><a href=https://vonng.com/en/cloud/cloudflare/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudcloudflare><span>Cloudflare - The Cyber Buddha That Destroys Public Cloud</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudluo-live-li><input type=checkbox id=m-blogcloudluo-live-check>
<label for=m-blogcloudluo-live-check><a href=https://vonng.com/en/cloud/luo-live/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudluo-live><span>Can Luo Yonghao Save Toothpaste Cloud?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudecs-li><input type=checkbox id=m-blogcloudecs-check>
<label for=m-blogcloudecs-check><a href=https://vonng.com/en/cloud/ecs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudecs><span>Analyzing Alibaba-Cloud Server Computing Cost</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogclouddba-vs-rds-li><input type=checkbox id=m-blogclouddba-vs-rds-check>
<label for=m-blogclouddba-vs-rds-check><a href=https://vonng.com/en/cloud/dba-vs-rds/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogclouddba-vs-rds><span>Will DBAs Be Eliminated by Cloud?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogclouduptime-li><input type=checkbox id=m-blogclouduptime-check>
<label for=m-blogclouduptime-check><a href=https://vonng.com/en/cloud/uptime/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogclouduptime><span>Cloud-Exit High Availability Secret: Rejecting Complexity Masturbation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogclouds3-li><input type=checkbox id=m-blogclouds3-check>
<label for=m-blogclouds3-check><a href=https://vonng.com/en/cloud/s3/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogclouds3><span>S3: Elite to Mediocre</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudcloud-exit-faq-li><input type=checkbox id=m-blogcloudcloud-exit-faq-check>
<label for=m-blogcloudcloud-exit-faq-check><a href=https://vonng.com/cn/cloud/cloud-exit-faq/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudcloud-exit-faq><span>Cloud Exit FAQ: DHH Saves Millions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudsmile-li><input type=checkbox id=m-blogcloudsmile-check>
<label for=m-blogcloudsmile-check><a href=https://vonng.com/en/cloud/smile/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudsmile><span>From Cost-Reduction Jokes to Real Cost Reduction and Efficiency</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudbonus-li><input type=checkbox id=m-blogcloudbonus-check>
<label for=m-blogcloudbonus-check><a href=https://vonng.com/en/cloud/bonus/ title="Reclaim Hardware Bonus from the Cloud" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudbonus><span>Reclaim Hardware Bonus</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudaliyun-li><input type=checkbox id=m-blogcloudaliyun-check>
<label for=m-blogcloudaliyun-check><a href=https://vonng.com/en/cloud/aliyun/ title="What Can We Learn from Alibaba-Cloud's Global Outage?" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudaliyun><span>Unofficial Post-mortem of Alibaba-Cloud's Epic Failure</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudcheap-ecs-li><input type=checkbox id=m-blogcloudcheap-ecs-check>
<label for=m-blogcloudcheap-ecs-check><a href=https://vonng.com/en/cloud/cheap-ecs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudcheap-ecs><span>Harvesting Alibaba-Cloud Wool, Building Your Digital Homestead</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogclouddebris-li><input type=checkbox id=m-blogclouddebris-check>
<label for=m-blogclouddebris-check><a href=https://vonng.com/en/cloud/debris/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogclouddebris><span>Cloud Computing Mudslide: Deconstructing Public Cloud with Data</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudodyssey-li><input type=checkbox id=m-blogcloudodyssey-check>
<label for=m-blogcloudodyssey-check><a href=https://vonng.com/cn/cloud/odyssey/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudodyssey><span>Cloud Exit Odyssey: Time to Leave Cloud?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudodyssey-done-li><input type=checkbox id=m-blogcloudodyssey-done-check>
<label for=m-blogcloudodyssey-done-check><a href=https://vonng.com/en/cloud/odyssey-done/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudodyssey-done><span>DHH: Cloud-Exit Saves Over Ten Million, More Than Expected!</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudfinops-li><input type=checkbox id=m-blogcloudfinops-check>
<label for=m-blogcloudfinops-check><a href=https://vonng.com/en/cloud/finops/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudfinops><span>FinOps: Endgame Cloud-Exit</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudprofit-li><input type=checkbox id=m-blogcloudprofit-check>
<label for=m-blogcloudprofit-check><a href=https://vonng.com/en/cloud/profit/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudprofit><span>Why Isn't Cloud Computing More Profitable Than Sand Mining?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudsla-li><input type=checkbox id=m-blogcloudsla-check>
<label for=m-blogcloudsla-check><a href=https://vonng.com/en/cloud/sla/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudsla><span>SLA: Placebo or Insurance?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudebs-li><input type=checkbox id=m-blogcloudebs-check>
<label for=m-blogcloudebs-check><a href=https://vonng.com/en/cloud/ebs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudebs><span>EBS: Pig Slaughter Scam</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudcdn-li><input type=checkbox id=m-blogcloudcdn-check>
<label for=m-blogcloudcdn-check><a href=https://vonng.com/en/cloud/cdn/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudcdn><span>Garbage QCloud CDN: From Getting Started to Giving Up?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudno-dba-bullshit-li><input type=checkbox id=m-blogcloudno-dba-bullshit-check>
<label for=m-blogcloudno-dba-bullshit-check><a href=https://vonng.com/en/cloud/no-dba-bullshit/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudno-dba-bullshit><span>Refuting "Why You Still Shouldn't Hire a DBA"</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudparadigm-li><input type=checkbox id=m-blogcloudparadigm-check>
<label for=m-blogcloudparadigm-check><a href=https://vonng.com/en/cloud/paradigm/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudparadigm><span>Paradigm Shift: From Cloud to Local-First</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudrds-li><input type=checkbox id=m-blogcloudrds-check>
<label for=m-blogcloudrds-check><a href=https://vonng.com/en/cloud/rds/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudrds><span>Are Cloud Databases an IQ Tax?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogclouddrop-rds-li><input type=checkbox id=m-blogclouddrop-rds-check>
<label for=m-blogclouddrop-rds-check><a href=https://vonng.com/en/cloud/drop-rds/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogclouddrop-rds><span>Cloud RDS: From Database Drop to Exit</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogcloudis-dba-good-job-li><input type=checkbox id=m-blogcloudis-dba-good-job-check>
<label for=m-blogcloudis-dba-good-job-check><a href=https://vonng.com/en/cloud/is-dba-good-job/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogcloudis-dba-good-job><span>Is DBA Still a Good Job?</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-blogpg-li><input type=checkbox id=m-blogpg-check>
<label for=m-blogpg-check><a href=/blog/pg/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-blogpg><i class="fas fa-database"></i><span>PostgreSQL</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-clone-li><input type=checkbox id=m-blogpgpg-clone-check>
<label for=m-blogpgpg-clone-check><a href=https://vonng.com/en/pg/pg-clone/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-clone><span>Git for Data: Instant PostgreSQL Database Cloning</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgai-db-king-li><input type=checkbox id=m-blogpgai-db-king-check>
<label for=m-blogpgai-db-king-check><a href=https://vonng.com/en/pg/ai-db-king/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgai-db-king><span>Why PostgreSQL Will Dominate the AI Era</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgforge-a-pg-distro-li><input type=checkbox id=m-blogpgforge-a-pg-distro-check>
<label for=m-blogpgforge-a-pg-distro-check><a href=https://vonng.com/en/pg/forge-a-pg-distro/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgforge-a-pg-distro><span>Forging a China-Rooted, Global PostgreSQL Distro</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpgext-cloud-li><input type=checkbox id=m-blogpgpgext-cloud-check>
<label for=m-blogpgpgext-cloud-check><a href=https://vonng.com/en/pg/pgext-cloud/ title="PG Extension Cloud: Unlocking PostgreSQL’s Entire Ecosystem" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpgext-cloud><span>PG Extension Cloud</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-mirror-pigsty-li><input type=checkbox id=m-blogpgpg-mirror-pigsty-check>
<label for=m-blogpgpg-mirror-pigsty-check><a href=https://vonng.com/en/pg/pg-mirror-pigsty/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-mirror-pigsty><span>The PostgreSQL 'Supply Cut' and Trust Issues in Software Supply Chain</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgproprity-pg-li><input type=checkbox id=m-blogpgproprity-pg-check>
<label for=m-blogpgproprity-pg-check><a href=https://vonng.com/en/pg/proprity-pg/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgproprity-pg><span>PostgreSQL Dominates Database World, but Who Will Devour PG?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgso2025-pg-li><input type=checkbox id=m-blogpgso2025-pg-check>
<label for=m-blogpgso2025-pg-check><a href=https://vonng.com/en/pg/so2025-pg/ title="PostgreSQL Has Dominated the Database World" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgso2025-pg><span>SO2025 Survey: PostgreSQL Has Dominated the Database World</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-mirror-break-li><input type=checkbox id=m-blogpgpg-mirror-break-check>
<label for=m-blogpgpg-mirror-break-check><a href=https://vonng.com/en/pg/pg-mirror-break/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-mirror-break><span>PGDG Cuts Off Mirror Sync Channel</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpgext-day-li><input type=checkbox id=m-blogpgpgext-day-check>
<label for=m-blogpgpgext-day-check><a href=https://vonng.com/en/pg/pgext-day/ title="Postgres Extension Day - See You There!" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpgext-day><span>PGEXT.DAY: See You at Extension Day</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgorioledb-is-coming-li><input type=checkbox id=m-blogpgorioledb-is-coming-check>
<label for=m-blogpgorioledb-is-coming-check><a href=https://vonng.com/en/pg/orioledb-is-coming/ title="OrioleDB is Coming! 4x Performance, Eliminates Pain Points, Storage-Compute Separation" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgorioledb-is-coming><span>OrioleDB: Cloud-Native Bloat-Free PG</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgopenhalo-mysql-li><input type=checkbox id=m-blogpgopenhalo-mysql-check>
<label for=m-blogpgopenhalo-mysql-check><a href=https://vonng.com/en/pg/openhalo-mysql/ title="OpenHalo: MySQL Wire-Compatible PostgreSQL is Here!" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgopenhalo-mysql><span>OpenHalo: MySQL-Compatible PG-Kernel</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpgfs-li><input type=checkbox id=m-blogpgpgfs-check>
<label for=m-blogpgpgfs-check><a href=https://vonng.com/en/pg/pgfs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpgfs><span>PGFS: Using Database as a Filesystem</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-frontier-li><input type=checkbox id=m-blogpgpg-frontier-check>
<label for=m-blogpgpg-frontier-check><a href=https://vonng.com/en/pg/pg-frontier/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-frontier><span>PostgreSQL Ecosystem Frontier Developments</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpig-li><input type=checkbox id=m-blogpgpig-check>
<label for=m-blogpgpig-check><a href=https://vonng.com/en/pg/pig/ title="Pig, The Postgres Extension Wizard" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpig><span>Pig - The Postgres Extension Wizard</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-faint-li><input type=checkbox id=m-blogpgpg-faint-check>
<label for=m-blogpgpg-faint-check><a href=https://vonng.com/en/pg/pg-faint/ title="Don't Upgrade! Released and Immediately Pulled - Even PostgreSQL Isn't Immune to Epic Fails" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-faint><span>Released and Immediately Pulled - Even PostgreSQL Isn't Immune to Epic Fails</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg12-eol-pg17-up-li><input type=checkbox id=m-blogpgpg12-eol-pg17-up-check>
<label for=m-blogpgpg12-eol-pg17-up-check><a href=https://vonng.com/en/pg/pg12-eol-pg17-up/ title="PostgreSQL 12 End-of-Life, PG 17 Takes the Throne" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg12-eol-pg17-up><span>PG12 EOL, PG17 Rises</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-ext-repo-li><input type=checkbox id=m-blogpgpg-ext-repo-check>
<label for=m-blogpgpg-ext-repo-check><a href=https://vonng.com/en/pg/pg-ext-repo/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-ext-repo><span>The ideal way to deliver PostgreSQL Extensions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-convention-li><input type=checkbox id=m-blogpgpg-convention-check>
<label for=m-blogpgpg-convention-check><a href=https://vonng.com/en/pg/pg-convention/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-convention><span>PostgreSQL Convention 2024</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-17-li><input type=checkbox id=m-blogpgpg-17-check>
<label for=m-blogpgpg-17-check><a href=https://vonng.com/en/pg/pg-17/ title="PostgreSQL 17 Released: No More Pretending!" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-17><span>PG17 Released: No More Pretending!</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-replace-mssql-li><input type=checkbox id=m-blogpgpg-replace-mssql-check>
<label for=m-blogpgpg-replace-mssql-check><a href=https://vonng.com/en/pg/pg-replace-mssql/ title="Can PostgreSQL Replace Microsoft SQL Server?" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-replace-mssql><span>Can PG Replace MSSQL?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-duckdb-li><input type=checkbox id=m-blogpgpg-duckdb-check>
<label for=m-blogpgpg-duckdb-check><a href=https://vonng.com/en/pg/pg-duckdb/ title="Whoever Integrates DuckDB Best Wins the OLAP World" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-duckdb><span>DuckDB Integration = OLAP Victory</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-is-no1-again-li><input type=checkbox id=m-blogpgpg-is-no1-again-check>
<label for=m-blogpgpg-is-no1-again-check><a href=https://vonng.com/en/pg/pg-is-no1-again/ title="StackOverflow 2024 Survey: PostgreSQL Has Gone Completely Berserk" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-is-no1-again><span>SO 2024: PostgreSQL Has Gone Berserk</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgdify-setup-li><input type=checkbox id=m-blogpgdify-setup-check>
<label for=m-blogpgdify-setup-check><a href=https://vonng.com/en/pg/dify-setup/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgdify-setup><span>Self-Hosting Dify with PG, PGVector, and Pigsty</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpgcondev-2024-li><input type=checkbox id=m-blogpgpgcondev-2024-check>
<label for=m-blogpgpgcondev-2024-check><a href=https://vonng.com/en/pg/pgcondev-2024/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpgcondev-2024><span>PGCon.Dev 2024, The conf that shutdown PG for a week</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-17-beta1-li><input type=checkbox id=m-blogpgpg-17-beta1-check>
<label for=m-blogpgpg-17-beta1-check><a href=https://vonng.com/en/pg/pg-17-beta1/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-17-beta1><span>PostgreSQL 17 Beta1 Released!</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-for-everything-li><input type=checkbox id=m-blogpgpg-for-everything-check>
<label for=m-blogpgpg-for-everything-check><a href=https://vonng.com/cn/pg/pg-for-everything/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-for-everything><span>Why PostgreSQL is the Future Standard?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-license-li><input type=checkbox id=m-blogpgpg-license-check>
<label for=m-blogpgpg-license-check><a href=https://vonng.com/cn/pg/pg-license/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-license><span>Will PostgreSQL Change Its License?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-eat-db-world-li><input type=checkbox id=m-blogpgpg-eat-db-world-check>
<label for=m-blogpgpg-eat-db-world-check><a href=/blog/pg/pg-eat-db-world/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-eat-db-world><span>Postgres is eating the database world</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgjust-use-pg-li><input type=checkbox id=m-blogpgjust-use-pg-check>
<label for=m-blogpgjust-use-pg-check><a href=https://vonng.com/en/pg/just-use-pg/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgjust-use-pg><span>Technical Minimalism: Just Use PostgreSQL for Everything</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgparadedb-li><input type=checkbox id=m-blogpgparadedb-check>
<label for=m-blogpgparadedb-check><a href=https://vonng.com/en/pg/paradedb/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgparadedb><span>New PostgreSQL Ecosystem Player: ParadeDB</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-scalability-li><input type=checkbox id=m-blogpgpg-scalability-check>
<label for=m-blogpgpg-scalability-check><a href=https://vonng.com/en/pg/pg-scalability/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-scalability><span>PostgreSQL's Impressive Scalability</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-in-2024-li><input type=checkbox id=m-blogpgpg-in-2024-check>
<label for=m-blogpgpg-in-2024-check><a href=https://vonng.com/cn/pg/pg-in-2024/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-in-2024><span>PostgreSQL Outlook for 2024</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-dbeng-2024-li><input type=checkbox id=m-blogpgpg-dbeng-2024-check>
<label for=m-blogpgpg-dbeng-2024-check><a href=https://vonng.com/en/pg/pg-dbeng-2024/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-dbeng-2024><span>PostgreSQL Wins 2024 Database of the Year Award! (Fifth Time)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpgss-li><input type=checkbox id=m-blogpgpgss-check>
<label for=m-blogpgpgss-check><a href=https://vonng.com/en/pg/pgss/ title="PostgreSQL Macro Query Optimization with pg_stat_statements" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpgss><span>PG Query Optimization: The Macro Way</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgferretdb-li><input type=checkbox id=m-blogpgferretdb-check>
<label for=m-blogpgferretdb-check><a href=https://vonng.com/en/pg/ferretdb/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgferretdb><span>FerretDB: PostgreSQL Disguised as MongoDB</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-filedump-li><input type=checkbox id=m-blogpgpg-filedump-check>
<label for=m-blogpgpg-filedump-check><a href=https://vonng.com/en/pg/pg-filedump/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-filedump><span>How to Use pg_filedump for Data Recovery?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgvector-json-pg-li><input type=checkbox id=m-blogpgvector-json-pg-check>
<label for=m-blogpgvector-json-pg-check><a href=https://vonng.com/cn/pg/vector-json-pg/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgvector-json-pg><span>Vector is the New JSON</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-is-no1-li><input type=checkbox id=m-blogpgpg-is-no1-check>
<label for=m-blogpgpg-is-no1-check><a href=https://vonng.com/en/pg/pg-is-no1/ title="PostgreSQL, The most successful database" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-is-no1><span>PG, The most successful database</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgllm-and-pgvector-li><input type=checkbox id=m-blogpgllm-and-pgvector-check>
<label for=m-blogpgllm-and-pgvector-check><a href=https://vonng.com/en/pg/llm-and-pgvector/ title="AI Large Models and Vector Database PGVector" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgllm-and-pgvector><span>AI LLMs and PGVector</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-performence-li><input type=checkbox id=m-blogpgpg-performence-check>
<label for=m-blogpgpg-performence-check><a href=https://vonng.com/en/pg/pg-performence/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-performence><span>How Powerful is PostgreSQL Really?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-is-best-li><input type=checkbox id=m-blogpgpg-is-best-check>
<label for=m-blogpgpg-is-best-check><a href=https://vonng.com/en/pg/pg-is-best/ title="Why PostgreSQL is the Most Successful Database?" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-is-best><span>Why PostgreSQL is Most Successful?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpigsty-intro-li><input type=checkbox id=m-blogpgpigsty-intro-check>
<label for=m-blogpgpigsty-intro-check><a href=https://vonng.com/en/pg/pigsty-intro/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpigsty-intro><span>Ready-to-Use PostgreSQL Distribution: Pigsty</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-is-great-li><input type=checkbox id=m-blogpgpg-is-great-check>
<label for=m-blogpgpg-is-great-check><a href=https://vonng.com/en/pg/pg-is-great/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-is-great><span>Why Does PostgreSQL Have a Bright Future?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgfuzzymatch-li><input type=checkbox id=m-blogpgfuzzymatch-check>
<label for=m-blogpgfuzzymatch-check><a href=https://vonng.com/en/pg/fuzzymatch/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgfuzzymatch><span>Implementing Advanced Fuzzy Search</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgcollate-li><input type=checkbox id=m-blogpgcollate-check>
<label for=m-blogpgcollate-check><a href=https://vonng.com/en/pg/collate/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgcollate><span>Localization and Collation Rules in PostgreSQL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgreplica-identity-li><input type=checkbox id=m-blogpgreplica-identity-check>
<label for=m-blogpgreplica-identity-check><a href=https://vonng.com/en/pg/replica-identity/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgreplica-identity><span>PG Replica Identity Explained</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpglogical-replication-li><input type=checkbox id=m-blogpglogical-replication-check>
<label for=m-blogpglogical-replication-check><a href=https://vonng.com/en/pg/logical-replication/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpglogical-replication><span>PostgreSQL Logical Replication Deep Dive</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgslow-query-li><input type=checkbox id=m-blogpgslow-query-check>
<label for=m-blogpgslow-query-check><a href=https://vonng.com/en/pg/slow-query/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgslow-query><span>A Methodology for Diagnosing PostgreSQL Slow Queries</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgtime-travel-li><input type=checkbox id=m-blogpgtime-travel-check>
<label for=m-blogpgtime-travel-check><a href=https://vonng.com/en/pg/time-travel/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgtime-travel><span>Incident-Report: Patroni Failure Due to Time Travel</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgalter-type-li><input type=checkbox id=m-blogpgalter-type-check>
<label for=m-blogpgalter-type-check><a href=https://vonng.com/en/pg/alter-type/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgalter-type><span>Online Primary Key Column Type Change</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpggolden-metrics-li><input type=checkbox id=m-blogpggolden-metrics-check>
<label for=m-blogpggolden-metrics-check><a href=https://vonng.com/en/pg/golden-metrics/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpggolden-metrics><span>Golden Monitoring Metrics: Errors, Latency, Throughput, Saturation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgentity-and-naming-li><input type=checkbox id=m-blogpgentity-and-naming-check>
<label for=m-blogpgentity-and-naming-check><a href=https://vonng.com/en/pg/entity-and-naming/ title="Database Cluster Management Concepts and Entity Naming Conventions" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgentity-and-naming><span>Database Management Entities and Naming Conventions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-load-li><input type=checkbox id=m-blogpgpg-load-check>
<label for=m-blogpgpg-load-check><a href=https://vonng.com/en/pg/pg-load/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-load><span>PostgreSQL's KPI</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgmigrate-column-type-li><input type=checkbox id=m-blogpgmigrate-column-type-check>
<label for=m-blogpgmigrate-column-type-check><a href=https://vonng.com/en/pg/migrate-column-type/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgmigrate-column-type><span>Online PostgreSQL Column Type Migration</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgwire-protocol-li><input type=checkbox id=m-blogpgwire-protocol-check>
<label for=m-blogpgwire-protocol-check><a href=https://vonng.com/en/pg/wire-protocol/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgwire-protocol><span>Frontend-Backend Communication Wire Protocol</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgisolation-level-li><input type=checkbox id=m-blogpgisolation-level-check>
<label for=m-blogpgisolation-level-check><a href=https://vonng.com/en/pg/isolation-level/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgisolation-level><span>Transaction Isolation Level Considerations</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgextension-li><input type=checkbox id=m-blogpgextension-check>
<label for=m-blogpgextension-check><a href=https://vonng.com/en/pg/extension/ title="Incident: PostgreSQL Extension Installation Causes Connection Failure" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgextension><span>Incident: Extension Causes Connection Denial</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpglogical-decoding-li><input type=checkbox id=m-blogpglogical-decoding-check>
<label for=m-blogpglogical-decoding-check><a href=https://vonng.com/en/pg/logical-decoding/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpglogical-decoding><span>CDC Change Data Capture Mechanisms</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-lock-li><input type=checkbox id=m-blogpgpg-lock-check>
<label for=m-blogpgpg-lock-check><a href=https://vonng.com/en/pg/pg-lock/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-lock><span>Locks in PostgreSQL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpggin-li><input type=checkbox id=m-blogpggin-check>
<label for=m-blogpggin-check><a href=https://vonng.com/en/pg/gin/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpggin><span>O(n2) Complexity of GIN Search</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgreplication-plan-li><input type=checkbox id=m-blogpgreplication-plan-check>
<label for=m-blogpgreplication-plan-check><a href=https://vonng.com/en/pg/replication-plan/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgreplication-plan><span>PostgreSQL Common Replication Topology Plans</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgbackup-plan-li><input type=checkbox id=m-blogpgbackup-plan-check>
<label for=m-blogpgbackup-plan-check><a href=https://vonng.com/en/pg/backup-plan/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgbackup-plan><span>Warm Standby: Using pg_receivewal</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-dump-failure-li><input type=checkbox id=m-blogpgpg-dump-failure-check>
<label for=m-blogpgpg-dump-failure-check><a href=https://vonng.com/en/pg/pg-dump-failure/ title="Incident-Report: Connection-Pool Contamination Caused by pg_dump" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-dump-failure><span>Incident-Report: Connection-Pool Contamination</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpage-corruption-li><input type=checkbox id=m-blogpgpage-corruption-check>
<label for=m-blogpgpage-corruption-check><a href=https://vonng.com/en/pg/page-corruption/ title="PostgreSQL Data Page Corruption Repair" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpage-corruption><span>Incident-Report: Data Page Corruption</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgbloat-li><input type=checkbox id=m-blogpgbloat-check>
<label for=m-blogpgbloat-check><a href=https://vonng.com/en/pg/bloat/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgbloat><span>Relation Bloat Monitoring and Management</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpipeline-intro-li><input type=checkbox id=m-blogpgpipeline-intro-check>
<label for=m-blogpgpipeline-intro-check><a href=https://vonng.com/en/pg/pipeline-intro/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpipeline-intro><span>Getting Started with PipelineDB</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgtimescale-install-li><input type=checkbox id=m-blogpgtimescale-install-check>
<label for=m-blogpgtimescale-install-check><a href=https://vonng.com/en/pg/timescale-install/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgtimescale-install><span>TimescaleDB Quick Start</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgsequence-overflow-li><input type=checkbox id=m-blogpgsequence-overflow-check>
<label for=m-blogpgsequence-overflow-check><a href=https://vonng.com/en/pg/sequence-overflow/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgsequence-overflow><span>Incident-Report: Integer Overflow from Rapid Sequence Number Consumption</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgxid-wrap-around-li><input type=checkbox id=m-blogpgxid-wrap-around-check>
<label for=m-blogpgxid-wrap-around-check><a href=https://vonng.com/en/pg/xid-wrap-around/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgxid-wrap-around><span>Incident-Report: PostgreSQL Transaction ID Wraparound</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpggeoip-li><input type=checkbox id=m-blogpggeoip-check>
<label for=m-blogpggeoip-check><a href=https://vonng.com/en/pg/geoip/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpggeoip><span>GeoIP Geographic Reverse Lookup Optimization</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgsql-trigger-li><input type=checkbox id=m-blogpgsql-trigger-check>
<label for=m-blogpgsql-trigger-check><a href=https://vonng.com/en/pg/sql-trigger/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgsql-trigger><span>PostgreSQL Trigger Usage Considerations</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-convention-2018-li><input type=checkbox id=m-blogpgpg-convention-2018-check>
<label for=m-blogpgpg-convention-2018-check><a href=https://vonng.com/en/pg/pg-convention-2018/ title="PostgreSQL Development Convention (2018 Edition)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-convention-2018><span>PostgreSQL Development Convention 2018 Edition</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-is-good-li><input type=checkbox id=m-blogpgpg-is-good-check>
<label for=m-blogpgpg-is-good-check><a href=https://vonng.com/en/pg/pg-is-good/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-is-good><span>What Are PostgreSQL's Advantages?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgadcode-geodecode-li><input type=checkbox id=m-blogpgadcode-geodecode-check>
<label for=m-blogpgadcode-geodecode-check><a href=https://vonng.com/en/pg/adcode-geodecode/ title="Efficient Administrative Region Lookup with PostGIS" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgadcode-geodecode><span>GIS Point-in-Polygon Query</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgknn-optimize-li><input type=checkbox id=m-blogpgknn-optimize-check>
<label for=m-blogpgknn-optimize-check><a href=https://vonng.com/en/pg/knn-optimize/ title="KNN Ultimate Optimization: From RDS to PostGIS" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgknn-optimize><span>KNN Ultimate Optimization: GIS Selection</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgmon-table-size-li><input type=checkbox id=m-blogpgmon-table-size-check>
<label for=m-blogpgmon-table-size-check><a href=https://vonng.com/en/pg/mon-table-size/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgmon-table-size><span>Monitoring Table Size in PostgreSQL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpgadmin-install-li><input type=checkbox id=m-blogpgpgadmin-install-check>
<label for=m-blogpgpgadmin-install-check><a href=https://vonng.com/en/pg/pgadmin-install/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpgadmin-install><span>PgAdmin Installation and Configuration</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgdownload-failure-li><input type=checkbox id=m-blogpgdownload-failure-check>
<label for=m-blogpgdownload-failure-check><a href=https://vonng.com/en/pg/download-failure/ title="Incident-Report: Uneven Load Avalanche" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgdownload-failure><span>Incident: Uneven Load Avalanche</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpsql-and-bash-li><input type=checkbox id=m-blogpgpsql-and-bash-check>
<label for=m-blogpgpsql-and-bash-check><a href=https://vonng.com/en/pg/psql-and-bash/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpsql-and-bash><span>Bash and psql Tips</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgsql-distinct-on-li><input type=checkbox id=m-blogpgsql-distinct-on-check>
<label for=m-blogpgsql-distinct-on-check><a href=https://vonng.com/en/pg/sql-distinct-on/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgsql-distinct-on><span>Distinct On: Remove Duplicate Data</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgsql-func-volatility-li><input type=checkbox id=m-blogpgsql-func-volatility-check>
<label for=m-blogpgsql-func-volatility-check><a href=https://vonng.com/en/pg/sql-func-volatility/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgsql-func-volatility><span>Function Volatility Classification Levels</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgsql-exclude-li><input type=checkbox id=m-blogpgsql-exclude-check>
<label for=m-blogpgsql-exclude-check><a href=https://vonng.com/en/pg/sql-exclude/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgsql-exclude><span>Implementing Mutual Exclusion Constraints with Exclude</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgroutine-maintain-li><input type=checkbox id=m-blogpgroutine-maintain-check>
<label for=m-blogpgroutine-maintain-check><a href=https://vonng.com/en/pg/routine-maintain/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgroutine-maintain><span>PostgreSQL Routine Maintenance</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgbackup-overview-li><input type=checkbox id=m-blogpgbackup-overview-check>
<label for=m-blogpgbackup-overview-check><a href=https://vonng.com/en/pg/backup-overview/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgbackup-overview><span>Backup and Recovery Methods Overview</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpgbackrest-li><input type=checkbox id=m-blogpgpgbackrest-check>
<label for=m-blogpgpgbackrest-check><a href=https://vonng.com/en/pg/pgbackrest/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpgbackrest><span>PgBackRest2 Documentation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpgbouncer-usage-li><input type=checkbox id=m-blogpgpgbouncer-usage-check>
<label for=m-blogpgpgbouncer-usage-check><a href=https://vonng.com/en/pg/pgbouncer-usage/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpgbouncer-usage><span>Pgbouncer Quick Start</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpglogging-li><input type=checkbox id=m-blogpglogging-check>
<label for=m-blogpglogging-check><a href=https://vonng.com/en/pg/logging/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpglogging><span>PostgreSQL Server Log Regular Configuration</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgfio-li><input type=checkbox id=m-blogpgfio-check>
<label for=m-blogpgfio-check><a href=https://vonng.com/en/pg/fio/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgfio><span>Testing Disk Performance with FIO</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgsysbench-li><input type=checkbox id=m-blogpgsysbench-check>
<label for=m-blogpgsysbench-check><a href=https://vonng.com/en/pg/sysbench/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgsysbench><span>Using sysbench to Test PostgreSQL Performance</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgmigration-without-downtime-li><input type=checkbox id=m-blogpgmigration-without-downtime-check>
<label for=m-blogpgmigration-without-downtime-check><a href=https://vonng.com/en/pg/migration-without-downtime/ title="Changing Engines Mid-Flight — PostgreSQL Zero-Downtime Data Migration" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgmigration-without-downtime><span>Zero-Downtime Data Migration Basic Principles</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgfind-dummy-index-li><input type=checkbox id=m-blogpgfind-dummy-index-check>
<label for=m-blogpgfind-dummy-index-check><a href=https://vonng.com/en/pg/find-dummy-index/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgfind-dummy-index><span>Finding Unused Indexes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgssh-add-key-li><input type=checkbox id=m-blogpgssh-add-key-check>
<label for=m-blogpgssh-add-key-check><a href=https://vonng.com/en/pg/ssh-add-key/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgssh-add-key><span>Batch Configure SSH Passwordless Login</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgwireshark-capture-li><input type=checkbox id=m-blogpgwireshark-capture-check>
<label for=m-blogpgwireshark-capture-check><a href=https://vonng.com/en/pg/wireshark-capture/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgwireshark-capture><span>Wireshark Packet Capture Protocol Analysis</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgfile_fdw-li><input type=checkbox id=m-blogpgfile_fdw-check>
<label for=m-blogpgfile_fdw-check><a href=https://vonng.com/en/pg/file_fdw/ title="The Versatile file_fdw — Reading System Information from Your Database" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgfile_fdw><span>FileFDW Use Case: Reading OS Info</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgunix-tool-li><input type=checkbox id=m-blogpgunix-tool-check>
<label for=m-blogpgunix-tool-check><a href=https://vonng.com/en/pg/unix-tool/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgunix-tool><span>Common Linux Statistics CLI Tools</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpostgis-install-li><input type=checkbox id=m-blogpgpostgis-install-check>
<label for=m-blogpgpostgis-install-check><a href=https://vonng.com/en/pg/postgis-install/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpostgis-install><span>Installing PostGIS from Source</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-go-driver-li><input type=checkbox id=m-blogpgpg-go-driver-check>
<label for=m-blogpgpg-go-driver-check><a href=https://vonng.com/en/pg/pg-go-driver/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-go-driver><span>Go Database Tutorial: database/sql</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgnotify-trigger-based-repl-li><input type=checkbox id=m-blogpgnotify-trigger-based-repl-check>
<label for=m-blogpgnotify-trigger-based-repl-check><a href=https://vonng.com/en/pg/notify-trigger-based-repl/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgnotify-trigger-based-repl><span>Implementing Cache Synchronization with Go and PostgreSQL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgaudit-change-li><input type=checkbox id=m-blogpgaudit-change-check>
<label for=m-blogpgaudit-change-check><a href=https://vonng.com/en/pg/audit-change/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgaudit-change><span>Auditing Data Changes with Triggers</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgpg-recsys-li><input type=checkbox id=m-blogpgpg-recsys-check>
<label for=m-blogpgpg-recsys-check><a href=https://vonng.com/en/pg/pg-recsys/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgpg-recsys><span>Building an ItemCF Recommender in Pure SQL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpguuid-li><input type=checkbox id=m-blogpguuid-check>
<label for=m-blogpguuid-check><a href=https://vonng.com/en/pg/uuid/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpguuid><span>UUID Properties, Principles and Applications</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogpgmongo_fdw-install-li><input type=checkbox id=m-blogpgmongo_fdw-install-check>
<label for=m-blogpgmongo_fdw-install-check><a href=https://vonng.com/en/pg/mongo_fdw-install/ title="PostgreSQL MongoFDW Installation and Deployment" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogpgmongo_fdw-install><span>MongoFDW Installation and Deployment</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-blogdb-li><input type=checkbox id=m-blogdb-check checked>
<label for=m-blogdb-check><a href=/blog/db/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-blogdb><i class="fas fa-database"></i><span>Database</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbclaude-code-intro-li><input type=checkbox id=m-blogdbclaude-code-intro-check>
<label for=m-blogdbclaude-code-intro-check><a href=https://vonng.com/en/db/claude-code-intro/ title="Claude Code Quick Start: Using Alternative LLMs at 1/10 the Cost" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbclaude-code-intro><span>Claude Code Quick Start Guide</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbdb-year-review-2025-li><input type=checkbox id=m-blogdbdb-year-review-2025-check>
<label for=m-blogdbdb-year-review-2025-check><a href=https://vonng.com/en/db/db-year-review-2025/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbdb-year-review-2025><span>Data 2025: Year in Review with Mike Stonebraker</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbagent-native-db-li><input type=checkbox id=m-blogdbagent-native-db-check>
<label for=m-blogdbagent-native-db-check><a href=https://vonng.com/en/db/agent-native-db/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbagent-native-db><span>What Database Does AI Agent Need?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbmysql-baijiu-li><input type=checkbox id=m-blogdbmysql-baijiu-check>
<label for=m-blogdbmysql-baijiu-check><a href=https://vonng.com/en/db/mysql-baijiu/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbmysql-baijiu><span>MySQL and Baijiu: The Internet’s Obedience Test</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbvictoria-stack-li><input type=checkbox id=m-blogdbvictoria-stack-check>
<label for=m-blogdbvictoria-stack-check><a href=https://vonng.com/en/db/victoria-stack/ title="Victoria: The Observability Stack That Slaps the Industry" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbvictoria-stack><span>Victoria: Observability Stack Arrives</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbminio-alternative-li><input type=checkbox id=m-blogdbminio-alternative-check>
<label for=m-blogdbminio-alternative-check><a href=https://vonng.com/en/db/minio-alternative/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbminio-alternative><span>MinIO Is Dead. Who Picks Up the Pieces?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbminio-is-dead-li><input type=checkbox id=m-blogdbminio-is-dead-check>
<label for=m-blogdbminio-is-dead-check><a href=https://vonng.com/en/db/minio-is-dead/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbminio-is-dead><span>MinIO is Dead</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbai-question-li><input type=checkbox id=m-blogdbai-question-check>
<label for=m-blogdbai-question-check><a href=https://vonng.com/en/db/ai-question/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbai-question><span>When Answers Become Abundant, Questions Become the New Currency</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbtuna-mirror-site-li><input type=checkbox id=m-blogdbtuna-mirror-site-check>
<label for=m-blogdbtuna-mirror-site-check><a href=https://vonng.com/en/db/tuna-mirror-site/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbtuna-mirror-site><span>On Trusting Open-Source Supply Chains</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbno-docker-pg-li><input type=checkbox id=m-blogdbno-docker-pg-check>
<label for=m-blogdbno-docker-pg-check><a href=https://vonng.com/en/db/no-docker-pg/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbno-docker-pg><span>Don't Run Docker Postgres for Production!</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbddia-v2-li><input type=checkbox id=m-blogdbddia-v2-check>
<label for=m-blogdbddia-v2-check><a href=https://vonng.com/en/db/ddia-v2/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbddia-v2><span>DDIA 2nd Edition, Chinese Translation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbguru-li><input type=checkbox id=m-blogdbguru-check>
<label for=m-blogdbguru-check><a href=https://vonng.com/en/db/guru/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbguru><span>Column: Database Guru</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbcar-autopilot-test-li><input type=checkbox id=m-blogdbcar-autopilot-test-check>
<label for=m-blogdbcar-autopilot-test-check><a href=https://vonng.com/en/db/car-autopilot-test/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbcar-autopilot-test><span>Dongchedi Just Exposed “Smart Driving.” Where’s Our Dongku-Di?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbgoogle-mcp-li><input type=checkbox id=m-blogdbgoogle-mcp-check>
<label for=m-blogdbgoogle-mcp-check><a href=https://vonng.com/en/db/google-mcp/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbgoogle-mcp><span>Google AI Toolbox: Production-Ready Database MCP is Here?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbai-dba-job-li><input type=checkbox id=m-blogdbai-dba-job-check>
<label for=m-blogdbai-dba-job-check><a href=https://vonng.com/en/db/ai-dba-job/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbai-dba-job><span>Where Will Databases and DBAs Go in the AI Era?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbdb-for-ai-li><input type=checkbox id=m-blogdbdb-for-ai-check>
<label for=m-blogdbdb-for-ai-check><a href=https://vonng.com/en/db/db-for-ai/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbdb-for-ai><span>Stop Arguing, The AI Era Database Has Been Settled</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbopen-data-standard-li><input type=checkbox id=m-blogdbopen-data-standard-check>
<label for=m-blogdbopen-data-standard-check><a href=https://vonng.com/cn/db/open-data-standard/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbopen-data-standard><span>Open Data Standards: Postgres, OTel, and Iceberg</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbsmalldata-decade-li><input type=checkbox id=m-blogdbsmalldata-decade-check>
<label for=m-blogdbsmalldata-decade-check><a href=https://vonng.com/cn/db/smalldata-decade/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbsmalldata-decade><span>The Lost Decade of Small Data</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbopenai-pg-li><input type=checkbox id=m-blogdbopenai-pg-check>
<label for=m-blogdbopenai-pg-check><a href=/blog/db/openai-pg/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbopenai-pg><span>Scaling Postgres to the Next Level at OpenAI</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbbad-etcd-li><input type=checkbox id=m-blogdbbad-etcd-check>
<label for=m-blogdbbad-etcd-check><a href=https://vonng.com/en/db/bad-etcd/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbbad-etcd><span>How Many Shops Has etcd Torched?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbai-agent-era-li><input type=checkbox id=m-blogdbai-agent-era-check>
<label for=m-blogdbai-agent-era-check><a href=https://vonng.com/en/db/ai-agent-era/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbai-agent-era><span>In the AI Era, Software Starts at the Database</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbmysql-vs-pgsql-li><input type=checkbox id=m-blogdbmysql-vs-pgsql-check>
<label for=m-blogdbmysql-vs-pgsql-check><a href=https://vonng.com/en/db/mysql-vs-pgsql/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbmysql-vs-pgsql><span>MySQL vs. PostgreSQL @ 2025</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbpg-kiss-duckdb-li><input type=checkbox id=m-blogdbpg-kiss-duckdb-check>
<label for=m-blogdbpg-kiss-duckdb-check><a href=https://vonng.com/en/db/pg-kiss-duckdb/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbpg-kiss-duckdb><span>Database Planet Collision: When PG Falls for DuckDB</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdboracle-pg-xact-li><input type=checkbox id=m-blogdboracle-pg-xact-check>
<label for=m-blogdboracle-pg-xact-check><a href=https://vonng.com/en/db/oracle-pg-xact/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdboracle-pg-xact><span>Comparing Oracle and PostgreSQL Transaction Systems</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbdb-is-the-arch-li><input type=checkbox id=m-blogdbdb-is-the-arch-check>
<label for=m-blogdbdb-is-the-arch-check><a href=https://vonng.com/en/db/db-is-the-arch/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbdb-is-the-arch><span>Database as Business Architecture</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdb7-week-7-db-li><input type=checkbox id=m-blogdb7-week-7-db-check>
<label for=m-blogdb7-week-7-db-check><a href=https://vonng.com/en/db/7-week-7-db/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdb7-week-7-db><span>7 Databases in 7 Weeks (2025)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbpoker-24-li><input type=checkbox id=m-blogdbpoker-24-check>
<label for=m-blogdbpoker-24-check><a href=https://vonng.com/en/db/poker-24/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbpoker-24><span>Solving Poker 24 with a Single SQL Query</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-blogdbsupabase-li><input type=checkbox id=m-blogdbsupabase-check checked>
<label for=m-blogdbsupabase-check><a href=/blog/db/supabase/ title="Self-Hosting Supabase on PostgreSQL" class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-blogdbsupabase><span class=td-sidebar-nav-active-item>Self-Hosting Supabase</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbfuture-hardware-li><input type=checkbox id=m-blogdbfuture-hardware-check>
<label for=m-blogdbfuture-hardware-check><a href=https://vonng.com/cn/db/future-hardware/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbfuture-hardware><span>Modern Hardware for Future Databases</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbcan-mysql-catchup-li><input type=checkbox id=m-blogdbcan-mysql-catchup-check>
<label for=m-blogdbcan-mysql-catchup-check><a href=https://vonng.com/cn/db/can-mysql-catchup/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbcan-mysql-catchup><span>Can MySQL Still Catch Up with PostgreSQL?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdblinus-ban-ru-li><input type=checkbox id=m-blogdblinus-ban-ru-check>
<label for=m-blogdblinus-ban-ru-check><a href=https://vonng.com/en/db/linus-ban-ru/ title='Open-Source "Tyrant" Linus&#39;s Purge' class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdblinus-ban-ru><span>Open-Source Tyrant Linus Purges His Court</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbbio-core-cpu-core-li><input type=checkbox id=m-blogdbbio-core-cpu-core-check>
<label for=m-blogdbbio-core-cpu-core-check><a href=https://vonng.com/en/db/bio-core-cpu-core/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbbio-core-cpu-core><span>Optimize Bio Cores First, CPU Cores Second</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbbad-mongo-li><input type=checkbox id=m-blogdbbad-mongo-check>
<label for=m-blogdbbad-mongo-check><a href=https://vonng.com/en/db/bad-mongo/ title="MongoDB Has No Future: Good Marketing Can't Save a Rotten Mango" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbbad-mongo><span>Mongo Has No Future</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbmongo-powered-by-pg-li><input type=checkbox id=m-blogdbmongo-powered-by-pg-check>
<label for=m-blogdbmongo-powered-by-pg-check><a href=https://vonng.com/en/db/mongo-powered-by-pg/ title="MongoDB: Now Powered by PostgreSQL?" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbmongo-powered-by-pg><span>MongoDB: Now Powered by PostgreSQL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdboss-gov-li><input type=checkbox id=m-blogdboss-gov-check>
<label for=m-blogdboss-gov-check><a href=https://vonng.com/en/db/oss-gov/ title="Switzerland Mandates Open-Source for Government Software" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdboss-gov><span>Switzerland Mandates Government Open-Source</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbmysql-is-dead-li><input type=checkbox id=m-blogdbmysql-is-dead-check>
<label for=m-blogdbmysql-is-dead-check><a href=https://vonng.com/en/db/mysql-is-dead/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbmysql-is-dead><span>MySQL is dead, Long live PostgreSQL!</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbcve-2024-6387-li><input type=checkbox id=m-blogdbcve-2024-6387-check>
<label for=m-blogdbcve-2024-6387-check><a href=https://vonng.com/en/db/cve-2024-6387/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbcve-2024-6387><span>CVE-2024-6387 SSH Vulnerability Fix</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbcan-oracle-save-mysql-li><input type=checkbox id=m-blogdbcan-oracle-save-mysql-check>
<label for=m-blogdbcan-oracle-save-mysql-check><a href=https://vonng.com/cn/db/can-oracle-save-mysql/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbcan-oracle-save-mysql><span>Can Oracle Still Save MySQL?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdboracle-kill-mysql-li><input type=checkbox id=m-blogdboracle-kill-mysql-check>
<label for=m-blogdboracle-kill-mysql-check><a href=https://vonng.com/cn/db/oracle-kill-mysql/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdboracle-kill-mysql><span>Oracle Finally Killed MySQL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbsakila-where-are-you-going-li><input type=checkbox id=m-blogdbsakila-where-are-you-going-check>
<label for=m-blogdbsakila-where-are-you-going-check><a href=https://vonng.com/cn/db/sakila-where-are-you-going/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbsakila-where-are-you-going><span>MySQL Performance Declining: Where is Sakila Going?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbdb-china-li><input type=checkbox id=m-blogdbdb-china-check>
<label for=m-blogdbdb-china-check><a href=https://vonng.com/en/db/db-china/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbdb-china><span>Can Chinese Domestic Databases Really Compete?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbcheap-polar-li><input type=checkbox id=m-blogdbcheap-polar-check>
<label for=m-blogdbcheap-polar-check><a href=https://vonng.com/en/db/cheap-polar/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbcheap-polar><span>The $20 Brother PolarDB: What Should Databases Actually Cost?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbredis-oss-li><input type=checkbox id=m-blogdbredis-oss-check>
<label for=m-blogdbredis-oss-check><a href=https://vonng.com/en/db/redis-oss/ title='Redis Going Non-Open-Source is a Disgrace to "Open-Source" and Public Cloud' class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbredis-oss><span>Redis Non-Open-Source is a Disgrace</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbbad-mysql-li><input type=checkbox id=m-blogdbbad-mysql-check>
<label for=m-blogdbbad-mysql-check><a href=https://vonng.com/en/db/bad-mysql/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbbad-mysql><span>How Can MySQL's Correctness Be This Garbage?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbdb-in-k8s-li><input type=checkbox id=m-blogdbdb-in-k8s-check>
<label for=m-blogdbdb-in-k8s-check><a href=/blog/db/db-in-k8s/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbdb-in-k8s><span>Database in K8S: Pros & Cons</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbsvdb-is-dead-li><input type=checkbox id=m-blogdbsvdb-is-dead-check>
<label for=m-blogdbsvdb-is-dead-check><a href=https://vonng.com/en/db/svdb-is-dead/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbsvdb-is-dead><span>Are Specialized Vector Databases Dead?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbdb-choke-li><input type=checkbox id=m-blogdbdb-choke-check>
<label for=m-blogdbdb-choke-check><a href=https://vonng.com/en/db/db-choke/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbdb-choke><span>Are Databases Really Being Strangled?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbrhel-compatibility-li><input type=checkbox id=m-blogdbrhel-compatibility-check>
<label for=m-blogdbrhel-compatibility-check><a href=https://vonng.com/en/db/rhel-compatibility/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbrhel-compatibility><span>Which EL-Series OS Distribution Is Best?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbsovereign-dbos-li><input type=checkbox id=m-blogdbsovereign-dbos-check>
<label for=m-blogdbsovereign-dbos-check><a href=https://vonng.com/en/db/sovereign-dbos/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbsovereign-dbos><span>What Kind of Self-Reliance Do Infrastructure Software Need?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbrethink-li><input type=checkbox id=m-blogdbrethink-check>
<label for=m-blogdbrethink-check><a href=https://vonng.com/en/db/rethink/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbrethink><span>Back to Basics: Tech Reflection Chronicles</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbdemand-pyramid-li><input type=checkbox id=m-blogdbdemand-pyramid-check>
<label for=m-blogdbdemand-pyramid-check><a href=https://vonng.com/en/db/demand-pyramid/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbdemand-pyramid><span>Database Demand Hierarchy Pyramid</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbmicroservice-bad-idea-li><input type=checkbox id=m-blogdbmicroservice-bad-idea-check>
<label for=m-blogdbmicroservice-bad-idea-check><a href=https://vonng.com/cn/db/microservice-bad-idea/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbmicroservice-bad-idea><span>Are Microservices a Bad Idea?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbdistributive-bullshit-li><input type=checkbox id=m-blogdbdistributive-bullshit-check>
<label for=m-blogdbdistributive-bullshit-check><a href=https://vonng.com/en/db/distributive-bullshit/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbdistributive-bullshit><span>NewSQL: Distributive Nonsens</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbgoodbye-gpl-li><input type=checkbox id=m-blogdbgoodbye-gpl-check>
<label for=m-blogdbgoodbye-gpl-check><a href=https://vonng.com/cn/db/goodbye-gpl/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbgoodbye-gpl><span>Time to Say Goodbye to GPL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbpg-in-docker-li><input type=checkbox id=m-blogdbpg-in-docker-check>
<label for=m-blogdbpg-in-docker-check><a href=https://vonng.com/en/db/pg-in-docker/ title="Is running postgres in docker a good idea?" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbpg-in-docker><span>PG in Docker: Good or Bad?</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbreason-about-time-li><input type=checkbox id=m-blogdbreason-about-time-check>
<label for=m-blogdbreason-about-time-check><a href=https://vonng.com/en/db/reason-about-time/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbreason-about-time><span>Understanding Time - Leap Years, Leap Seconds, Time and Time Zones</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbcharacter-encoding-li><input type=checkbox id=m-blogdbcharacter-encoding-check>
<label for=m-blogdbcharacter-encoding-check><a href=https://vonng.com/en/db/character-encoding/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbcharacter-encoding><span>Understanding Character Encoding Principles</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbconcurrent-control-li><input type=checkbox id=m-blogdbconcurrent-control-check>
<label for=m-blogdbconcurrent-control-check><a href=https://vonng.com/en/db/concurrent-control/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbconcurrent-control><span>Concurrency Anomalies Explained</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbblockchian-li><input type=checkbox id=m-blogdbblockchian-check>
<label for=m-blogdbblockchian-check><a href=https://vonng.com/en/db/blockchian/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbblockchian><span>Blockchain and Distributed Databases</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbconsistency-li><input type=checkbox id=m-blogdbconsistency-check>
<label for=m-blogdbconsistency-check><a href=https://vonng.com/en/db/consistency/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbconsistency><span>Consistency: An Overloaded Term</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blogdbwhy-learn-database-li><input type=checkbox id=m-blogdbwhy-learn-database-check>
<label for=m-blogdbwhy-learn-database-check><a href=https://vonng.com/en/db/why-learn-database/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blogdbwhy-learn-database><span>Why Study Database Principles</span></a></label></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://github.com/pgsty/pigsty.io/tree/main/content/blog/db/supabase.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> View Page Source</a>
<a href=https://github.com/pgsty/pigsty.io/edit/main/content/blog/db/supabase.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit Current Page</a>
<a href="https://github.com/pgsty/pigsty.io/new/main/content/blog/db?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Create Child Page</a>
<a href="https://github.com/pgsty/pigsty.io/issues/new?title=Self-Hosting%20Supabase%20on%20PostgreSQL" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create Docs Issue</a>
<a href=https://github.com/pgsty/pigsty/issues/new class="td-page-meta--project td-page-meta__project-issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create Project Issue</a>
<a id=print href=/_print/blog/db/><i class="fa-solid fa-print fa-fw"></i> Print Entire Section</a></div><div class=td-toc data-proofer-ignore><div class=td-toc-title><span class=td-toc-title__text>On this page</span>
<a class=td-toc-title__link title="Top of page" href=#></a></div><nav id=TableOfContents><ul><li><a href=#what-is-supabase>What is Supabase?</a></li><li><a href=#why-self-hosting>Why Self-Hosting?</a></li><li><a href=#get-started>Get Started</a></li><li><a href=#architecture>Architecture</a></li><li><a href=#config-detail>Config Detail</a></li><li><a href=#security-enhancement>Security Enhancement</a></li><li><a href=#domain-name-and-https>Domain Name and HTTPS</a></li><li><a href=#sending-mail-with-smtp>Sending Mail with SMTP</a></li><li><a href=#minio-or-external-s3>MinIO or External S3</a></li><li><a href=#true-high-availability>True High Availability</a></li></ul></nav></div><div class="taxonomy taxonomy-terms-cloud taxo-module"><h5 class=taxonomy-title>Module</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://pigsty.io/module/app/ data-taxonomy-term=app><span class=taxonomy-label>APP</span><span class=taxonomy-count>10</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/blog/ data-taxonomy-term=blog><span class=taxonomy-label>BLOG</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/consul/ data-taxonomy-term=consul><span class=taxonomy-label>CONSUL</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/docker/ data-taxonomy-term=docker><span class=taxonomy-label>DOCKER</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/duckdb/ data-taxonomy-term=duckdb><span class=taxonomy-label>DUCKDB</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/etcd/ data-taxonomy-term=etcd><span class=taxonomy-label>ETCD</span><span class=taxonomy-count>7</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/infra/ data-taxonomy-term=infra><span class=taxonomy-label>INFRA</span><span class=taxonomy-count>8</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/jupyter/ data-taxonomy-term=jupyter><span class=taxonomy-label>JUPYTER</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/kafka/ data-taxonomy-term=kafka><span class=taxonomy-label>KAFKA</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/kube/ data-taxonomy-term=kube><span class=taxonomy-label>KUBE</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/minio/ data-taxonomy-term=minio><span class=taxonomy-label>MINIO</span><span class=taxonomy-count>9</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/mysql/ data-taxonomy-term=mysql><span class=taxonomy-label>MYSQL</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/pgsql/ data-taxonomy-term=pgsql><span class=taxonomy-label>PGSQL</span><span class=taxonomy-count>91</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/pig/ data-taxonomy-term=pig><span class=taxonomy-label>PIG</span><span class=taxonomy-count>10</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/pigsty/ data-taxonomy-term=pigsty><span class=taxonomy-label>PIGSTY</span><span class=taxonomy-count>51</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/pilot/ data-taxonomy-term=pilot><span class=taxonomy-label>PILOT</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/redis/ data-taxonomy-term=redis><span class=taxonomy-label>REDIS</span><span class=taxonomy-count>8</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/software/ data-taxonomy-term=software><span class=taxonomy-label>SOFTWARE</span><span class=taxonomy-count>20</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/tigerbeetle/ data-taxonomy-term=tigerbeetle><span class=taxonomy-label>TIGERBEETLE</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/victoria/ data-taxonomy-term=victoria><span class=taxonomy-label>VICTORIA</span><span class=taxonomy-count>1</span></a></li></ul></div><div class="taxonomy taxonomy-terms-cloud taxo-categories"><h5 class=taxonomy-title>Category</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://pigsty.io/categories/admin/ data-taxonomy-term=admin><span class=taxonomy-label>Admin</span><span class=taxonomy-count>6</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/categories/application/ data-taxonomy-term=application><span class=taxonomy-label>Application</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/categories/concept/ data-taxonomy-term=concept><span class=taxonomy-label>Concept</span><span class=taxonomy-count>48</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/categories/database/ data-taxonomy-term=database><span class=taxonomy-label>Database</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/categories/reference/ data-taxonomy-term=reference><span class=taxonomy-label>Reference</span><span class=taxonomy-count>182</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/categories/task/ data-taxonomy-term=task><span class=taxonomy-label>Task</span><span class=taxonomy-count>52</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/categories/tutorial/ data-taxonomy-term=tutorial><span class=taxonomy-label>Tutorial</span><span class=taxonomy-count>25</span></a></li></ul></div><div class="taxonomy taxonomy-terms-cloud taxo-tags"><h5 class=taxonomy-title>Tags</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://pigsty.io/tags/agent/ data-taxonomy-term=agent><span class=taxonomy-label>Agent</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/ai/ data-taxonomy-term=ai><span class=taxonomy-label>AI</span><span class=taxonomy-count>8</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/alibaba-cloud/ data-taxonomy-term=alibaba-cloud><span class=taxonomy-label>Alibaba-Cloud</span><span class=taxonomy-count>8</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/aliyun/ data-taxonomy-term=aliyun><span class=taxonomy-label>Aliyun</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/architecture/ data-taxonomy-term=architecture><span class=taxonomy-label>Architecture</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/auth/ data-taxonomy-term=auth><span class=taxonomy-label>Auth</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/aws/ data-taxonomy-term=aws><span class=taxonomy-label>AWS</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/backup/ data-taxonomy-term=backup><span class=taxonomy-label>Backup</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/business/ data-taxonomy-term=business><span class=taxonomy-label>Business</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cdc/ data-taxonomy-term=cdc><span class=taxonomy-label>CDC</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cdn/ data-taxonomy-term=cdn><span class=taxonomy-label>CDN</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/citus/ data-taxonomy-term=citus><span class=taxonomy-label>Citus</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/clickhouse/ data-taxonomy-term=clickhouse><span class=taxonomy-label>ClickHouse</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cloud/ data-taxonomy-term=cloud><span class=taxonomy-label>Cloud</span><span class=taxonomy-count>7</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cloud-exit/ data-taxonomy-term=cloud-exit><span class=taxonomy-label>Cloud-Exit</span><span class=taxonomy-count>37</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cloud-outage/ data-taxonomy-term=cloud-outage><span class=taxonomy-label>Cloud-Outage</span><span class=taxonomy-count>11</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cloudberry/ data-taxonomy-term=cloudberry><span class=taxonomy-label>Cloudberry</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cloudflare/ data-taxonomy-term=cloudflare><span class=taxonomy-label>Cloudflare</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cmdb/ data-taxonomy-term=cmdb><span class=taxonomy-label>CMDB</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/configuration/ data-taxonomy-term=configuration><span class=taxonomy-label>Configuration</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/configuration-management/ data-taxonomy-term=configuration-management><span class=taxonomy-label>Configuration Management</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/connection-pool/ data-taxonomy-term=connection-pool><span class=taxonomy-label>Connection-Pool</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/convention/ data-taxonomy-term=convention><span class=taxonomy-label>Convention</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cost/ data-taxonomy-term=cost><span class=taxonomy-label>Cost</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/data-corruption/ data-taxonomy-term=data-corruption><span class=taxonomy-label>Data-Corruption</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/database/ data-taxonomy-term=database><span class=taxonomy-label>Database</span><span class=taxonomy-count>50</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/dba/ data-taxonomy-term=dba><span class=taxonomy-label>DBA</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/dbos/ data-taxonomy-term=dbos><span class=taxonomy-label>DBOS</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/ddia/ data-taxonomy-term=ddia><span class=taxonomy-label>DDIA</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/development/ data-taxonomy-term=development><span class=taxonomy-label>Development</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/dhh/ data-taxonomy-term=dhh><span class=taxonomy-label>DHH</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/distributed/ data-taxonomy-term=distributed><span class=taxonomy-label>Distributed</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/docker/ data-taxonomy-term=docker><span class=taxonomy-label>Docker</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/domestic-database/ data-taxonomy-term=domestic-database><span class=taxonomy-label>Domestic-Database</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/duckdb/ data-taxonomy-term=duckdb><span class=taxonomy-label>DuckDB</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/ebs/ data-taxonomy-term=ebs><span class=taxonomy-label>EBS</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/ecosystem/ data-taxonomy-term=ecosystem><span class=taxonomy-label>Ecosystem</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/ecs/ data-taxonomy-term=ecs><span class=taxonomy-label>ECS</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/encoding/ data-taxonomy-term=encoding><span class=taxonomy-label>Encoding</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/etcd/ data-taxonomy-term=etcd><span class=taxonomy-label>Etcd</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/extension/ data-taxonomy-term=extension><span class=taxonomy-label>Extension</span><span class=taxonomy-count>26</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/faq/ data-taxonomy-term=faq><span class=taxonomy-label>FAQ</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/finops/ data-taxonomy-term=finops><span class=taxonomy-label>FinOps</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/full-text-search/ data-taxonomy-term=full-text-search><span class=taxonomy-label>Full-Text-Search</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/functions/ data-taxonomy-term=functions><span class=taxonomy-label>Functions</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/gin/ data-taxonomy-term=gin><span class=taxonomy-label>GIN</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/gis/ data-taxonomy-term=gis><span class=taxonomy-label>GIS</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/go/ data-taxonomy-term=go><span class=taxonomy-label>Go</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/gpl/ data-taxonomy-term=gpl><span class=taxonomy-label>GPL</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/greenplum/ data-taxonomy-term=greenplum><span class=taxonomy-label>Greenplum</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/hardware/ data-taxonomy-term=hardware><span class=taxonomy-label>Hardware</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/hba/ data-taxonomy-term=hba><span class=taxonomy-label>HBA</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/iac/ data-taxonomy-term=iac><span class=taxonomy-label>IaC</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/iceberg/ data-taxonomy-term=iceberg><span class=taxonomy-label>Iceberg</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/incident-report/ data-taxonomy-term=incident-report><span class=taxonomy-label>Incident-Report</span><span class=taxonomy-count>8</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/installation/ data-taxonomy-term=installation><span class=taxonomy-label>Installation</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/introduction/ data-taxonomy-term=introduction><span class=taxonomy-label>Introduction</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/juicefs/ data-taxonomy-term=juicefs><span class=taxonomy-label>JuiceFS</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/kernel/ data-taxonomy-term=kernel><span class=taxonomy-label>Kernel</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/knn/ data-taxonomy-term=knn><span class=taxonomy-label>KNN</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/kubernetes/ data-taxonomy-term=kubernetes><span class=taxonomy-label>Kubernetes</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/license/ data-taxonomy-term=license><span class=taxonomy-label>License</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/linux/ data-taxonomy-term=linux><span class=taxonomy-label>Linux</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/lock/ data-taxonomy-term=lock><span class=taxonomy-label>Lock</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/logging/ data-taxonomy-term=logging><span class=taxonomy-label>Logging</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/mcp/ data-taxonomy-term=mcp><span class=taxonomy-label>MCP</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/metrics/ data-taxonomy-term=metrics><span class=taxonomy-label>Metrics</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/microservices/ data-taxonomy-term=microservices><span class=taxonomy-label>Microservices</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/migration/ data-taxonomy-term=migration><span class=taxonomy-label>Migration</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/minio/ data-taxonomy-term=minio><span class=taxonomy-label>MinIO</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/ml/ data-taxonomy-term=ml><span class=taxonomy-label>ML</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/mongodb/ data-taxonomy-term=mongodb><span class=taxonomy-label>MongoDB</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/monitoring/ data-taxonomy-term=monitoring><span class=taxonomy-label>Monitoring</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/mssql/ data-taxonomy-term=mssql><span class=taxonomy-label>MSSQL</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/mysql/ data-taxonomy-term=mysql><span class=taxonomy-label>MySQL</span><span class=taxonomy-count>10</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/neon/ data-taxonomy-term=neon><span class=taxonomy-label>Neon</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/newsql/ data-taxonomy-term=newsql><span class=taxonomy-label>NewSQL</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/observability/ data-taxonomy-term=observability><span class=taxonomy-label>Observability</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/olap/ data-taxonomy-term=olap><span class=taxonomy-label>OLAP</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/open-source/ data-taxonomy-term=open-source><span class=taxonomy-label>Open-Source</span><span class=taxonomy-count>11</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/openai/ data-taxonomy-term=openai><span class=taxonomy-label>OpenAI</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/opentelemetry/ data-taxonomy-term=opentelemetry><span class=taxonomy-label>OpenTelemetry</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/operating-system/ data-taxonomy-term=operating-system><span class=taxonomy-label>Operating-System</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/oracle/ data-taxonomy-term=oracle><span class=taxonomy-label>Oracle</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/performance/ data-taxonomy-term=performance><span class=taxonomy-label>Performance</span><span class=taxonomy-count>8</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/pg-admin/ data-taxonomy-term=pg-admin><span class=taxonomy-label>PG-Admin</span><span class=taxonomy-count>42</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/pg-development/ data-taxonomy-term=pg-development><span class=taxonomy-label>PG-Development</span><span class=taxonomy-count>20</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/pg-ecosystem/ data-taxonomy-term=pg-ecosystem><span class=taxonomy-label>PG-Ecosystem</span><span class=taxonomy-count>21</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/pg-kernel/ data-taxonomy-term=pg-kernel><span class=taxonomy-label>PG-Kernel</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/pigsty/ data-taxonomy-term=pigsty><span class=taxonomy-label>Pigsty</span><span class=taxonomy-count>32</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/pigstyapp/ data-taxonomy-term=pigstyapp><span class=taxonomy-label>PigstyApp</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/pitr/ data-taxonomy-term=pitr><span class=taxonomy-label>PITR</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/polardb/ data-taxonomy-term=polardb><span class=taxonomy-label>PolarDB</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/positioning/ data-taxonomy-term=positioning><span class=taxonomy-label>Positioning</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/postgresml/ data-taxonomy-term=postgresml><span class=taxonomy-label>PostgresML</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/postgresql/ data-taxonomy-term=postgresql><span class=taxonomy-label>PostgreSQL</span><span class=taxonomy-count>124</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/rds/ data-taxonomy-term=rds><span class=taxonomy-label>RDS</span><span class=taxonomy-count>8</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/recommendation-system/ data-taxonomy-term=recommendation-system><span class=taxonomy-label>Recommendation System</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/recovery/ data-taxonomy-term=recovery><span class=taxonomy-label>Recovery</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/redis/ data-taxonomy-term=redis><span class=taxonomy-label>Redis</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/rednote/ data-taxonomy-term=rednote><span class=taxonomy-label>RedNote</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/s3/ data-taxonomy-term=s3><span class=taxonomy-label>S3</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/security/ data-taxonomy-term=security><span class=taxonomy-label>Security</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/serverless/ data-taxonomy-term=serverless><span class=taxonomy-label>Serverless</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/service/ data-taxonomy-term=service><span class=taxonomy-label>Service</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/sla/ data-taxonomy-term=sla><span class=taxonomy-label>SLA</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/sop/ data-taxonomy-term=sop><span class=taxonomy-label>SOP</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/sponsor/ data-taxonomy-term=sponsor><span class=taxonomy-label>Sponsor</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/sql/ data-taxonomy-term=sql><span class=taxonomy-label>SQL</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/sqlite/ data-taxonomy-term=sqlite><span class=taxonomy-label>SQLite</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/supabase/ data-taxonomy-term=supabase><span class=taxonomy-label>Supabase</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/supply-chain/ data-taxonomy-term=supply-chain><span class=taxonomy-label>Supply Chain</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/tech-commentary/ data-taxonomy-term=tech-commentary><span class=taxonomy-label>Tech Commentary</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/tencent-cloud/ data-taxonomy-term=tencent-cloud><span class=taxonomy-label>Tencent-Cloud</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/tool/ data-taxonomy-term=tool><span class=taxonomy-label>Tool</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/tools/ data-taxonomy-term=tools><span class=taxonomy-label>Tools</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/triggers/ data-taxonomy-term=triggers><span class=taxonomy-label>Triggers</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/user/ data-taxonomy-term=user><span class=taxonomy-label>User</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/vector/ data-taxonomy-term=vector><span class=taxonomy-label>Vector</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/vector-database/ data-taxonomy-term=vector-database><span class=taxonomy-label>Vector-Database</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/vector-db/ data-taxonomy-term=vector-db><span class=taxonomy-label>Vector-DB</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/victoria/ data-taxonomy-term=victoria><span class=taxonomy-label>Victoria</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/visualization/ data-taxonomy-term=visualization><span class=taxonomy-label>Visualization</span><span class=taxonomy-count>6</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/vulnerability/ data-taxonomy-term=vulnerability><span class=taxonomy-label>Vulnerability</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/wizard/ data-taxonomy-term=wizard><span class=taxonomy-label>Wizard</span><span class=taxonomy-count>1</span></a></li></ul></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5 pe-md-4" role=main><a class=td-rss-button title=RSS href=/blog/db/index.xml target=_blank rel=noopener><i class="fa-solid fa-rss" aria-hidden=true></i></a><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/blog/>Blog</a></li><li class=breadcrumb-item><a href=/blog/db/>Database</a></li><li class="breadcrumb-item active" aria-current=page>Self-Hosting Supabase</li></ol></nav><div class=td-content><h1>Self-Hosting Supabase on PostgreSQL</h1><div class="td-byline mb-4">By <b><a href=https://vonng.com>Ruohang Feng</a> (<a href=https://vonng.com/en/>@Vonng</a>)</b> |
<time datetime=2024-11-25 class=text-body-secondary>November 25, 2024</time></div><header class=article-meta></header><p>Supabase is great, own your own Supabase is even better.
Here&rsquo;s a comprehensive tutorial for self-hosting production-grade supabase on local/cloud VM/BMs.</p><h2 id=what-is-supabase>What is Supabase?</h2><p><a href=https://supabase.com/>Supabase</a> is an open-source Firebase alternative, a Backend as a Service (BaaS).</p><p>Supabase wraps PostgreSQL kernel and vector extensions, alone with authentication, realtime subscriptions, edge functions, object storage, and instant REST and GraphQL APIs from your postgres schema.
It let you skip most backend work, requiring only database design and frontend skills to ship quickly.</p><p>Currently, Supabase may be the <a href=https://ossrank.com/cat/368-postgresql-extension-ecosystem>most popular</a> open-source project in the PostgreSQL ecosystem, boasting over 74,000 stars on GitHub.
And become quite popular among developers, and startups, since they have a <a href=https://supabase.com/pricing>generous free plan</a>, just like cloudflare & neon.</p><hr><h2 id=why-self-hosting>Why Self-Hosting?</h2><p>Supabase&rsquo;s slogan is: &ldquo;<strong>Build in a weekend, Scale to millions</strong>&rdquo;. It has great cost-effectiveness in small scales (4c8g) indeed.
But there is no doubt that when you really grow to millions of users, some may choose to self-hosting their own Supabase —— for functionality, performance, cost, and other reasons.</p><p>That&rsquo;s where Pigsty comes in. Pigsty provides a complete one-click self-hosting solution for Supabase.
Self-hosted Supabase can enjoy full PostgreSQL monitoring, IaC, PITR, and high availability capability,</p><p>You can run the latest PostgreSQL 17(,16,15,14) kernels, (supabase is using the 15 currently), alone with <a href=https://ext.pigsty.io/#/list>390</a> PostgreSQL extensions out-of-the-box.
Run on <a href=/docs/ref/linux>mainstream</a> Linus OS distros with production grade <a href=/docs/concept/ha>HA</a> <a href=/docs/pgsql>PostgreSQL</a>, <a href=/docs/minio>MinIO</a>, Prometheus & Grafana Stack for observability, and Nginx for reverse proxy.</p><p><a href=https://ext.pigsty.io/#/time><strong>TIME</strong></a>: <a href=https://ext.pigsty.io/#/timescaledb><code>timescaledb</code></a> <a href=https://ext.pigsty.io/#/timescaledb_toolkit><code>timescaledb_toolkit</code></a> <a href=https://ext.pigsty.io/#/timeseries><code>timeseries</code></a> <a href=https://ext.pigsty.io/#/periods><code>periods</code></a> <a href=https://ext.pigsty.io/#/temporal_tables><code>temporal_tables</code></a> <a href=https://ext.pigsty.io/#/emaj><code>emaj</code></a> <a href=https://ext.pigsty.io/#/table_version><code>table_version</code></a> <a href=https://ext.pigsty.io/#/pg_cron><code>pg_cron</code></a> <a href=https://ext.pigsty.io/#/pg_later><code>pg_later</code></a> <a href=https://ext.pigsty.io/#/pg_background><code>pg_background</code></a>
<a href=https://ext.pigsty.io/#/gis><strong>GIS</strong></a>: <a href=https://ext.pigsty.io/#/postgis><code>postgis</code></a> <a href=https://ext.pigsty.io/#/postgis_topology><code>postgis_topology</code></a> <a href=https://ext.pigsty.io/#/postgis_raster><code>postgis_raster</code></a> <a href=https://ext.pigsty.io/#/postgis_sfcgal><code>postgis_sfcgal</code></a> <a href=https://ext.pigsty.io/#/postgis_tiger_geocoder><code>postgis_tiger_geocoder</code></a> <a href=https://ext.pigsty.io/#/address_standardizer><code>address_standardizer</code></a> <a href=https://ext.pigsty.io/#/address_standardizer_data_us><code>address_standardizer_data_us</code></a> <a href=https://ext.pigsty.io/#/pgrouting><code>pgrouting</code></a> <a href=https://ext.pigsty.io/#/pointcloud><code>pointcloud</code></a> <a href=https://ext.pigsty.io/#/pointcloud_postgis><code>pointcloud_postgis</code></a> <a href=https://ext.pigsty.io/#/h3><code>h3</code></a> <a href=https://ext.pigsty.io/#/h3_postgis><code>h3_postgis</code></a> <a href=https://ext.pigsty.io/#/q3c><code>q3c</code></a> <a href=https://ext.pigsty.io/#/ogr_fdw><code>ogr_fdw</code></a> <a href=https://ext.pigsty.io/#/geoip><code>geoip</code></a> <a href=https://ext.pigsty.io/#/pg_polyline><code>pg_polyline</code></a> <a href=https://ext.pigsty.io/#/pg_geohash><code>pg_geohash</code></a> <a href=https://ext.pigsty.io/#/mobilitydb><code>mobilitydb</code></a> <a href=https://ext.pigsty.io/#/earthdistance><code>earthdistance</code></a>
<a href=https://ext.pigsty.io/#/rag><strong>RAG</strong></a>: <a href=https://ext.pigsty.io/#/vector><code>vector</code></a> <a href=https://ext.pigsty.io/#/vectorscale><code>vectorscale</code></a> <a href=https://ext.pigsty.io/#/vectorize><code>vectorize</code></a> <a href=https://ext.pigsty.io/#/pg_similarity><code>pg_similarity</code></a> <a href=https://ext.pigsty.io/#/smlar><code>smlar</code></a> <a href=https://ext.pigsty.io/#/pg_summarize><code>pg_summarize</code></a> <a href=https://ext.pigsty.io/#/pg_tiktoken><code>pg_tiktoken</code></a> <a href=https://ext.pigsty.io/#/pgml><code>pgml</code></a> <a href=https://ext.pigsty.io/#/pg4ml><code>pg4ml</code></a>
<a href=https://ext.pigsty.io/#/fts><strong>FTS</strong></a>: <a href=https://ext.pigsty.io/#/pg_search><code>pg_search</code></a> <a href=https://ext.pigsty.io/#/pg_bigm><code>pg_bigm</code></a> <a href=https://ext.pigsty.io/#/zhparser><code>zhparser</code></a> <a href=https://ext.pigsty.io/#/hunspell_cs_cz><code>hunspell_cs_cz</code></a> <a href=https://ext.pigsty.io/#/hunspell_de_de><code>hunspell_de_de</code></a> <a href=https://ext.pigsty.io/#/hunspell_en_us><code>hunspell_en_us</code></a> <a href=https://ext.pigsty.io/#/hunspell_fr><code>hunspell_fr</code></a> <a href=https://ext.pigsty.io/#/hunspell_ne_np><code>hunspell_ne_np</code></a> <a href=https://ext.pigsty.io/#/hunspell_nl_nl><code>hunspell_nl_nl</code></a> <a href=https://ext.pigsty.io/#/hunspell_nn_no><code>hunspell_nn_no</code></a> <a href=https://ext.pigsty.io/#/hunspell_pt_pt><code>hunspell_pt_pt</code></a> <a href=https://ext.pigsty.io/#/hunspell_ru_ru><code>hunspell_ru_ru</code></a> <a href=https://ext.pigsty.io/#/hunspell_ru_ru_aot><code>hunspell_ru_ru_aot</code></a> <a href=https://ext.pigsty.io/#/fuzzystrmatch><code>fuzzystrmatch</code></a> <a href=https://ext.pigsty.io/#/pg_trgm><code>pg_trgm</code></a>
<a href=https://ext.pigsty.io/#/olap><strong>OLAP</strong></a>: <a href=https://ext.pigsty.io/#/citus><code>citus</code></a> <a href=https://ext.pigsty.io/#/citus_columnar><code>citus_columnar</code></a> <a href=https://ext.pigsty.io/#/columnar><code>columnar</code></a> <a href=https://ext.pigsty.io/#/pg_analytics><code>pg_analytics</code></a> <a href=https://ext.pigsty.io/#/pg_duckdb><code>pg_duckdb</code></a> <a href=https://ext.pigsty.io/#/pg_mooncake><code>pg_mooncake</code></a> <a href=https://ext.pigsty.io/#/duckdb_fdw><code>duckdb_fdw</code></a> <a href=https://ext.pigsty.io/#/pg_parquet><code>pg_parquet</code></a> <a href=https://ext.pigsty.io/#/pg_fkpart><code>pg_fkpart</code></a> <a href=https://ext.pigsty.io/#/pg_partman><code>pg_partman</code></a> <a href=https://ext.pigsty.io/#/plproxy><code>plproxy</code></a> <a href=https://ext.pigsty.io/#/pg_strom><code>pg_strom</code></a> <a href=https://ext.pigsty.io/#/tablefunc><code>tablefunc</code></a>
<a href=https://ext.pigsty.io/#/feat><strong>FEAT</strong></a>: <a href=https://ext.pigsty.io/#/age><code>age</code></a> <a href=https://ext.pigsty.io/#/hll><code>hll</code></a> <a href=https://ext.pigsty.io/#/rum><code>rum</code></a> <a href=https://ext.pigsty.io/#/pg_graphql><code>pg_graphql</code></a> <a href=https://ext.pigsty.io/#/pg_jsonschema><code>pg_jsonschema</code></a> <a href=https://ext.pigsty.io/#/jsquery><code>jsquery</code></a> <a href=https://ext.pigsty.io/#/pg_hint_plan><code>pg_hint_plan</code></a> <a href=https://ext.pigsty.io/#/hypopg><code>hypopg</code></a> <a href=https://ext.pigsty.io/#/index_advisor><code>index_advisor</code></a> <a href=https://ext.pigsty.io/#/plan_filter><code>plan_filter</code></a> <a href=https://ext.pigsty.io/#/imgsmlr><code>imgsmlr</code></a> <a href=https://ext.pigsty.io/#/pg_ivm><code>pg_ivm</code></a> <a href=https://ext.pigsty.io/#/pgmq><code>pgmq</code></a> <a href=https://ext.pigsty.io/#/pgq><code>pgq</code></a> <a href=https://ext.pigsty.io/#/pg_cardano><code>pg_cardano</code></a> <a href=https://ext.pigsty.io/#/rdkit><code>rdkit</code></a> <a href=https://ext.pigsty.io/#/bloom><code>bloom</code></a>
<a href=https://ext.pigsty.io/#/lang><strong>LANG</strong></a>: <a href=https://ext.pigsty.io/#/pg_tle><code>pg_tle</code></a> <a href=https://ext.pigsty.io/#/plv8><code>plv8</code></a> <a href=https://ext.pigsty.io/#/pllua><code>pllua</code></a> <a href=https://ext.pigsty.io/#/hstore_pllua><code>hstore_pllua</code></a> <a href=https://ext.pigsty.io/#/plluau><code>plluau</code></a> <a href=https://ext.pigsty.io/#/hstore_plluau><code>hstore_plluau</code></a> <a href=https://ext.pigsty.io/#/plprql><code>plprql</code></a> <a href=https://ext.pigsty.io/#/pldbgapi><code>pldbgapi</code></a> <a href=https://ext.pigsty.io/#/plpgsql_check><code>plpgsql_check</code></a> <a href=https://ext.pigsty.io/#/plprofiler><code>plprofiler</code></a> <a href=https://ext.pigsty.io/#/plsh><code>plsh</code></a> <a href=https://ext.pigsty.io/#/pljava><code>pljava</code></a> <a href=https://ext.pigsty.io/#/plr><code>plr</code></a> <a href=https://ext.pigsty.io/#/pgtap><code>pgtap</code></a> <a href=https://ext.pigsty.io/#/faker><code>faker</code></a> <a href=https://ext.pigsty.io/#/dbt2><code>dbt2</code></a> <a href=https://ext.pigsty.io/#/pltcl><code>pltcl</code></a> <a href=https://ext.pigsty.io/#/pltclu><code>pltclu</code></a> <a href=https://ext.pigsty.io/#/plperl><code>plperl</code></a> <a href=https://ext.pigsty.io/#/bool_plperl><code>bool_plperl</code></a> <a href=https://ext.pigsty.io/#/hstore_plperl><code>hstore_plperl</code></a> <a href=https://ext.pigsty.io/#/jsonb_plperl><code>jsonb_plperl</code></a> <a href=https://ext.pigsty.io/#/plperlu><code>plperlu</code></a> <a href=https://ext.pigsty.io/#/bool_plperlu><code>bool_plperlu</code></a> <a href=https://ext.pigsty.io/#/jsonb_plperlu><code>jsonb_plperlu</code></a> <a href=https://ext.pigsty.io/#/hstore_plperlu><code>hstore_plperlu</code></a> <a href=https://ext.pigsty.io/#/plpgsql><code>plpgsql</code></a> <a href=https://ext.pigsty.io/#/plpython3u><code>plpython3u</code></a> <a href=https://ext.pigsty.io/#/jsonb_plpython3u><code>jsonb_plpython3u</code></a> <a href=https://ext.pigsty.io/#/ltree_plpython3u><code>ltree_plpython3u</code></a> <a href=https://ext.pigsty.io/#/hstore_plpython3u><code>hstore_plpython3u</code></a>
<a href=https://ext.pigsty.io/#/type><strong>TYPE</strong></a>: <a href=https://ext.pigsty.io/#/prefix><code>prefix</code></a> <a href=https://ext.pigsty.io/#/semver><code>semver</code></a> <a href=https://ext.pigsty.io/#/unit><code>unit</code></a> <a href=https://ext.pigsty.io/#/md5hash><code>md5hash</code></a> <a href=https://ext.pigsty.io/#/asn1oid><code>asn1oid</code></a> <a href=https://ext.pigsty.io/#/roaringbitmap><code>roaringbitmap</code></a> <a href=https://ext.pigsty.io/#/pgfaceting><code>pgfaceting</code></a> <a href=https://ext.pigsty.io/#/pg_sphere><code>pg_sphere</code></a> <a href=https://ext.pigsty.io/#/country><code>country</code></a> <a href=https://ext.pigsty.io/#/currency><code>currency</code></a> <a href=https://ext.pigsty.io/#/pgmp><code>pgmp</code></a> <a href=https://ext.pigsty.io/#/numeral><code>numeral</code></a> <a href=https://ext.pigsty.io/#/pg_rational><code>pg_rational</code></a> <a href=https://ext.pigsty.io/#/uint><code>uint</code></a> <a href=https://ext.pigsty.io/#/uint128><code>uint128</code></a> <a href=https://ext.pigsty.io/#/ip4r><code>ip4r</code></a> <a href=https://ext.pigsty.io/#/uri><code>uri</code></a> <a href=https://ext.pigsty.io/#/pgemailaddr><code>pgemailaddr</code></a> <a href=https://ext.pigsty.io/#/acl><code>acl</code></a> <a href=https://ext.pigsty.io/#/debversion><code>debversion</code></a> <a href=https://ext.pigsty.io/#/pg_rrule><code>pg_rrule</code></a> <a href=https://ext.pigsty.io/#/timestamp9><code>timestamp9</code></a> <a href=https://ext.pigsty.io/#/chkpass><code>chkpass</code></a> <a href=https://ext.pigsty.io/#/isn><code>isn</code></a> <a href=https://ext.pigsty.io/#/seg><code>seg</code></a> <a href=https://ext.pigsty.io/#/cube><code>cube</code></a> <a href=https://ext.pigsty.io/#/ltree><code>ltree</code></a> <a href=https://ext.pigsty.io/#/hstore><code>hstore</code></a> <a href=https://ext.pigsty.io/#/citext><code>citext</code></a> <a href=https://ext.pigsty.io/#/xml2><code>xml2</code></a>
<a href=https://ext.pigsty.io/#/func><strong>FUNC</strong></a>: <a href=https://ext.pigsty.io/#/topn><code>topn</code></a> <a href=https://ext.pigsty.io/#/gzip><code>gzip</code></a> <a href=https://ext.pigsty.io/#/zstd><code>zstd</code></a> <a href=https://ext.pigsty.io/#/http><code>http</code></a> <a href=https://ext.pigsty.io/#/pg_net><code>pg_net</code></a> <a href=https://ext.pigsty.io/#/pg_smtp_client><code>pg_smtp_client</code></a> <a href=https://ext.pigsty.io/#/pg_html5_email_address><code>pg_html5_email_address</code></a> <a href=https://ext.pigsty.io/#/pgsql_tweaks><code>pgsql_tweaks</code></a> <a href=https://ext.pigsty.io/#/pg_extra_time><code>pg_extra_time</code></a> <a href=https://ext.pigsty.io/#/timeit><code>timeit</code></a> <a href=https://ext.pigsty.io/#/count_distinct><code>count_distinct</code></a> <a href=https://ext.pigsty.io/#/extra_window_functions><code>extra_window_functions</code></a> <a href=https://ext.pigsty.io/#/first_last_agg><code>first_last_agg</code></a> <a href=https://ext.pigsty.io/#/tdigest><code>tdigest</code></a> <a href=https://ext.pigsty.io/#/aggs_for_vecs><code>aggs_for_vecs</code></a> <a href=https://ext.pigsty.io/#/aggs_for_arrays><code>aggs_for_arrays</code></a> <a href=https://ext.pigsty.io/#/arraymath><code>arraymath</code></a> <a href=https://ext.pigsty.io/#/quantile><code>quantile</code></a> <a href=https://ext.pigsty.io/#/lower_quantile><code>lower_quantile</code></a> <a href=https://ext.pigsty.io/#/pg_idkit><code>pg_idkit</code></a> <a href=https://ext.pigsty.io/#/pg_uuidv7><code>pg_uuidv7</code></a> <a href=https://ext.pigsty.io/#/permuteseq><code>permuteseq</code></a> <a href=https://ext.pigsty.io/#/pg_hashids><code>pg_hashids</code></a> <a href=https://ext.pigsty.io/#/sequential_uuids><code>sequential_uuids</code></a> <a href=https://ext.pigsty.io/#/pg_math><code>pg_math</code></a> <a href=https://ext.pigsty.io/#/random><code>random</code></a> <a href=https://ext.pigsty.io/#/base36><code>base36</code></a> <a href=https://ext.pigsty.io/#/base62><code>base62</code></a> <a href=https://ext.pigsty.io/#/pg_base58><code>pg_base58</code></a> <a href=https://ext.pigsty.io/#/floatvec><code>floatvec</code></a> <a href=https://ext.pigsty.io/#/financial><code>financial</code></a> <a href=https://ext.pigsty.io/#/pgjwt><code>pgjwt</code></a> <a href=https://ext.pigsty.io/#/pg_hashlib><code>pg_hashlib</code></a> <a href=https://ext.pigsty.io/#/shacrypt><code>shacrypt</code></a> <a href=https://ext.pigsty.io/#/cryptint><code>cryptint</code></a> <a href=https://ext.pigsty.io/#/pguecc><code>pguecc</code></a> <a href=https://ext.pigsty.io/#/pgpcre><code>pgpcre</code></a> <a href=https://ext.pigsty.io/#/icu_ext><code>icu_ext</code></a> <a href=https://ext.pigsty.io/#/pgqr><code>pgqr</code></a> <a href=https://ext.pigsty.io/#/envvar><code>envvar</code></a> <a href=https://ext.pigsty.io/#/pg_protobuf><code>pg_protobuf</code></a> <a href=https://ext.pigsty.io/#/url_encode><code>url_encode</code></a> <a href=https://ext.pigsty.io/#/refint><code>refint</code></a> <a href=https://ext.pigsty.io/#/autoinc><code>autoinc</code></a> <a href=https://ext.pigsty.io/#/insert_username><code>insert_username</code></a> <a href=https://ext.pigsty.io/#/moddatetime><code>moddatetime</code></a> <a href=https://ext.pigsty.io/#/tsm_system_time><code>tsm_system_time</code></a> <a href=https://ext.pigsty.io/#/dict_xsyn><code>dict_xsyn</code></a> <a href=https://ext.pigsty.io/#/tsm_system_rows><code>tsm_system_rows</code></a> <a href=https://ext.pigsty.io/#/tcn><code>tcn</code></a> <a href=https://ext.pigsty.io/#/uuid-ossp><code>uuid-ossp</code></a> <a href=https://ext.pigsty.io/#/btree_gist><code>btree_gist</code></a> <a href=https://ext.pigsty.io/#/btree_gin><code>btree_gin</code></a> <a href=https://ext.pigsty.io/#/intarray><code>intarray</code></a> <a href=https://ext.pigsty.io/#/intagg><code>intagg</code></a> <a href=https://ext.pigsty.io/#/dict_int><code>dict_int</code></a> <a href=https://ext.pigsty.io/#/unaccent><code>unaccent</code></a>
<a href=https://ext.pigsty.io/#/admin><strong>ADMIN</strong></a>: <a href=https://ext.pigsty.io/#/pg_repack><code>pg_repack</code></a> <a href=https://ext.pigsty.io/#/pg_squeeze><code>pg_squeeze</code></a> <a href=https://ext.pigsty.io/#/pg_dirtyread><code>pg_dirtyread</code></a> <a href=https://ext.pigsty.io/#/pgfincore><code>pgfincore</code></a> <a href=https://ext.pigsty.io/#/pgdd><code>pgdd</code></a> <a href=https://ext.pigsty.io/#/ddlx><code>ddlx</code></a> <a href=https://ext.pigsty.io/#/prioritize><code>prioritize</code></a> <a href=https://ext.pigsty.io/#/pg_checksums><code>pg_checksums</code></a> <a href=https://ext.pigsty.io/#/pg_readonly><code>pg_readonly</code></a> <a href=https://ext.pigsty.io/#/safeupdate><code>safeupdate</code></a> <a href=https://ext.pigsty.io/#/pg_permissions><code>pg_permissions</code></a> <a href=https://ext.pigsty.io/#/pgautofailover><code>pgautofailover</code></a> <a href=https://ext.pigsty.io/#/pg_catcheck><code>pg_catcheck</code></a> <a href=https://ext.pigsty.io/#/pre_prepare><code>pre_prepare</code></a> <a href=https://ext.pigsty.io/#/pgcozy><code>pgcozy</code></a> <a href=https://ext.pigsty.io/#/pg_orphaned><code>pg_orphaned</code></a> <a href=https://ext.pigsty.io/#/pg_crash><code>pg_crash</code></a> <a href=https://ext.pigsty.io/#/pg_cheat_funcs><code>pg_cheat_funcs</code></a> <a href=https://ext.pigsty.io/#/pg_savior><code>pg_savior</code></a> <a href=https://ext.pigsty.io/#/table_log><code>table_log</code></a> <a href=https://ext.pigsty.io/#/pg_fio><code>pg_fio</code></a> <a href=https://ext.pigsty.io/#/pgpool_adm><code>pgpool_adm</code></a> <a href=https://ext.pigsty.io/#/pgpool_recovery><code>pgpool_recovery</code></a> <a href=https://ext.pigsty.io/#/pgpool_regclass><code>pgpool_regclass</code></a> <a href=https://ext.pigsty.io/#/pgagent><code>pgagent</code></a> <a href=https://ext.pigsty.io/#/vacuumlo><code>vacuumlo</code></a> <a href=https://ext.pigsty.io/#/pg_prewarm><code>pg_prewarm</code></a> <a href=https://ext.pigsty.io/#/oid2name><code>oid2name</code></a> <a href=https://ext.pigsty.io/#/lo><code>lo</code></a> <a href=https://ext.pigsty.io/#/basic_archive><code>basic_archive</code></a> <a href=https://ext.pigsty.io/#/basebackup_to_shell><code>basebackup_to_shell</code></a> <a href=https://ext.pigsty.io/#/old_snapshot><code>old_snapshot</code></a> <a href=https://ext.pigsty.io/#/adminpack><code>adminpack</code></a> <a href=https://ext.pigsty.io/#/amcheck><code>amcheck</code></a> <a href=https://ext.pigsty.io/#/pg_surgery><code>pg_surgery</code></a>
<a href=https://ext.pigsty.io/#/stat><strong>STAT</strong></a>: <a href=https://ext.pigsty.io/#/pg_profile><code>pg_profile</code></a> <a href=https://ext.pigsty.io/#/pg_show_plans><code>pg_show_plans</code></a> <a href=https://ext.pigsty.io/#/pg_stat_kcache><code>pg_stat_kcache</code></a> <a href=https://ext.pigsty.io/#/pg_stat_monitor><code>pg_stat_monitor</code></a> <a href=https://ext.pigsty.io/#/pg_qualstats><code>pg_qualstats</code></a> <a href=https://ext.pigsty.io/#/pg_store_plans><code>pg_store_plans</code></a> <a href=https://ext.pigsty.io/#/pg_track_settings><code>pg_track_settings</code></a> <a href=https://ext.pigsty.io/#/pg_wait_sampling><code>pg_wait_sampling</code></a> <a href=https://ext.pigsty.io/#/system_stats><code>system_stats</code></a> <a href=https://ext.pigsty.io/#/meta><code>meta</code></a> <a href=https://ext.pigsty.io/#/pgnodemx><code>pgnodemx</code></a> <a href=https://ext.pigsty.io/#/pg_proctab><code>pg_proctab</code></a> <a href=https://ext.pigsty.io/#/pg_sqlog><code>pg_sqlog</code></a> <a href=https://ext.pigsty.io/#/bgw_replstatus><code>bgw_replstatus</code></a> <a href=https://ext.pigsty.io/#/pgmeminfo><code>pgmeminfo</code></a> <a href=https://ext.pigsty.io/#/toastinfo><code>toastinfo</code></a> <a href=https://ext.pigsty.io/#/explain_ui><code>explain_ui</code></a> <a href=https://ext.pigsty.io/#/pg_relusage><code>pg_relusage</code></a> <a href=https://ext.pigsty.io/#/pg_top><code>pg_top</code></a> <a href=https://ext.pigsty.io/#/pagevis><code>pagevis</code></a> <a href=https://ext.pigsty.io/#/powa><code>powa</code></a> <a href=https://ext.pigsty.io/#/pageinspect><code>pageinspect</code></a> <a href=https://ext.pigsty.io/#/pgrowlocks><code>pgrowlocks</code></a> <a href=https://ext.pigsty.io/#/sslinfo><code>sslinfo</code></a> <a href=https://ext.pigsty.io/#/pg_buffercache><code>pg_buffercache</code></a> <a href=https://ext.pigsty.io/#/pg_walinspect><code>pg_walinspect</code></a> <a href=https://ext.pigsty.io/#/pg_freespacemap><code>pg_freespacemap</code></a> <a href=https://ext.pigsty.io/#/pg_visibility><code>pg_visibility</code></a> <a href=https://ext.pigsty.io/#/pgstattuple><code>pgstattuple</code></a> <a href=https://ext.pigsty.io/#/auto_explain><code>auto_explain</code></a> <a href=https://ext.pigsty.io/#/pg_stat_statements><code>pg_stat_statements</code></a>
<a href=https://ext.pigsty.io/#/sec><strong>SEC</strong></a>: <a href=https://ext.pigsty.io/#/passwordcheck_cracklib><code>passwordcheck_cracklib</code></a> <a href=https://ext.pigsty.io/#/supautils><code>supautils</code></a> <a href=https://ext.pigsty.io/#/pgsodium><code>pgsodium</code></a> <a href=https://ext.pigsty.io/#/supabase_vault><code>supabase_vault</code></a> <a href=https://ext.pigsty.io/#/pg_session_jwt><code>pg_session_jwt</code></a> <a href=https://ext.pigsty.io/#/anon><code>anon</code></a> <a href=https://ext.pigsty.io/#/pg_tde><code>pg_tde</code></a> <a href=https://ext.pigsty.io/#/pgsmcrypto><code>pgsmcrypto</code></a> <a href=https://ext.pigsty.io/#/pgaudit><code>pgaudit</code></a> <a href=https://ext.pigsty.io/#/pgauditlogtofile><code>pgauditlogtofile</code></a> <a href=https://ext.pigsty.io/#/pg_auth_mon><code>pg_auth_mon</code></a> <a href=https://ext.pigsty.io/#/credcheck><code>credcheck</code></a> <a href=https://ext.pigsty.io/#/pgcryptokey><code>pgcryptokey</code></a> <a href=https://ext.pigsty.io/#/pg_jobmon><code>pg_jobmon</code></a> <a href=https://ext.pigsty.io/#/logerrors><code>logerrors</code></a> <a href=https://ext.pigsty.io/#/login_hook><code>login_hook</code></a> <a href=https://ext.pigsty.io/#/set_user><code>set_user</code></a> <a href=https://ext.pigsty.io/#/pg_snakeoil><code>pg_snakeoil</code></a> <a href=https://ext.pigsty.io/#/pgextwlist><code>pgextwlist</code></a> <a href=https://ext.pigsty.io/#/pg_auditor><code>pg_auditor</code></a> <a href=https://ext.pigsty.io/#/sslutils><code>sslutils</code></a> <a href=https://ext.pigsty.io/#/noset><code>noset</code></a> <a href=https://ext.pigsty.io/#/sepgsql><code>sepgsql</code></a> <a href=https://ext.pigsty.io/#/auth_delay><code>auth_delay</code></a> <a href=https://ext.pigsty.io/#/pgcrypto><code>pgcrypto</code></a> <a href=https://ext.pigsty.io/#/passwordcheck><code>passwordcheck</code></a>
<a href=https://ext.pigsty.io/#/fdw><strong>FDW</strong></a>: <a href=https://ext.pigsty.io/#/wrappers><code>wrappers</code></a> <a href=https://ext.pigsty.io/#/multicorn><code>multicorn</code></a> <a href=https://ext.pigsty.io/#/odbc_fdw><code>odbc_fdw</code></a> <a href=https://ext.pigsty.io/#/jdbc_fdw><code>jdbc_fdw</code></a> <a href=https://ext.pigsty.io/#/mysql_fdw><code>mysql_fdw</code></a> <a href=https://ext.pigsty.io/#/oracle_fdw><code>oracle_fdw</code></a> <a href=https://ext.pigsty.io/#/tds_fdw><code>tds_fdw</code></a> <a href=https://ext.pigsty.io/#/db2_fdw><code>db2_fdw</code></a> <a href=https://ext.pigsty.io/#/sqlite_fdw><code>sqlite_fdw</code></a> <a href=https://ext.pigsty.io/#/pgbouncer_fdw><code>pgbouncer_fdw</code></a> <a href=https://ext.pigsty.io/#/mongo_fdw><code>mongo_fdw</code></a> <a href=https://ext.pigsty.io/#/redis_fdw><code>redis_fdw</code></a> <a href=https://ext.pigsty.io/#/redis><code>redis</code></a> <a href=https://ext.pigsty.io/#/kafka_fdw><code>kafka_fdw</code></a> <a href=https://ext.pigsty.io/#/hdfs_fdw><code>hdfs_fdw</code></a> <a href=https://ext.pigsty.io/#/firebird_fdw><code>firebird_fdw</code></a> <a href=https://ext.pigsty.io/#/aws_s3><code>aws_s3</code></a> <a href=https://ext.pigsty.io/#/log_fdw><code>log_fdw</code></a> <a href=https://ext.pigsty.io/#/dblink><code>dblink</code></a> <a href=https://ext.pigsty.io/#/file_fdw><code>file_fdw</code></a> <a href=https://ext.pigsty.io/#/postgres_fdw><code>postgres_fdw</code></a>
<a href=https://ext.pigsty.io/#/sim><strong>SIM</strong></a>: <a href=https://ext.pigsty.io/#/orafce><code>orafce</code></a> <a href=https://ext.pigsty.io/#/pgtt><code>pgtt</code></a> <a href=https://ext.pigsty.io/#/session_variable><code>session_variable</code></a> <a href=https://ext.pigsty.io/#/pg_statement_rollback><code>pg_statement_rollback</code></a> <a href=https://ext.pigsty.io/#/pg_dbms_metadata><code>pg_dbms_metadata</code></a> <a href=https://ext.pigsty.io/#/pg_dbms_lock><code>pg_dbms_lock</code></a> <a href=https://ext.pigsty.io/#/pg_dbms_job><code>pg_dbms_job</code></a> <a href=https://ext.pigsty.io/#/babelfishpg_common><code>babelfishpg_common</code></a> <a href=https://ext.pigsty.io/#/babelfishpg_tsql><code>babelfishpg_tsql</code></a> <a href=https://ext.pigsty.io/#/babelfishpg_tds><code>babelfishpg_tds</code></a> <a href=https://ext.pigsty.io/#/babelfishpg_money><code>babelfishpg_money</code></a> <a href=https://ext.pigsty.io/#/pgmemcache><code>pgmemcache</code></a>
<a href=https://ext.pigsty.io/#/etl><strong>ETL</strong></a>: <a href=https://ext.pigsty.io/#/pglogical><code>pglogical</code></a> <a href=https://ext.pigsty.io/#/pglogical_origin><code>pglogical_origin</code></a> <a href=https://ext.pigsty.io/#/pglogical_ticker><code>pglogical_ticker</code></a> <a href=https://ext.pigsty.io/#/pgl_ddl_deploy><code>pgl_ddl_deploy</code></a> <a href=https://ext.pigsty.io/#/pg_failover_slots><code>pg_failover_slots</code></a> <a href=https://ext.pigsty.io/#/wal2json><code>wal2json</code></a> <a href=https://ext.pigsty.io/#/wal2mongo><code>wal2mongo</code></a> <a href=https://ext.pigsty.io/#/decoderbufs><code>decoderbufs</code></a> <a href=https://ext.pigsty.io/#/decoder_raw><code>decoder_raw</code></a> <a href=https://ext.pigsty.io/#/test_decoding><code>test_decoding</code></a> <a href=https://ext.pigsty.io/#/mimeo><code>mimeo</code></a> <a href=https://ext.pigsty.io/#/repmgr><code>repmgr</code></a> <a href=https://ext.pigsty.io/#/pg_fact_loader><code>pg_fact_loader</code></a> <a href=https://ext.pigsty.io/#/pg_bulkload><code>pg_bulkload</code></a></p><p>Since most of the supabase maintained extensions are not available in the official PGDG repo,
we have compiled all the RPM/DEBs for these extensions and put them in the <a href=https://ext.pigsty.io>Pigsty repo</a>:
<a href=https://ext.pigsty.io/#/pg_graphql>pg_graphql</a>, <a href=https://ext.pigsty.io/#/pg_jsonschema>pg_jsonschema</a>, <a href=https://ext.pigsty.io/#/wrappers>wrappers</a>, <a href=https://ext.pigsty.io/#/index_advisor>index_advisor</a>, <a href=https://ext.pigsty.io/#/pg_net>pg_net</a>, <a href=https://ext.pigsty.io/#/vault>vault</a>, <a href=https://ext.pigsty.io/#/pgjwt>pgjwt</a>, <a href=https://ext.pigsty.io/#/supautils>supautils</a>, <a href=https://ext.pigsty.io/#/plan_filter>pg_plan_filter</a>,</p><p>Everything is under your control, you have the ability and freedom to scale PGSQL, MinIO, and Supabase itself.
And take full advantage of the performance and cost advantages of modern hardware like Gen5 NVMe SSD.</p><p>All you need is prepare a VM with several commands and wait for 10 minutes&mldr;.</p><hr><h2 id=get-started>Get Started</h2><p>First, download & <a href=/docs/setup/install>install</a> pigsty as usual, with the <code>supa</code> config template:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span> curl -fsSL https://repo.pigsty.io/get <span style=color:#000;font-weight:700>|</span> bash
</span></span><span style=display:flex><span>./bootstrap          <span style=color:#8f5902;font-style:italic># install deps (ansible)</span>
</span></span><span style=display:flex><span>./configure -c supa  <span style=color:#8f5902;font-style:italic># use supa config template (IMPORTANT: CHANGE PASSWORDS!)</span>
</span></span><span style=display:flex><span>./deploy.yml         <span style=color:#8f5902;font-style:italic># install pigsty, create ha postgres &amp; minio clusters </span>
</span></span></code></pre></div><blockquote><p>Please change the <code>pigsty.yml</code> config file according to your need before deploying Supabase. (<strong>Credentials</strong>)
For dev/test/demo purposes, we will just skip that, and comes back later.</p></blockquote><p>Then, run the <a href=https://github.com/pgsty/pigsty/blob/main/supabase.yml><code>supabase.yml</code></a> to launch stateless part of supabase.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./supabase.yml       <span style=color:#8f5902;font-style:italic># launch stateless supabase containers with docker compose</span>
</span></span></code></pre></div><p>You can access the supabase API / Web UI through the <code>8000/8443</code> directly.</p><p>with configured DNS, or a local <code>/etc/hosts</code> entry, you can also use the default <code>supa.pigsty</code> domain name via the 80/443 infra portal.</p><blockquote><p>Credentials for Supabase Studio: <code>supabase</code> : <code>pigsty</code></p></blockquote><p><a href=https://asciinema.org/a/692194><img src=https://asciinema.org/a/692194.svg alt=asciicast></a></p><hr><h2 id=architecture>Architecture</h2><p>Pigsty&rsquo;s supabase is based on the <a href=https://supabase.com/docs/guides/self-hosting/docker>Supabase Docker Compose Template</a>,
with some slight modifications to fit-in Pigsty&rsquo;s default <a href=/docs/pgsql/misc/acl>ACL</a> model.</p><p>The stateful part of this template is replaced by Pigsty&rsquo;s managed PostgreSQL cluster and MinIO cluster.
The container part are stateless, so you can launch / destroy / run multiple supabase containers on the same stateful PGSQL / MINIO cluster simultaneously to scale out.</p><p><img src=/img/pigsty/supa-arch.svg alt></p><p>The built-in <a href=https://github.com/pgsty/pigsty/blob/main/conf/supa.yml><code>supa.yml</code></a> <a href=/docs/conf/supabase>config</a> template will create a single-node supabase, with a <a href=/docs/pgsql>singleton PostgreSQL</a> and SNSD <a href=/docs/minio>MinIO</a> server.
You can use <a href=/docs/pgsql/config#replica>Multinode PostgreSQL Clusters</a> and <a href=/docs/minio/config#multi-node-multi-drive>MNMD MinIO Clusters</a> / external S3 service instead in production, we will cover that later.</p><hr><h2 id=config-detail>Config Detail</h2><p>Here are checklists for self-hosting</p><ul><li><input checked disabled type=checkbox> <a href=/docs/deploy/prepare#node><strong>Hardware</strong></a>: necessary VM/BM resources, one node at least, 3-4 are recommended for HA.</li><li><input checked disabled type=checkbox> <a href=/docs/deploy/prepare#operating-system><strong>Linux OS</strong></a>: Linux x86_64 server with fresh installed Linux, <a href=/docs/ref/linux>check compatible distro</a></li><li><input checked disabled type=checkbox> <a href=/docs/deploy/prepare#network><strong>Network</strong></a>: Static IPv4 address which can be used as node identity</li><li><input checked disabled type=checkbox> <a href=/docs/deploy/prepare#admin-user><strong>Admin User</strong></a>: nopass ssh & sudo are recommended for admin user</li><li><input checked disabled type=checkbox> <a href=/docs/setup/config><strong>Conf Template</strong></a>: Use the <a href=/docs/conf/supabase><code>supa</code></a> config template, if you don&rsquo;t know how to manually configure pigsty</li></ul><p>The built-in <a href=https://github.com/pgsty/pigsty/blob/main/conf/supa.yml><code>supa.yml</code></a> config template is shown below.</p><br><details><summary>The supa Config Template</summary><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>all</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#204a87;font-weight:700>children</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># infra cluster for proxy, monitor, alert, etc..</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>infra</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>10.10.10.10</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>infra_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># etcd cluster for ha postgres</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>etcd</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>10.10.10.10</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>etcd_seq: 1 } }, vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>etcd_cluster</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>etcd } }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># minio cluster, s3 compatible object storage</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>minio</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>10.10.10.10</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>minio_seq: 1 } }, vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>minio_cluster</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>minio } }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># pg-meta, the underlying postgres database for supabase</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pg-meta</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>10.10.10.10</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>pg_seq: 1, pg_role</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>primary } }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_cluster</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pg-meta</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_users</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># supabase roles: anon, authenticated, dashboard_user</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: anon           ,login</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: authenticated  ,login</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: dashboard_user ,login: false ,replication: true ,createdb: true ,createrole</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: service_role   ,login: false ,bypassrls</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># supabase users: please use the same password</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: supabase_admin             ,password: &#39;DBUser.Supa&#39; ,pgbouncer: true ,inherit: true   ,roles: [ dbrole_admin ] ,superuser: true ,replication: true ,createdb: true ,createrole: true ,bypassrls</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: authenticator              ,password: &#39;DBUser.Supa&#39; ,pgbouncer: true ,inherit: false  ,roles</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8> </span><span style=color:#000>dbrole_admin, authenticated ,anon ,service_role ] }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: supabase_auth_admin        ,password: &#39;DBUser.Supa&#39; ,pgbouncer: true ,inherit: false  ,roles: [ dbrole_admin ] ,createrole</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: supabase_storage_admin     ,password: &#39;DBUser.Supa&#39; ,pgbouncer: true ,inherit: false  ,roles: [ dbrole_admin, authenticated ,anon ,service_role ] ,createrole</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: supabase_functions_admin   ,password: &#39;DBUser.Supa&#39; ,pgbouncer: true ,inherit: false  ,roles: [ dbrole_admin ] ,createrole</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: supabase_replication_admin ,password: &#39;DBUser.Supa&#39; ,replication: true ,roles</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8> </span><span style=color:#000>dbrole_admin ]}</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: supabase_read_only_user    ,password: &#39;DBUser.Supa&#39; ,bypassrls: true ,roles</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8> </span><span style=color:#000>dbrole_readonly, pg_read_all_data ] }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_databases</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>postgres</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>            </span><span style=color:#204a87;font-weight:700>baseline</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>supabase.sql</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>            </span><span style=color:#204a87;font-weight:700>owner</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>supabase_admin</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>            </span><span style=color:#204a87;font-weight:700>comment</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>supabase postgres database</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>            </span><span style=color:#204a87;font-weight:700>schemas</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8> </span><span style=color:#000>extensions ,auth ,realtime ,storage ,graphql_public ,supabase_functions ,_analytics ,_realtime ]</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>            </span><span style=color:#204a87;font-weight:700>extensions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: pgcrypto  ,schema: extensions  } # 1.3   </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>cryptographic functions</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: pg_net    ,schema: extensions  } # 0.9.2 </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>async HTTP</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: pgjwt     ,schema: extensions  } # 0.2.0 </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>json web token API for postgres</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: uuid-ossp ,schema: extensions  } # 1.1   </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>generate universally unique identifiers (UUIDs)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: pgsodium        }                # 3.1.9 </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pgsodium is a modern cryptography library for Postgres.</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: supabase_vault  }                # 0.2.8 </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>Supabase Vault Extension</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: pg_graphql      }                # 1.5.9 : pg_graphql</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>GraphQL support</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: pg_jsonschema   }                # 0.3.3 : pg_jsonschema</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>Validate json schema</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: wrappers        }                # 0.4.3 : wrappers</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>FDW collections</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: http            }                # 1.6   : http</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>allows web page retrieval inside the database.</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: pg_cron         }                # 1.6   : pg_cron</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>Job scheduler for PostgreSQL</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: timescaledb     }                # 2.17  : timescaledb</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>Enables scalable inserts and complex queries for time-series data</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: pg_tle          }                # 1.2   : pg_tle</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>Trusted Language Extensions for PostgreSQL</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: vector          }                # 0.8.0 : pgvector</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>the vector similarity search</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic># supabase required extensions</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_libs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;pg_stat_statements, plpgsql, plpgsql_check, pg_cron, pg_net, timescaledb, auto_explain, pg_tle, plan_filter&#39;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_extensions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># extensions to be installed on this cluster</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- <span style=color:#000>supabase  </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># essential extensions for supabase</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- <span style=color:#000>timescaledb postgis pg_graphql pg_jsonschema wrappers pg_search pg_analytics pg_parquet plv8 duckdb_fdw pg_cron pg_timetable pgqr</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- <span style=color:#000>supautils pg_plan_filter passwordcheck plpgsql_check pgaudit pgsodium pg_vault pgjwt pg_ecdsa pg_session_jwt index_advisor</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- <span style=color:#000>pgvector pgvectorscale pg_summarize pg_tiktoken pg_tle pg_stat_monitor hypopg pg_hint_plan pg_http pg_net pg_smtp_client pg_idkit</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_parameters</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>cron.database_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>postgres</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>pgsodium.enable_event_trigger</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>off</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_hba_rules</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># supabase hba rules, require access from docker network</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>user: all ,db: postgres  ,addr: intra         ,auth: pwd ,title</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;allow supabase access from intranet&#39;</span><span style=color:#f8f8f8>    </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>user: all ,db: postgres  ,addr: 172.17.0.0/16 ,auth: pwd ,title</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;allow access from local docker network&#39;</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>node_crontab</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;00 01 * * * postgres /pg/bin/pg-backup full&#39;</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># make a full backup every 1am</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># launch supabase stateless part with docker compose: ./supabase.yml</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>supabase</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.10</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>supa_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic># instance id</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>supa_cluster</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>supa           </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># cluster name</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>docker_enabled</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># enable docker</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic># use these to pull docker images via proxy and mirror registries</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic>#docker_registry_mirrors: [&#39;https://docker.xxxxx.io&#39;]</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic>#proxy_env:   # add [OPTIONAL] proxy env to /etc/docker/daemon.json configuration file</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic>#  no_proxy: &#34;localhost,127.0.0.1,10.0.0.0/8,192.168.0.0/16,*.pigsty,*.aliyun.com,mirrors.*,*.myqcloud.com,*.tsinghua.edu.cn&#34;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic>#  #all_proxy: http://user:pass@host:port</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic># these configuration entries will OVERWRITE or APPEND to /opt/supabase/.env file (src template: app/supabase/.env)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic># check https://github.com/pgsty/pigsty/blob/main/app/supabase/.env for default values</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>supa_config</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># IMPORTANT: CHANGE JWT_SECRET AND REGENERATE CREDENTIAL ACCORDING!!!!!!!!!!!</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># https://supabase.com/docs/guides/self-hosting/docker#securing-your-services</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>jwt_secret</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>your-super-secret-jwt-token-with-at-least-32-characters-long</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>anon_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>service_role_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>dashboard_username</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>supabase</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>dashboard_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pigsty</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># postgres connection string (use the correct ip and port)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>postgres_host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>10.10.10.10</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>postgres_port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>5436</span><span style=color:#f8f8f8>             </span><span style=color:#8f5902;font-style:italic># access via the &#39;default&#39; service, which always route to the primary postgres</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>postgres_db</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>postgres</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>postgres_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>DBUser.Supa </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># password for supabase_admin and multiple supabase users</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># expose supabase via domain name</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>site_url</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>http://supa.pigsty</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>api_external_url</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>http://supa.pigsty</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>supabase_public_url</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>http://supa.pigsty</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># if using s3/minio as file storage</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_bucket</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>supa</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>https://sss.pigsty:9000</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_access_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>supabase</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_secret_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>S3User.Supabase</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_force_path_style</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_protocol</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>https</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_region</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>stub</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>minio_domain_ip</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>10.10.10.10</span><span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic># sss.pigsty domain name will resolve to this ip statically</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># if using SMTP (optional)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic>#smtp_admin_email: admin@example.com</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic>#smtp_host: supabase-mail</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic>#smtp_port: 2500</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic>#smtp_user: fake_mail_user</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic>#smtp_pass: fake_mail_password</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic>#smtp_sender_name: fake_sender</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic>#enable_anonymous_users: false</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>version</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>v3.1.0                  </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># pigsty version string</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>admin_ip</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>10.10.10.10</span><span style=color:#f8f8f8>             </span><span style=color:#8f5902;font-style:italic># admin node ip address</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>region: default                   # upstream mirror region</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>default|china|europe</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>node_tune: oltp                   # node tuning specs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>oltp,olap,tiny,crit</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pg_conf: oltp.yml                 # pgsql tuning specs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#000>oltp,olap,tiny,crit}.yml</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>infra_portal</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>                     </span><span style=color:#8f5902;font-style:italic># domain names and upstream servers</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>home         </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>h.pigsty }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>grafana      </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain: g.pigsty ,endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;${admin_ip}:3000&#34;</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>, websocket</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>prometheus   </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain: p.pigsty ,endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;${admin_ip}:9090&#34;</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>alertmanager </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain: a.pigsty ,endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;${admin_ip}:9093&#34;</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>minio        </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain: m.pigsty ,endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;10.10.10.10:9001&#34;</span><span style=color:#204a87;font-weight:700>, https: true, websocket</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>blackbox     </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;${admin_ip}:9115&#34;</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>loki         </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;${admin_ip}:3100&#34;</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic># expose supa studio UI and API via nginx</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>supa         </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain: supa.pigsty ,endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;10.10.10.10:8000&#34;</span><span style=color:#204a87;font-weight:700>, websocket</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic>#----------------------------------#</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># Credential: CHANGE THESE PASSWORDS</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic>#----------------------------------#</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic>#grafana_admin_username: admin</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>grafana_admin_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pigsty</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic>#pg_admin_username: dbuser_dba</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pg_admin_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>DBUser.DBA</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic>#pg_monitor_username: dbuser_monitor</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pg_monitor_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>DBUser.Monitor</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic>#pg_replication_username: replicator</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pg_replication_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>DBUser.Replicator</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic>#patroni_username: postgres</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>patroni_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>Patroni.API</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic>#haproxy_admin_username: admin</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>haproxy_admin_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pigsty</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># use minio as supabase file storage, single node single driver mode for demonstration purpose</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>minio_access_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>minioadmin     </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># root access key, `minioadmin` by default</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>minio_secret_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>minioadmin     </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># root secret key, `minioadmin` by default</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>minio_buckets</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pgsql }, { name: supa } ]</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>minio_users</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>access_key: dba , secret_key: S3User.DBA, policy</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>consoleAdmin }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>access_key: pgbackrest , secret_key: S3User.Backup,   policy</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>readwrite }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>access_key: supabase   , secret_key: S3User.Supabase, policy</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>readwrite }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>minio_endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>https://sss.pigsty:9000   </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># explicit overwrite minio endpoint with haproxy port</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>node_etc_hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;10.10.10.10 sss.pigsty&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># domain name to access minio from all nodes (required)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># use minio as default backup repo for PostgreSQL</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pgbackrest_method: minio          # pgbackrest repo method</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>local,minio,[user-defined...]</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pgbackrest_repo:                  # pgbackrest repo</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>https://pgbackrest.org/configuration.html#section-repository</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>local</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>                          </span><span style=color:#8f5902;font-style:italic># default pgbackrest repo with local posix fs</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>/pg/backup             </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># local backup directory, `/pg/backup` by default</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>retention_full_type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>count   </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># retention full backups by count</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>retention_full</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8>             </span><span style=color:#8f5902;font-style:italic># keep 2, at most 3 full backup when using local fs repo</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>minio</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>                          </span><span style=color:#8f5902;font-style:italic># optional minio repo for pgbackrest</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>s3                     </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio is s3-compatible, so s3 is used</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>sss.pigsty      </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio endpoint domain name, `sss.pigsty` by default</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_region</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>us-east-1         </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio region, us-east-1 by default, useless for minio</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_bucket</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pgsql             </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio bucket name, `pgsql` by default</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pgbackrest           </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio user access key for pgbackrest</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_key_secret</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>S3User.Backup </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio user secret key for pgbackrest</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_uri_style</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>path           </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># use path style uri for minio rather than host style</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>/pgbackrest            </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio backup path, default is `/pgbackrest`</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>storage_port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>9000</span><span style=color:#f8f8f8>            </span><span style=color:#8f5902;font-style:italic># minio port, 9000 by default</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>storage_ca_file</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>/pg/cert/ca.crt </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio ca file path, `/pg/cert/ca.crt` by default</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>bundle</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>y</span><span style=color:#f8f8f8>                     </span><span style=color:#8f5902;font-style:italic># bundle small files into a single file</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>cipher_type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>aes-256-cbc     </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># enable AES encryption for remote backup repo</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>cipher_pass</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pgBackRest      </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># AES encryption password, default is &#39;pgBackRest&#39;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>retention_full_type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>time    </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># retention full backup by time on minio repo</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>retention_full</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>14</span><span style=color:#f8f8f8>            </span><span style=color:#8f5902;font-style:italic># keep full backup for last 14 days</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># download docker and supabase related extensions</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pg_version</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>17</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>repo_modules</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>node,pgsql,infra,docker</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>repo_packages</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node-bootstrap, infra-package, infra-addons, node-package1, node-package2, pgsql-utility, docker ]</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>repo_extra_packages</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span>- <span style=color:#000>pgsql-main</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span>- <span style=color:#000>supabase  </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># essential extensions for supabase</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span>- <span style=color:#000>timescaledb postgis pg_graphql pg_jsonschema wrappers pg_search pg_analytics pg_parquet plv8 duckdb_fdw pg_cron pg_timetable pgqr</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span>- <span style=color:#000>supautils pg_plan_filter passwordcheck plpgsql_check pgaudit pgsodium pg_vault pgjwt pg_ecdsa pg_session_jwt index_advisor</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span>- <span style=color:#000>pgvector pgvectorscale pg_summarize pg_tiktoken pg_tle pg_stat_monitor hypopg pg_hint_plan pg_http pg_net pg_smtp_client pg_idkit</span><span style=color:#f8f8f8>
</span></span></span></code></pre></div></details><br><p>For advanced topics, we may need to modify the configuration file to fit our needs.</p><ul><li><a href=#security-enhancement>Security Enhancement</a></li><li><a href=#domain-name-and-https>Domain Name and HTTPS</a></li><li><a href=#sending-mail-with-smtp>Sending Mail with SMTP</a></li><li><a href=#minio-or-external-s3>MinIO or External S3</a></li><li><a href=#true-high-availability>True High Availability</a></li></ul><hr><h2 id=security-enhancement>Security Enhancement</h2><p>For security reasons, you should change the default passwords in the <code>pigsty.yml</code> config file.</p><ul><li><a href=/docs/pgsql/param/#grafana_admin_password><code>grafana_admin_password</code></a>: <code>pigsty</code>, Grafana admin password</li><li><a href=/docs/pgsql/param/#pg_admin_password><code>pg_admin_password</code></a>: <code>DBUser.DBA</code>, PGSQL superuser password</li><li><a href=/docs/pgsql/param/#pg_monitor_password><code>pg_monitor_password</code></a>: <code>DBUser.Monitor</code>, PGSQL monitor user password</li><li><a href=/docs/pgsql/param/#pg_replication_password><code>pg_replication_password</code></a>: <code>DBUser.Replicator</code>, PGSQL replication user password</li><li><a href=/docs/pgsql/param/#patroni_password><code>patroni_password</code></a>: <code>Patroni.API</code>, Patroni HA Agent Password</li><li><a href=/docs/pgsql/param/#haproxy_admin_password><code>haproxy_admin_password</code></a>: <code>pigsty</code>, Load balancer admin password</li><li><a href=/docs/minio/param#grafana_admin_password><code>minio_access_key</code></a>: <code>minioadmin</code>, MinIO root username</li><li><a href=/docs/minio/param#minio_secret_key><code>minio_secret_key</code></a>: <code>minioadmin</code>, MinIO root password</li></ul><p>Supabase will use PostgreSQL & MinIO as its backend, so also change the following passwords for supabase business users:</p><ul><li><a href=https://github.com/pgsty/pigsty/blob/main/conf/supa.yml#L49><code>pg_users</code></a>: password for supabase business users in postgres</li><li><a href=/docs/minio/param#minio_secret_key><code>minio_users</code></a>: <code>minioadmin</code>, MinIO business user&rsquo;s password</li></ul><p>The pgbackrest will take backups and WALs to MinIO, so also change the following passwords reference</p><ul><li><a href=/docs/minio/param#pgbackrest_repo><code>pgbackrest_repo</code></a>: refer to the</li></ul><p>PLEASE check the <a href=https://supabase.com/docs/guides/self-hosting/docker#generate-api-keys>Supabase Self-Hosting: Generate API Keys</a> to generate supabase credentials:</p><ul><li><a href=https://github.com/pgsty/pigsty/blob/main/conf/supa.yml#L114><code>jwt_secret</code></a>: a secret key with at least 40 characters</li><li><a href=https://github.com/pgsty/pigsty/blob/main/conf/supa.yml#L115><code>anon_key</code></a>: a jwt token generate for anonymous users, based on <code>jwt_secret</code></li><li><a href=https://github.com/pgsty/pigsty/blob/main/conf/supa.yml#L116><code>service_role_key</code></a>: a jwt token generate for elevated service roles, based on <code>jwt_secret</code></li><li><a href=https://github.com/pgsty/pigsty/blob/main/conf/supa.yml#L117><code>dashboard_username</code></a>: supabase studio web portal username, <code>supabase</code> by default</li><li><a href=https://github.com/pgsty/pigsty/blob/main/conf/supa.yml#L128><code>dashboard_password</code></a>: supabase studio web portal password, <code>pigsty</code> by default</li></ul><p>If you have chanaged the default password for PostgreSQL and MinIO, you have to update the following parameters as well:</p><ul><li><a href=https://github.com/pgsty/pigsty/blob/main/conf/supa.yml#L126><code>postgres_password</code></a>, according to <a href=/docs/pgsql/admin/user><code>pg_users</code></a></li><li><a href=https://github.com/pgsty/pigsty/blob/main/conf/supa.yml#136><code>s3_access_key</code></a> and <a href=https://github.com/pgsty/pigsty/blob/main/conf/supa.yml#137><code>s3_secret_key</code></a>, according to <a href=/docs/minio/param#minio_users><code>minio_users</code></a></li></ul><hr><h2 id=domain-name-and-https>Domain Name and HTTPS</h2><p>For local or intranet use, you can connect directly to Kong port on <code>http://&lt;IP>:8000</code> or <code>8443</code> for https.
This works but isn’t ideal. Using a domain with HTTPS is strongly recommended when serving Supabase to the public.</p><p>Pigsty has a Nginx server installed & configured on the admin node to act as a reverse proxy for all web based service. which is configured via the <code>infra_portal</code> parameter.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>all</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>     </span><span style=color:#8f5902;font-style:italic># global vars</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic>#.....</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>infra_portal</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic># domain names and upstream servers</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>home         </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>h.pigsty }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>grafana      </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain: g.pigsty ,endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;${admin_ip}:3000&#34;</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>, websocket</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>prometheus   </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain: p.pigsty ,endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;${admin_ip}:9090&#34;</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>alertmanager </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain: a.pigsty ,endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;${admin_ip}:9093&#34;</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>minio        </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain: m.pigsty ,endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;10.10.10.10:9001&#34;</span><span style=color:#204a87;font-weight:700>, https: true, websocket</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>blackbox     </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;${admin_ip}:9115&#34;</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>loki         </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;${admin_ip}:3100&#34;</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic># expose supa studio UI and API via nginx</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>supa         </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain: supa.pigsty ,endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;10.10.10.10:8000&#34;</span><span style=color:#204a87;font-weight:700>, websocket</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span></code></pre></div><p>On the client side, you can use the domain <code>supa.pigsty</code> to access the Supabase Studio management interface.
You can add this domain to your local <code>/etc/hosts</code> file or use a local DNS server to resolve it to the server&rsquo;s <strong>external</strong> IP address.</p><p>To use a real domain with HTTPS, you will need to modify the <code>all.vars.infra_portal.supa</code> with updated domain name (such as <code>supa.pigsty.cc</code> here).
You can obtain a free HTTPS certificate from <a href=https://letsencrypt.org/>Let’s Encrypt</a>, and just put the cert/key files in the specified path.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#supa : { domain: supa.pigsty ,endpoint: &#34;10.10.10.10:8000&#34;, websocket: true }  # add your HTTPS certs/keys and specify the path</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>supa  </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain: supa.pigsty.cc ,endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;10.10.10.10:8000&#34;</span><span style=color:#204a87;font-weight:700>, websocket: true ,cert: /etc/cert/suap.pigsty.cc.crt ,key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>/etc/cert/supa.pigsty.cc.key }</span><span style=color:#f8f8f8>
</span></span></span></code></pre></div><p>To reload the new configuration after installation, use the <code>infra.yml</code> playbook:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./infra.yml -t nginx_config,nginx_launch   <span style=color:#8f5902;font-style:italic># reload nginx config</span>
</span></span></code></pre></div><p>You also have to update the <code>all.children.supabase.vars.supa_config</code> to tell supabase to use the new domain name:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>all</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#204a87;font-weight:700>children</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>           </span><span style=color:#8f5902;font-style:italic># clusters</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>supabase</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>         </span><span style=color:#8f5902;font-style:italic># supabase group</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>           </span><span style=color:#8f5902;font-style:italic># supabase param</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>supa_config</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic># supabase config</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># update supabase domain names here</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>site_url</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>http://supa.pigsty.cc</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>api_external_url</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>http://supa.pigsty.cc</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>supabase_public_url</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>http://supa.pigsty.cc</span><span style=color:#f8f8f8>
</span></span></span></code></pre></div><p>And reload the supabase service to apply the new configuration:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./supabase.yml -t supa_config,supa_launch <span style=color:#8f5902;font-style:italic># reload supabase config</span>
</span></span></code></pre></div><hr><h2 id=sending-mail-with-smtp>Sending Mail with SMTP</h2><p>Some Supabase features require email. For production use, I&rsquo;d recommend using an external SMTP service.
Since self-hosted SMTP servers often result in rejected or spam-flagged emails.</p><p>To do this, modify the Supabase configuration and add SMTP credentials:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>all</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#204a87;font-weight:700>children</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>supabase</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>supa_config</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>smtp_host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>smtpdm.aliyun.com:80</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>smtp_port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>80</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>smtp_user</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>no_reply@mail.your.domain.com</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>smtp_pass</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>your_email_user_password</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>smtp_sender_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>MySupabase</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>smtp_admin_email</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>adminxxx@mail.your.domain.com</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>enable_anonymous_users</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#f8f8f8>
</span></span></span></code></pre></div><p>And don&rsquo;t forget to reload the supabase service with <code>./supabase.yml -t supa_config,supa_launch</code></p><hr><h2 id=minio-or-external-s3>MinIO or External S3</h2><p>Pigsty&rsquo;s self-hosting supabase will use a local <a href=/docs/minio/config#single-node-single-drive>SNSD MinIO</a> server,
which is used by Supabase itself for object storage, and by PostgreSQL for backups.
For production use, you should consider using a HA <a href=/docs/minio/config#multi-node-multi-drive>MNMD MinIO</a> cluster or an external S3 compatible service instead.</p><p>We recommend using an external S3 when:</p><ul><li>you just have one single server available, then external s3 gives you a minimal disaster recovery guarantee, with RTO in hours and RPO in MBs.</li><li>you are operating in the cloud, then using S3 directly is recommended rather than wrap expensively EBS with MinIO</li></ul><blockquote><p>The <a href=https://github.com/pgsty/pigsty/blob/main/terraform/spec/aliyun-meta-s3.tf><code>terraform/spec/aliyun-meta-s3.tf</code></a> provides an example of how to provision a single node alone with an S3 bucket.</p></blockquote><p>To use an external S3 compatible service, you&rsquo;ll have to update two related references in the <code>pigsty.yml</code> config.</p><p>For example, to use Aliyun OSS as the object storage for Supabase, you can modify the <code>all.children.supabase.vars.supa_config</code> to point to the Aliyun OSS bucket:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>all</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#204a87;font-weight:700>children</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>supabase</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>supa_config</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_bucket</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pigsty-oss</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>https://oss-cn-beijing-internal.aliyuncs.com</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_access_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>xxxxxxxxxxxxxxxx</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_secret_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>xxxxxxxxxxxxxxxx</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_force_path_style</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_protocol</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>https</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_region</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>oss-cn-beijing</span><span style=color:#f8f8f8>
</span></span></span></code></pre></div><p>Reload the supabase service with <code>./supabase.yml -t supa_config,supa_launch</code> again.</p><p>The next reference is in the PostgreSQL backup repo:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>all</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># use minio as default backup repo for PostgreSQL</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pgbackrest_method: minio          # pgbackrest repo method</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>local,minio,[user-defined...]</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pgbackrest_repo:                  # pgbackrest repo</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>https://pgbackrest.org/configuration.html#section-repository</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>local</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>                          </span><span style=color:#8f5902;font-style:italic># default pgbackrest repo with local posix fs</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>/pg/backup             </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># local backup directory, `/pg/backup` by default</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>retention_full_type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>count   </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># retention full backups by count</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>retention_full</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8>             </span><span style=color:#8f5902;font-style:italic># keep 2, at most 3 full backup when using local fs repo</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>minio</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>                          </span><span style=color:#8f5902;font-style:italic># optional minio repo for pgbackrest</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>s3                     </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio is s3-compatible, so s3 is used</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic># update your credentials here</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>oss-cn-beijing-internal.aliyuncs.com</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_region</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>oss-cn-beijing</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_bucket</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pigsty-oss</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>xxxxxxxxxxxxxx</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_key_secret</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>xxxxxxxx</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_uri_style</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>host</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>/pgbackrest            </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio backup path, default is `/pgbackrest`</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>storage_port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>9000</span><span style=color:#f8f8f8>            </span><span style=color:#8f5902;font-style:italic># minio port, 9000 by default</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>storage_ca_file</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>/pg/cert/ca.crt </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio ca file path, `/pg/cert/ca.crt` by default</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>bundle</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>y</span><span style=color:#f8f8f8>                     </span><span style=color:#8f5902;font-style:italic># bundle small files into a single file</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>cipher_type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>aes-256-cbc     </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># enable AES encryption for remote backup repo</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>cipher_pass</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pgBackRest      </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># AES encryption password, default is &#39;pgBackRest&#39;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>retention_full_type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>time    </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># retention full backup by time on minio repo</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>retention_full</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>14</span><span style=color:#f8f8f8>            </span><span style=color:#8f5902;font-style:italic># keep full backup for last 14 days</span><span style=color:#f8f8f8>
</span></span></span></code></pre></div><p>After updating the <code>pgbackrest_repo</code>, you can reset the pgBackrest backup with <code>./pgsql.yml -t pgbackrest</code>.</p><hr><h2 id=true-high-availability>True High Availability</h2><p>The default single-node deployment (with external S3) provide a minimal disaster recovery guarantee, with RTO in hours and RPO in MBs.</p><p>To achieve RTO &lt; 30s and zero data loss, you need a multi-node high availability cluster with at least 3-nodes.</p><p>Which involves high availability for these components:</p><ul><li><a href=/docs/etcd>ETCD</a>: DCS requires at least three nodes to tolerate one node failure.</li><li><a href=/docs/pgsql>PGSQL</a>: PGSQL synchronous commit mode recommends at least three nodes.</li><li><a href=/docs/infra>INFRA</a>: It&rsquo;s good to have two or three copies of observability stack.</li><li>Supabase itself can also have multiple replicas to achieve high availability.</li></ul><p>We recommend you to refer to the <a href=/docs/conf/trio>trio</a> and <a href=/docs/conf/safe>safe</a> config to upgrade your cluster to three nodes or more.</p><p>In this case, you also need to modify the access points for PostgreSQL and MinIO to use the DNS / L2 VIP / HAProxy <a href=/docs/pgsql/misc/svc>HA access points</a>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>all</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#204a87;font-weight:700>children</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>supabase</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.10</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>supa_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.11</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>supa_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.12</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>supa_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>supa_cluster</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>supa           </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># cluster name</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>supa_config</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>postgres_host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>10.10.10.2</span><span style=color:#f8f8f8>             </span><span style=color:#8f5902;font-style:italic># use the PG L2 VIP</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>postgres_port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>5433</span><span style=color:#f8f8f8>                   </span><span style=color:#8f5902;font-style:italic># use the 5433 port to access the primary instance through pgbouncer</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>https://sss.pigsty:9002 </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># If you are using MinIO through the haproxy lb port 9002</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>minio_domain_ip</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>10.10.10.3</span><span style=color:#f8f8f8>           </span><span style=color:#8f5902;font-style:italic># use the L2 VIP binds to all proxy nodes</span><span style=color:#f8f8f8>
</span></span></span></code></pre></div><details><summary>The 3-Node HA Supabase Config Template</summary><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>all</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic>#==============================================================#</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic># Clusters, Nodes, and Modules</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic>#==============================================================#</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#204a87;font-weight:700>children</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># infra cluster for proxy, monitor, alert, etc..</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>infra</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.10</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>infra_seq: 1 ,nodename</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>infra-1 }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.11</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>infra_seq: 2 ,nodename: infra-2, repo_enabled: false, grafana_enabled</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.12</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>infra_seq: 3 ,nodename: infra-3, repo_enabled: false, grafana_enabled</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>vip_enabled</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>vip_vrid</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>128</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>vip_address</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>10.10.10.3</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>vip_interface</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>eth1</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>haproxy_services</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>minio                   </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># [REQUIRED] service name, unique</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>            </span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>9002</span><span style=color:#f8f8f8>                     </span><span style=color:#8f5902;font-style:italic># [REQUIRED] service port, unique</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>            </span><span style=color:#204a87;font-weight:700>balance</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>leastconn            </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># [OPTIONAL] load balancer algorithm</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>            </span><span style=color:#204a87;font-weight:700>options</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>                       </span><span style=color:#8f5902;font-style:italic># [OPTIONAL] minio health check</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- <span style=color:#000>option httpchk</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- <span style=color:#000>option http-keep-alive</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- <span style=color:#000>http-check send meth OPTIONS uri /minio/health/live</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- <span style=color:#000>http-check expect status 200</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>            </span><span style=color:#204a87;font-weight:700>servers</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: minio-1 ,ip: 10.10.10.10 ,port: 9000 ,options</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;check-ssl ca-file /etc/pki/ca.crt check port 9000&#39;</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: minio-2 ,ip: 10.10.10.11 ,port: 9000 ,options</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;check-ssl ca-file /etc/pki/ca.crt check port 9000&#39;</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: minio-3 ,ip: 10.10.10.12 ,port: 9000 ,options</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;check-ssl ca-file /etc/pki/ca.crt check port 9000&#39;</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>etcd</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># dcs service for postgres/patroni ha consensus</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># 1 node for testing, 3 or 5 for production</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.10</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>etcd_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic># etcd_seq required</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.11</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>etcd_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic># assign from 1 ~ n</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.12</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>etcd_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic># odd number please</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># cluster level parameter override roles/etcd</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>etcd_cluster</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>etcd </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># mark etcd cluster name etcd</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>etcd_safeguard</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># safeguard against purging</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>etcd_clean</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># purge etcd during init process</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># minio cluster 4-node</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>minio</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.10</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>minio_seq: 1 , nodename</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>minio-1 }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.11</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>minio_seq: 2 , nodename</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>minio-2 }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.12</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>minio_seq: 3 , nodename</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>minio-3 }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>minio_cluster</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>minio</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>minio_data</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;/data{1...4}&#39;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>minio_buckets</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pgsql }, { name: supa } ]</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>minio_users</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>access_key: dba , secret_key: S3User.DBA, policy</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>consoleAdmin }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>access_key: pgbackrest , secret_key: S3User.Backup,   policy</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>readwrite }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>access_key: supabase   , secret_key: S3User.Supabase, policy</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>readwrite }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># pg-meta, the underlying postgres database for supabase</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pg-meta</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.10</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>pg_seq: 1, pg_role</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>primary }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.11</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>pg_seq: 2, pg_role</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>replica }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.12</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>pg_seq: 3, pg_role</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>replica }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_cluster</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pg-meta</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_users</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># supabase roles: anon, authenticated, dashboard_user</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: anon           ,login</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: authenticated  ,login</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: dashboard_user ,login: false ,replication: true ,createdb: true ,createrole</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: service_role   ,login: false ,bypassrls</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># supabase users: please use the same password</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: supabase_admin             ,password: &#39;DBUser.Supa&#39; ,pgbouncer: true ,inherit: true   ,roles: [ dbrole_admin ] ,superuser: true ,replication: true ,createdb: true ,createrole: true ,bypassrls</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: authenticator              ,password: &#39;DBUser.Supa&#39; ,pgbouncer: true ,inherit: false  ,roles</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8> </span><span style=color:#000>dbrole_admin, authenticated ,anon ,service_role ] }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: supabase_auth_admin        ,password: &#39;DBUser.Supa&#39; ,pgbouncer: true ,inherit: false  ,roles: [ dbrole_admin ] ,createrole</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: supabase_storage_admin     ,password: &#39;DBUser.Supa&#39; ,pgbouncer: true ,inherit: false  ,roles: [ dbrole_admin, authenticated ,anon ,service_role ] ,createrole</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: supabase_functions_admin   ,password: &#39;DBUser.Supa&#39; ,pgbouncer: true ,inherit: false  ,roles: [ dbrole_admin ] ,createrole</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: supabase_replication_admin ,password: &#39;DBUser.Supa&#39; ,replication: true ,roles</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8> </span><span style=color:#000>dbrole_admin ]}</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: supabase_read_only_user    ,password: &#39;DBUser.Supa&#39; ,bypassrls: true ,roles</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8> </span><span style=color:#000>dbrole_readonly, pg_read_all_data ] }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_databases</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>postgres</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>            </span><span style=color:#204a87;font-weight:700>baseline</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>supabase.sql</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>            </span><span style=color:#204a87;font-weight:700>owner</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>supabase_admin</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>            </span><span style=color:#204a87;font-weight:700>comment</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>supabase postgres database</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>            </span><span style=color:#204a87;font-weight:700>schemas</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8> </span><span style=color:#000>extensions ,auth ,realtime ,storage ,graphql_public ,supabase_functions ,_analytics ,_realtime ]</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>            </span><span style=color:#204a87;font-weight:700>extensions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: pgcrypto  ,schema: extensions  } # 1.3   </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>cryptographic functions</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: pg_net    ,schema: extensions  } # 0.9.2 </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>async HTTP</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: pgjwt     ,schema: extensions  } # 0.2.0 </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>json web token API for postgres</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: uuid-ossp ,schema: extensions  } # 1.1   </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>generate universally unique identifiers (UUIDs)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: pgsodium        }                # 3.1.9 </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pgsodium is a modern cryptography library for Postgres.</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: supabase_vault  }                # 0.2.8 </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>Supabase Vault Extension</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: pg_graphql      }                # 1.5.9 : pg_graphql</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>GraphQL support</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: pg_jsonschema   }                # 0.3.3 : pg_jsonschema</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>Validate json schema</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: wrappers        }                # 0.4.3 : wrappers</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>FDW collections</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: http            }                # 1.6   : http</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>allows web page retrieval inside the database.</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: pg_cron         }                # 1.6   : pg_cron</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>Job scheduler for PostgreSQL</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: timescaledb     }                # 2.17  : timescaledb</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>Enables scalable inserts and complex queries for time-series data</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: pg_tle          }                # 1.2   : pg_tle</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>Trusted Language Extensions for PostgreSQL</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name: vector          }                # 0.8.0 : pgvector</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>the vector similarity search</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic># supabase required extensions</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_libs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;pg_stat_statements, plpgsql, plpgsql_check, pg_cron, pg_net, timescaledb, auto_explain, pg_tle, plan_filter&#39;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_extensions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># extensions to be installed on this cluster</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- <span style=color:#000>supabase  </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># essential extensions for supabase</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- <span style=color:#000>timescaledb postgis pg_graphql pg_jsonschema wrappers pg_search pg_analytics pg_parquet plv8 duckdb_fdw pg_cron pg_timetable pgqr</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- <span style=color:#000>supautils pg_plan_filter passwordcheck plpgsql_check pgaudit pgsodium pg_vault pgjwt pg_ecdsa pg_session_jwt index_advisor</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- <span style=color:#000>pgvector pgvectorscale pg_summarize pg_tiktoken pg_tle pg_stat_monitor hypopg pg_hint_plan pg_http pg_net pg_smtp_client pg_idkit</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_parameters</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>cron.database_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>postgres</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>pgsodium.enable_event_trigger</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>off</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_hba_rules</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># supabase hba rules, require access from docker network</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>user: all ,db: postgres  ,addr: intra         ,auth: pwd ,title</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;allow supabase access from intranet&#39;</span><span style=color:#f8f8f8>    </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>user: all ,db: postgres  ,addr: 172.17.0.0/16 ,auth: pwd ,title</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;allow access from local docker network&#39;</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_vip_enabled</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_vip_address</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>10.10.10.2</span><span style=color:#000>/24</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_vip_interface</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>eth1</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>node_crontab</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;00 01 * * * postgres /pg/bin/pg-backup full&#39;</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># make a full backup every 1am</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># launch supabase stateless part with docker compose: ./supabase.yml</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>supabase</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.10</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>supa_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic># instance 1</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.11</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>supa_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic># instance 2</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>10.10.10.12</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>supa_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic># instance 3</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>supa_cluster</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>supa           </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># cluster name</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>docker_enabled</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># enable docker</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic># use these to pull docker images via proxy and mirror registries</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic>#docker_registry_mirrors: [&#39;https://docker.xxxxx.io&#39;]</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic>#proxy_env:   # add [OPTIONAL] proxy env to /etc/docker/daemon.json configuration file</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic>#  no_proxy: &#34;localhost,127.0.0.1,10.0.0.0/8,192.168.0.0/16,*.pigsty,*.aliyun.com,mirrors.*,*.myqcloud.com,*.tsinghua.edu.cn&#34;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic>#  #all_proxy: http://user:pass@host:port</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic># these configuration entries will OVERWRITE or APPEND to /opt/supabase/.env file (src template: app/supabase/.env)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic># check https://github.com/pgsty/pigsty/blob/main/app/supabase/.env for default values</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>supa_config</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># IMPORTANT: CHANGE JWT_SECRET AND REGENERATE CREDENTIAL ACCORDING!!!!!!!!!!!</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># https://supabase.com/docs/guides/self-hosting/docker#securing-your-services</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>jwt_secret</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>your-super-secret-jwt-token-with-at-least-32-characters-long</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>anon_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>service_role_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>dashboard_username</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>supabase</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>dashboard_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pigsty</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># postgres connection string (use the correct ip and port)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>postgres_host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>10.10.10.3</span><span style=color:#f8f8f8>       </span><span style=color:#8f5902;font-style:italic># use the pg_vip_address rather than single node ip</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>postgres_port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>5433</span><span style=color:#f8f8f8>             </span><span style=color:#8f5902;font-style:italic># access via the &#39;default&#39; service, which always route to the primary postgres</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>postgres_db</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>postgres</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>postgres_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>DBUser.Supa </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># password for supabase_admin and multiple supabase users</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># expose supabase via domain name</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>site_url</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>http://supa.pigsty</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>api_external_url</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>http://supa.pigsty</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>supabase_public_url</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>http://supa.pigsty</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># if using s3/minio as file storage</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_bucket</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>supa</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>https://sss.pigsty:9002</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_access_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>supabase</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_secret_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>S3User.Supabase</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_force_path_style</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_protocol</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>https</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>s3_region</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>stub</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>minio_domain_ip</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>10.10.10.3</span><span style=color:#f8f8f8>   </span><span style=color:#8f5902;font-style:italic># sss.pigsty domain name will resolve to this l2 vip that bind to all nodes</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic># if using SMTP (optional)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic>#smtp_admin_email: admin@example.com</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic>#smtp_host: supabase-mail</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic>#smtp_port: 2500</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic>#smtp_user: fake_mail_user</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic>#smtp_pass: fake_mail_password</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic>#smtp_sender_name: fake_sender</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic>#enable_anonymous_users: false</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic>#==============================================================#</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic># Global Parameters</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic>#==============================================================#</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>version</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>v3.1.0                  </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># pigsty version string</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>admin_ip</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>10.10.10.10</span><span style=color:#f8f8f8>             </span><span style=color:#8f5902;font-style:italic># admin node ip address</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>region: china                     # upstream mirror region</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>default|china|europe</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>node_tune: oltp                   # node tuning specs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>oltp,olap,tiny,crit</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pg_conf: oltp.yml                 # pgsql tuning specs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#000>oltp,olap,tiny,crit}.yml</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>infra_portal</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>                     </span><span style=color:#8f5902;font-style:italic># domain names and upstream servers</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>home         </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>h.pigsty }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>grafana      </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain: g.pigsty ,endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;${admin_ip}:3000&#34;</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>, websocket</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>prometheus   </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain: p.pigsty ,endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;${admin_ip}:9090&#34;</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>alertmanager </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain: a.pigsty ,endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;${admin_ip}:9093&#34;</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>minio        </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain: m.pigsty ,endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;10.10.10.10:9001&#34;</span><span style=color:#204a87;font-weight:700>, https: true, websocket</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>blackbox     </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;${admin_ip}:9115&#34;</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>loki         </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;${admin_ip}:3100&#34;</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic># expose supa studio UI and API via nginx</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>supa         </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>domain: supa.pigsty ,endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;10.10.10.10:8000&#34;</span><span style=color:#204a87;font-weight:700>, websocket</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic>#----------------------------------#</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># Credential: CHANGE THESE PASSWORDS</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic>#----------------------------------#</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic>#grafana_admin_username: admin</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>grafana_admin_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pigsty</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic>#pg_admin_username: dbuser_dba</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pg_admin_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>DBUser.DBA</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic>#pg_monitor_username: dbuser_monitor</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pg_monitor_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>DBUser.Monitor</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic>#pg_replication_username: replicator</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pg_replication_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>DBUser.Replicator</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic>#patroni_username: postgres</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>patroni_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>Patroni.API</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic>#haproxy_admin_username: admin</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>haproxy_admin_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pigsty</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># use minio as supabase file storage, single node single driver mode for demonstration purpose</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>minio_access_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>minioadmin     </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># root access key, `minioadmin` by default</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>minio_secret_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>minioadmin     </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># root secret key, `minioadmin` by default</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>minio_buckets</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pgsql }, { name: supa } ]</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>minio_users</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>access_key: dba , secret_key: S3User.DBA, policy</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>consoleAdmin }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>access_key: pgbackrest , secret_key: S3User.Backup,   policy</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>readwrite }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span>- {<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>access_key: supabase   , secret_key: S3User.Supabase, policy</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>readwrite }</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>minio_endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>https://sss.pigsty:9000   </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># explicit overwrite minio endpoint with haproxy port</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>node_etc_hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;10.10.10.3 sss.pigsty&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># domain name to access minio from all nodes (required)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># use minio as default backup repo for PostgreSQL</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pgbackrest_method: minio          # pgbackrest repo method</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>local,minio,[user-defined...]</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pgbackrest_repo:                  # pgbackrest repo</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>https://pgbackrest.org/configuration.html#section-repository</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>local</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>                          </span><span style=color:#8f5902;font-style:italic># default pgbackrest repo with local posix fs</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>/pg/backup             </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># local backup directory, `/pg/backup` by default</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>retention_full_type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>count   </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># retention full backups by count</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>retention_full</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8>             </span><span style=color:#8f5902;font-style:italic># keep 2, at most 3 full backup when using local fs repo</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>minio</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>                          </span><span style=color:#8f5902;font-style:italic># optional minio repo for pgbackrest</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>s3                     </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio is s3-compatible, so s3 is used</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>sss.pigsty      </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio endpoint domain name, `sss.pigsty` by default</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_region</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>us-east-1         </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio region, us-east-1 by default, useless for minio</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_bucket</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pgsql             </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio bucket name, `pgsql` by default</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pgbackrest           </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio user access key for pgbackrest</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_key_secret</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>S3User.Backup </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio user secret key for pgbackrest</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>s3_uri_style</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>path           </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># use path style uri for minio rather than host style</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>/pgbackrest            </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio backup path, default is `/pgbackrest`</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>storage_port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>9002</span><span style=color:#f8f8f8>            </span><span style=color:#8f5902;font-style:italic># minio port, 9000 by default</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>storage_ca_file</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>/pg/cert/ca.crt </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># minio ca file path, `/pg/cert/ca.crt` by default</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>bundle</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>y</span><span style=color:#f8f8f8>                     </span><span style=color:#8f5902;font-style:italic># bundle small files into a single file</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>cipher_type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>aes-256-cbc     </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># enable AES encryption for remote backup repo</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>cipher_pass</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pgBackRest      </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># AES encryption password, default is &#39;pgBackRest&#39;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>retention_full_type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>time    </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># retention full backup by time on minio repo</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>retention_full</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>14</span><span style=color:#f8f8f8>            </span><span style=color:#8f5902;font-style:italic># keep full backup for last 14 days</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># download docker and supabase related extensions</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pg_version</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>17</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>repo_modules</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>node,pgsql,infra,docker</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>repo_packages</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node-bootstrap, infra-package, infra-addons, node-package1, node-package2, pgsql-utility, docker ]</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>repo_extra_packages</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span>- <span style=color:#000>pgsql-main</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span>- <span style=color:#000>supabase  </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># essential extensions for supabase</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span>- <span style=color:#000>timescaledb postgis pg_graphql pg_jsonschema wrappers pg_search pg_analytics pg_parquet plv8 duckdb_fdw pg_cron pg_timetable pgqr</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span>- <span style=color:#000>supautils pg_plan_filter passwordcheck plpgsql_check pgaudit pgsodium pg_vault pgjwt pg_ecdsa pg_session_jwt index_advisor</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span>- <span style=color:#000>pgvector pgvectorscale pg_summarize pg_tiktoken pg_tle pg_stat_monitor hypopg pg_hint_plan pg_http pg_net pg_smtp_client pg_idkit</span><span style=color:#f8f8f8>
</span></span></span></code></pre></div></details><br><hr><br><ul class="list-unstyled d-flex justify-content-between align-items-center mb-0 pt-5"><li><a href=/blog/db/future-hardware/ aria-label="Previous - Modern Hardware for Future Databases" class="btn btn-primary"><span class=me-1>←</span>Previous</a></li><li><a href=/blog/db/poker-24/ aria-label="Next - Solving Poker 24 with a Single SQL Query" class="btn btn-primary">Next<span class=ms-1>→</span></a></li></ul><div class=td-page-meta__lastmod>Last Modified 2026-01-15: <a data-proofer-ignore href=https://github.com/pgsty/pigsty.io/commit/5535c220666ed19476d4e5beffa5e90a70a13ec1>fix some legacy commands (5535c22)</a></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="Email - Vonng" aria-label="Email - Vonng"><a target=_blank rel=noopener href=mailto:rh@vonng.com aria-label="Email - Vonng"><i class="fa fa-envelope"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="GitHub - Vonng" aria-label="GitHub - Vonng"><a target=_blank rel=noopener href=https://github.com/Vonng aria-label="GitHub - Vonng"><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="X - Vonng" aria-label="X - Vonng"><a target=_blank rel=noopener href=https://x.com/RonVonng aria-label="X - Vonng"><i class="fab fa-x-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="X - Pigsty" aria-label="X - Pigsty"><a target=_blank rel=noopener href=https://x.com/PlGSTY aria-label="X - Pigsty"><i class="fab fa-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="LinkedIn - Vonng" aria-label="LinkedIn - Vonng"><a target=_blank rel=noopener href=https://www.linkedin.com/in/vonng/ aria-label="LinkedIn - Vonng"><i class="fab fa-linkedin"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=Discord aria-label=Discord><a target=_blank rel=noopener href=https://discord.gg/wDzt5VyWEz aria-label=Discord><i class="fab fa-discord"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Telegram aria-label=Telegram><a target=_blank rel=noopener href=https://t.me/joinchat/gV9zfZraNPM3YjFh aria-label=Telegram><i class="fab fa-telegram"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=WeChat aria-label=WeChat><a target=_blank rel=noopener href=/img/pigsty/pigsty-cc.jpg aria-label=WeChat><i class="fab fa-weixin"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Discussion aria-label=Discussion><a target=_blank rel=noopener href=https://github.com/orgs/pgsty/discussions aria-label=Discussion><i class="fab fa-discourse"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Repo aria-label=Repo><a target=_blank rel=noopener href=https://github.com/pgsty/pigsty aria-label=Repo><i class="fab fa-github"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2018&ndash;2026
<span class=td-footer__authors>Ruohang Feng</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span><span class=ms-2><a href=/docs/about/privacy target=_blank rel=noopener>Privacy Policy</a></span></div></div></div></footer></div><script src=/js/main.min.d20e761d6aa4d2ace0488e45da0e775a8b17300a8430f32fbcfa016e6c9e6eb6.js integrity="sha256-0g52HWqk0qzgSI5F2g53WosXMAqEMPMvvPoBbmyebrY=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>