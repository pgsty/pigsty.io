<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js data-theme-init><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=color-scheme content="light dark"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#000000"><style>html{background:Canvas;color:CanvasText}@media(prefers-color-scheme:dark){html{background:#0b0d12;color:#e6e6e6}}html[data-theme-init] *{transition:none!important}</style><script>(function(){const t="td-color-theme",n=localStorage.getItem(t);let e=n||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");e==="auto"&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("data-bs-theme",e)})()</script><link rel=alternate type=application/rss+xml href=https://pigsty.io/docs/pgsql/monitor/index.xml><link rel=alternate type=text/html href=https://pigsty.io/_print/docs/pgsql/monitor/><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Monitoring | PIGSTY</title><meta name=description content="Overview of Pigsty's monitoring system architecture and how to monitor existing PostgreSQL instances"><meta property="og:url" content="https://pigsty.io/docs/pgsql/monitor/"><meta property="og:site_name" content="PIGSTY"><meta property="og:title" content="Monitoring"><meta property="og:description" content="Overview of Pigsty's monitoring system architecture and how to monitor existing PostgreSQL instances"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Monitoring"><meta itemprop=description content="Overview of Pigsty's monitoring system architecture and how to monitor existing PostgreSQL instances"><meta itemprop=dateModified content="2026-01-08T21:14:36+08:00"><meta itemprop=wordCount content="3718"><meta itemprop=keywords content="Reference,PGSQL"><meta name=twitter:card content="summary"><meta name=twitter:title content="Monitoring"><meta name=twitter:description content="Overview of Pigsty's monitoring system architecture and how to monitor existing PostgreSQL instances"><link rel=preload href=/scss/main.min.f6da858eb22dc48110abb983f095554930a5a614c30190b4e32ee7b08a496331.css as=style integrity="sha256-9tqFjrItxIEQq7mD8JVVSTClphTDAZC04y7nsIpJYzE=" crossorigin=anonymous><link href=/scss/main.min.f6da858eb22dc48110abb983f095554930a5a614c30190b4e32ee7b08a496331.css rel=stylesheet integrity="sha256-9tqFjrItxIEQq7mD8JVVSTClphTDAZC04y7nsIpJYzE=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-LG1V9WTKGE"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-LG1V9WTKGE")}</script></head><body class=td-section><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="td-navbar-container container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"><svg viewBox="0 0 24 24" width="24" height="24"><defs/><g id="32" fill="none" stroke-dasharray="none" fill-opacity="1" stroke-opacity="1" stroke="none"><title>32</title><g id="32_图层_2"><title>图层 2</title><g id="Group_17"><g id="Graphic_16"/><g id="Graphic_15"><path d="M7.666187 11.971335l2.165064-3.75H14.16138l2.165065 3.75-2.165065 3.75H9.831251z" fill="#bbb" fill-opacity=".9526367"/><path d="M7.666187 11.971335l2.165064-3.75H14.16138l2.165065 3.75-2.165065 3.75H9.831251z" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width=".6730434"/></g><g id="Graphic_14"><path d="M7.666187 19.474806l2.165064-3.75H14.16138l2.165065 3.75-2.165065 3.75H9.831251z" fill="#de372c" fill-opacity=".8545852"/><path d="M7.666187 19.474806l2.165064-3.75H14.16138l2.165065 3.75-2.165065 3.75H9.831251z" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width=".6730434"/></g><g id="Graphic_13"><path d="M14.161476 15.751202l2.165064-3.75h4.33013l2.165064 3.75-2.165064 3.75H16.32654z" fill="#424242" fill-opacity=".9016462"/><path d="M14.161476 15.751202l2.165064-3.75h4.33013l2.165064 3.75-2.165064 3.75H16.32654z" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width=".6730434"/></g><g id="Graphic_12"><path d="M14.161476 8.226008 16.32654 4.4760076h4.33013L22.821734 8.226008l-2.165064 3.75H16.32654z" fill="#ffa269" fill-opacity=".8975772"/><path d="M14.161476 8.226008 16.32654 4.4760076h4.33013L22.821734 8.226008l-2.165064 3.75H16.32654z" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width=".6730434"/></g><g id="Graphic_11"><path d="M7.666187 4.5 9.831251.75H14.16138L16.326445 4.5 14.16138 8.25H9.831251z" fill="#419edb" fill-opacity=".8979957"/><path d="M7.666187 4.5 9.831251.75H14.16138L16.326445 4.5 14.16138 8.25H9.831251z" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width=".6730434"/></g><g id="Graphic_10"><path d="M1.1491742 8.226008 3.3142388 4.4760076H7.644368L9.809432 8.226008l-2.165064 3.75H3.3142388z" fill="#2f6793" fill-opacity=".9002511"/><path d="M1.1491742 8.226008 3.3142388 4.4760076H7.644368L9.809432 8.226008l-2.165064 3.75H3.3142388z" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width=".6730434"/></g><g id="Graphic_9"><path d="M1.182071 15.741036l2.1650645-3.75h4.330129l2.1650645 3.75-2.1650645 3.75H3.3471355z" fill="#53ac79" fill-opacity=".9"/><path d="M1.182071 15.741036l2.1650645-3.75h4.330129l2.1650645 3.75-2.1650645 3.75H3.3471355z" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width=".6730434"/></g></g></g></g></svg></span><span class=navbar-brand__name>PIGSTY</span></a><div class="td-navbar-nav-scroll td-navbar-nav-scroll--indicator" id=main_navbar><div class="scroll-indicator scroll-left"></div><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/docs/><i class='fa-solid fa-book'></i><span>Docs</span></a></li><li class=nav-item><a class=nav-link href=/blog/><i class="fas fa-blog"></i><span>Blog</span></a></li><li class="nav-item dropdown d-none d-lg-block td-navbar__version-menu"><div class=dropdown><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>Ver</a><ul class=dropdown-menu><li><a class=dropdown-item href=https://pigsty.cc>Pigsty 中文网站</a></li><li><a class=dropdown-item href=https://doc.pgsty.com>Pigsty v3.7 Doc</a></li><li><a class=dropdown-item href=https://v34.pigsty.cc>Pigsty v3.4 Doc</a></li><li><a class=dropdown-item href=https://v27.pigsty.cc>Pigsty v2.7 Doc</a></li><li><a class=dropdown-item href=https://v15.pigsty.cc/docs>Pigsty v1.5 Doc</a></li></ul></div></li><li class="nav-item td-navbar__light-dark-menu"><div class="td-light-dark-menu dropdown"><svg class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5.0 010 .708l-7 7a.5.5.0 01-.708.0l-3.5-3.5a.5.5.0 11.708-.708L6.5 10.293l6.646-6.647a.5.5.0 01.708.0z"/></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/><path d="M10.794 3.148a.217.217.0 01.412.0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217.0 010 .412l-1.162.387A1.734 1.734.0 0011.593 7.69l-.387 1.162a.217.217.0 01-.412.0l-.387-1.162A1.734 1.734.0 009.31 6.593l-1.162-.387a.217.217.0 010-.412l1.162-.387a1.734 1.734.0 001.097-1.097l.387-1.162zM13.863.099a.145.145.0 01.274.0l.258.774c.115.346.386.617.732.732l.774.258a.145.145.0 010 .274l-.774.258a1.156 1.156.0 00-.732.732l-.258.774a.145.145.0 01-.274.0l-.258-.774a1.156 1.156.0 00-.732-.732l-.774-.258a.145.145.0 010-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></symbol></svg>
<button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id=bd-theme type=button aria-expanded=false data-bs-toggle=dropdown aria-label="Toggle theme (auto)">
<svg class="bi my-1 theme-icon-active"><use href="#circle-half"/></svg></button><ul class=dropdown-menu aria-labelledby=bd-theme><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=light aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#sun-fill"/></svg>
Light
<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=dark aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"/></svg>
Dark
<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center active" data-bs-theme-value=auto aria-pressed=true>
<svg class="bi me-2 opacity-50"><use href="#circle-half"/></svg>
Auto
<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li></ul></div></li><li class=nav-item><a class=nav-link href=# onclick="return switchLang(),!1" title="Switch Language / 切换语言"><i class="fas fa-language"></i></a></li></ul><div class="scroll-indicator scroll-right"></div></div><div class="d-none d-lg-block td-navbar__search"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.d757e151050fd40088751a74721d74f6.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav><script>function switchLang(){var t=window.location.host,e=window.location.pathname+window.location.search+window.location.hash;t.indexOf("pigsty.io")!==-1?window.location.href="https://pigsty.cc"+e:t.indexOf("pigsty.cc")!==-1?window.location.href="https://pigsty.io"+e:window.location.href="https://pigsty.cc"+e}</script></header><div class="container-fluid td-outer"><div class=td-main data-bs-spy=scroll data-bs-target=.td-toc data-bs-root-margin="0px 0px -10%"><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.d757e151050fd40088751a74721d74f6.json data-offline-search-base-href=/ data-offline-search-max-results=10></div><button class="btn btn-link td-sidebar__toggle" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse foldable-nav" id=td-section-nav data-sidebar-root-id=/docs/pgsql/><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docspgsql-li><a href=/docs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docspgsql><i class="fas fa-database fa-bounce"></i><span class=td-sidebar-root-up-icon>Module: PGSQL</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child sidebar-divider" id=m-docspgsql_div_concept-li><input type=checkbox id=m-docspgsql_div_concept-check>
<label for=m-docspgsql_div_concept-check><span class="align-left ps-0 td-sidebar-link td-sidebar-link__divider" id=m-docspgsql_div_concept><span>Core Concepts</span></span></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docspgsqlconfig-li><input type=checkbox id=m-docspgsqlconfig-check>
<label for=m-docspgsqlconfig-check><a href=/docs/pgsql/config/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docspgsqlconfig><i class="fa-solid fa-code"></i><span>Configuration</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlconfigcluster-li><input type=checkbox id=m-docspgsqlconfigcluster-check>
<label for=m-docspgsqlconfigcluster-check><a href=/docs/pgsql/config/cluster/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlconfigcluster><i class="fa-solid fa-code"></i><span>Cluster / Instance</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlconfigkernel-li><input type=checkbox id=m-docspgsqlconfigkernel-check>
<label for=m-docspgsqlconfigkernel-check><a href=/docs/pgsql/config/kernel/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlconfigkernel><i class="fa-solid fa-microchip"></i><span>Kernel Version</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlconfigalias-li><input type=checkbox id=m-docspgsqlconfigalias-check>
<label for=m-docspgsqlconfigalias-check><a href=/docs/pgsql/config/alias/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlconfigalias><i class="fa-solid fa-square-binary"></i><span>Package Alias</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlconfiguser-li><input type=checkbox id=m-docspgsqlconfiguser-check>
<label for=m-docspgsqlconfiguser-check><a href=/docs/pgsql/config/user/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlconfiguser><i class="fa-solid fa-users"></i><span>User/Role</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlconfigdb-li><input type=checkbox id=m-docspgsqlconfigdb-check>
<label for=m-docspgsqlconfigdb-check><a href=/docs/pgsql/config/db/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlconfigdb><i class="fa-solid fa-coins"></i><span>Database</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlconfighba-li><input type=checkbox id=m-docspgsqlconfighba-check>
<label for=m-docspgsqlconfighba-check><a href=/docs/pgsql/config/hba/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlconfighba><i class="fa-solid fa-key"></i><span>HBA Rules</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlconfigacl-li><input type=checkbox id=m-docspgsqlconfigacl-check>
<label for=m-docspgsqlconfigacl-check><a href=/docs/pgsql/config/acl/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlconfigacl><i class="fa-solid fa-lock"></i><span>Access Control</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlservice-li><input type=checkbox id=m-docspgsqlservice-check>
<label for=m-docspgsqlservice-check><a href=/docs/pgsql/service/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docspgsqlservice><i class="fa-solid fa-arrow-down-up-across-line"></i><span>Service/Access</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlsecurity-li><input type=checkbox id=m-docspgsqlsecurity-check>
<label for=m-docspgsqlsecurity-check><a href=/docs/pgsql/security/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docspgsqlsecurity><i class="fa-solid fa-lock"></i><span>Access Control</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child sidebar-divider" id=m-docspgsql_div_admin-li><input type=checkbox id=m-docspgsql_div_admin-check>
<label for=m-docspgsql_div_admin-check><span class="align-left ps-0 td-sidebar-link td-sidebar-link__divider" id=m-docspgsql_div_admin><span>Administration</span></span></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docspgsqladmin-li><input type=checkbox id=m-docspgsqladmin-check checked>
<label for=m-docspgsqladmin-check><a href=/docs/pgsql/admin/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docspgsqladmin><i class="fa-solid fa-building-columns"></i><span>Administration</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqladmincluster-li><input type=checkbox id=m-docspgsqladmincluster-check>
<label for=m-docspgsqladmincluster-check><a href=/docs/pgsql/admin/cluster/ title="Managing PostgreSQL Clusters" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqladmincluster><i class="fa-solid fa-server"></i><span>Cluster Admin</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqladminuser-li><input type=checkbox id=m-docspgsqladminuser-check>
<label for=m-docspgsqladminuser-check><a href=/docs/pgsql/admin/user/ title="Managing PostgreSQL Users" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqladminuser><i class="fa-solid fa-users"></i><span>User Admin</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqladmindb-li><input type=checkbox id=m-docspgsqladmindb-check>
<label for=m-docspgsqladmindb-check><a href=/docs/pgsql/admin/db/ title="Managing PostgreSQL Databases" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqladmindb><i class="fa-solid fa-coins"></i><span>Database Admin</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqladminpatroni-li><input type=checkbox id=m-docspgsqladminpatroni-check>
<label for=m-docspgsqladminpatroni-check><a href=/docs/pgsql/admin/patroni/ title="Patroni HA Management" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqladminpatroni><i class="fa-solid fa-infinity"></i><span>Patroni HA Admin</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqladminpgbouncer-li><input type=checkbox id=m-docspgsqladminpgbouncer-check>
<label for=m-docspgsqladminpgbouncer-check><a href=/docs/pgsql/admin/pgbouncer/ title="Pgbouncer Connection Pooling" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqladminpgbouncer><i class="fa-solid fa-filter"></i><span>Pgbouncer Admin</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqladmincomponent-li><input type=checkbox id=m-docspgsqladmincomponent-check>
<label for=m-docspgsqladmincomponent-check><a href=/docs/pgsql/admin/component/ title="Managing PostgreSQL Component Services" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqladmincomponent><i class="fa-solid fa-gears"></i><span>Component Admin</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqladmincrontab-li><input type=checkbox id=m-docspgsqladmincrontab-check>
<label for=m-docspgsqladmincrontab-check><a href=/docs/pgsql/admin/crontab/ title="Manage PostgreSQL Cron Jobs" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqladmincrontab><i class="fa-solid fa-clock-rotate-left"></i><span>Crontab Admin</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqladminext-li><input type=checkbox id=m-docspgsqladminext-check>
<label for=m-docspgsqladminext-check><a href=/docs/pgsql/admin/ext/ title="Managing PostgreSQL Extensions" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqladminext><i class="fas fa-puzzle-piece"></i><span>Extension Admin</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqladminupgrade-li><input type=checkbox id=m-docspgsqladminupgrade-check>
<label for=m-docspgsqladminupgrade-check><a href=/docs/pgsql/admin/upgrade/ title="Upgrading PostgreSQL Major/Minor Versions" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqladminupgrade><i class="fa-solid fa-plane-up"></i><span>Version Upgrade</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docspgsqlbackup-li><input type=checkbox id=m-docspgsqlbackup-check>
<label for=m-docspgsqlbackup-check><a href=/docs/pgsql/backup/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docspgsqlbackup><i class="fa-solid fa-clock-rotate-left"></i><span>Backup & Restore</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlbackuppolicy-li><input type=checkbox id=m-docspgsqlbackuppolicy-check>
<label for=m-docspgsqlbackuppolicy-check><a href=/docs/pgsql/backup/policy/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlbackuppolicy><i class="fa-solid fa-clipboard-list"></i><span>Backup Policy</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlbackupmechanism-li><input type=checkbox id=m-docspgsqlbackupmechanism-check>
<label for=m-docspgsqlbackupmechanism-check><a href=/docs/pgsql/backup/mechanism/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlbackupmechanism><i class="fa-solid fa-gears"></i><span>Backup Mechanism</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlbackuprepository-li><input type=checkbox id=m-docspgsqlbackuprepository-check>
<label for=m-docspgsqlbackuprepository-check><a href=/docs/pgsql/backup/repository/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlbackuprepository><i class="fa-solid fa-box-archive"></i><span>Backup Repository</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlbackupadmin-li><input type=checkbox id=m-docspgsqlbackupadmin-check>
<label for=m-docspgsqlbackupadmin-check><a href=/docs/pgsql/backup/admin/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlbackupadmin><i class="fa-solid fa-terminal"></i><span>Admin Commands</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlbackuprestore-li><input type=checkbox id=m-docspgsqlbackuprestore-check>
<label for=m-docspgsqlbackuprestore-check><a href=/docs/pgsql/backup/restore/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlbackuprestore><i class="fa-solid fa-rotate-left"></i><span>Restore Operations</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlbackupcluster-li><input type=checkbox id=m-docspgsqlbackupcluster-check>
<label for=m-docspgsqlbackupcluster-check><a href=/docs/pgsql/backup/cluster/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlbackupcluster><i class="fa-solid fa-rotate-left"></i><span>Clone PG Cluster</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlbackupdatabase-li><input type=checkbox id=m-docspgsqlbackupdatabase-check>
<label for=m-docspgsqlbackupdatabase-check><a href=/docs/pgsql/backup/database/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlbackupdatabase><i class="fa-solid fa-rotate-left"></i><span>Clone Database</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlmigration-li><input type=checkbox id=m-docspgsqlmigration-check>
<label for=m-docspgsqlmigration-check><a href=/docs/pgsql/migration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docspgsqlmigration><i class="fa-solid fa-truck-moving"></i><span>Data Migration</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docspgsqltutorial-li><input type=checkbox id=m-docspgsqltutorial-check>
<label for=m-docspgsqltutorial-check><a href=/docs/pgsql/tutorial/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docspgsqltutorial><i class="fas fa-tasks"></i><span>Tutorials</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqltutorialinstance-li><input type=checkbox id=m-docspgsqltutorialinstance-check>
<label for=m-docspgsqltutorialinstance-check><a href=/docs/pgsql/tutorial/instance/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqltutorialinstance><i class="fa-solid fa-rotate-left"></i><span>Instance Recovery</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqltutorialfailure-li><input type=checkbox id=m-docspgsqltutorialfailure-check>
<label for=m-docspgsqltutorialfailure-check><a href=/docs/pgsql/tutorial/failure/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqltutorialfailure><i class="fa-solid fa-fire"></i><span>Troubleshooting</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqltutorialexample-li><input type=checkbox id=m-docspgsqltutorialexample-check>
<label for=m-docspgsqltutorialexample-check><a href=/docs/pgsql/tutorial/example/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqltutorialexample><i class="fa-solid fa-flask"></i><span>Manual Recovery</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqltutorialhugepage-li><input type=checkbox id=m-docspgsqltutorialhugepage-check>
<label for=m-docspgsqltutorialhugepage-check><a href=/docs/pgsql/tutorial/hugepage/ title="Enabling HugePage for PostgreSQL" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqltutorialhugepage><i class="fa-solid fa-file-circle-plus"></i><span>Enable HugePage</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqltutorialdrop-li><input type=checkbox id=m-docspgsqltutorialdrop-check>
<label for=m-docspgsqltutorialdrop-check><a href=/docs/pgsql/tutorial/drop/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqltutorialdrop><i class="fa-solid fa-trash"></i><span>Accidental Deletion</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqltutorialdrill-li><input type=checkbox id=m-docspgsqltutorialdrill-check>
<label for=m-docspgsqltutorialdrill-check><a href=/docs/pgsql/tutorial/drill/ title="HA Drill: Handling 2-of-3 Node Failure" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqltutorialdrill><i class="fa-solid fa-arrow-right-from-bracket"></i><span>HA Drill: 2/3 Failure</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqltutorialpg-vip-li><input type=checkbox id=m-docspgsqltutorialpg-vip-check>
<label for=m-docspgsqltutorialpg-vip-check><a href=/docs/pgsql/tutorial/pg-vip/ title="Bind a L2 VIP to PostgreSQL Primary with VIP-Manager" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqltutorialpg-vip><i class="fa-solid fa-arrows-split-up-and-left"></i><span>Bind a L2 PG VIP</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqltutorialcitus-li><input type=checkbox id=m-docspgsqltutorialcitus-check>
<label for=m-docspgsqltutorialcitus-check><a href=/docs/pgsql/tutorial/citus/ title="Deploy HA Citus Cluster" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqltutorialcitus><i class="fa-solid fa-arrow-right-from-bracket"></i><span>Setup HA Citus</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child sidebar-divider" id=m-docspgsql_div_reference-li><input type=checkbox id=m-docspgsql_div_reference-check>
<label for=m-docspgsql_div_reference-check><span class="align-left ps-0 td-sidebar-link td-sidebar-link__divider" id=m-docspgsql_div_reference><span>Reference</span></span></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docspgsqlmonitor-li><input type=checkbox id=m-docspgsqlmonitor-check checked>
<label for=m-docspgsqlmonitor-check><a href=/docs/pgsql/monitor/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__section" id=m-docspgsqlmonitor><i class="fa-solid fa-binoculars"></i><span class=td-sidebar-nav-active-item>Monitoring</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlmonitordashboard-li><input type=checkbox id=m-docspgsqlmonitordashboard-check>
<label for=m-docspgsqlmonitordashboard-check><a href=/docs/pgsql/monitor/dashboard/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlmonitordashboard><i class="fa-solid fa-gauge-simple-high"></i><span>Dashboards</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlmonitormetric-li><input type=checkbox id=m-docspgsqlmonitormetric-check>
<label for=m-docspgsqlmonitormetric-check><a href=/docs/pgsql/monitor/metric/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlmonitormetric><i class="fa-solid fa-list-check"></i><span>Metrics List</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docspgsqldashboard-li><input type=checkbox id=m-docspgsqldashboard-check>
<label for=m-docspgsqldashboard-check><a href=/docs/pgsql/dashboard/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docspgsqldashboard><i class="fa-solid fa-gauge-simple-high"></i><span>Dashboard</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docspgsqldashboardoverview-li><input type=checkbox id=m-docspgsqldashboardoverview-check>
<label for=m-docspgsqldashboardoverview-check><a href=/docs/pgsql/dashboard/overview/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docspgsqldashboardoverview><span>Overview</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardoverviewpgsql-overview-li><input type=checkbox id=m-docspgsqldashboardoverviewpgsql-overview-check>
<label for=m-docspgsqldashboardoverviewpgsql-overview-check><a href=/docs/pgsql/dashboard/overview/pgsql-overview/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardoverviewpgsql-overview><span>PGSQL Overview</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardoverviewpgsql-alert-li><input type=checkbox id=m-docspgsqldashboardoverviewpgsql-alert-check>
<label for=m-docspgsqldashboardoverviewpgsql-alert-check><a href=/docs/pgsql/dashboard/overview/pgsql-alert/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardoverviewpgsql-alert><span>PGSQL Alert</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardoverviewpgsql-shard-li><input type=checkbox id=m-docspgsqldashboardoverviewpgsql-shard-check>
<label for=m-docspgsqldashboardoverviewpgsql-shard-check><a href=/docs/pgsql/dashboard/overview/pgsql-shard/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardoverviewpgsql-shard><span>PGSQL Shard</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docspgsqldashboardcluster-li><input type=checkbox id=m-docspgsqldashboardcluster-check>
<label for=m-docspgsqldashboardcluster-check><a href=/docs/pgsql/dashboard/cluster/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docspgsqldashboardcluster><span>Cluster</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardclusterpgsql-cluster-li><input type=checkbox id=m-docspgsqldashboardclusterpgsql-cluster-check>
<label for=m-docspgsqldashboardclusterpgsql-cluster-check><a href=/docs/pgsql/dashboard/cluster/pgsql-cluster/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardclusterpgsql-cluster><span>PGSQL Cluster</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardclusterpgrds-cluster-li><input type=checkbox id=m-docspgsqldashboardclusterpgrds-cluster-check>
<label for=m-docspgsqldashboardclusterpgrds-cluster-check><a href=/docs/pgsql/dashboard/cluster/pgrds-cluster/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardclusterpgrds-cluster><span>PGRDS Cluster</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardclusterpgsql-activity-li><input type=checkbox id=m-docspgsqldashboardclusterpgsql-activity-check>
<label for=m-docspgsqldashboardclusterpgsql-activity-check><a href=/docs/pgsql/dashboard/cluster/pgsql-activity/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardclusterpgsql-activity><span>PGSQL Activity</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardclusterpgsql-replication-li><input type=checkbox id=m-docspgsqldashboardclusterpgsql-replication-check>
<label for=m-docspgsqldashboardclusterpgsql-replication-check><a href=/docs/pgsql/dashboard/cluster/pgsql-replication/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardclusterpgsql-replication><span>PGSQL Replication</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardclusterpgsql-service-li><input type=checkbox id=m-docspgsqldashboardclusterpgsql-service-check>
<label for=m-docspgsqldashboardclusterpgsql-service-check><a href=/docs/pgsql/dashboard/cluster/pgsql-service/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardclusterpgsql-service><span>PGSQL Service</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardclusterpgsql-databases-li><input type=checkbox id=m-docspgsqldashboardclusterpgsql-databases-check>
<label for=m-docspgsqldashboardclusterpgsql-databases-check><a href=/docs/pgsql/dashboard/cluster/pgsql-databases/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardclusterpgsql-databases><span>PGSQL Databases</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardclusterpgsql-patroni-li><input type=checkbox id=m-docspgsqldashboardclusterpgsql-patroni-check>
<label for=m-docspgsqldashboardclusterpgsql-patroni-check><a href=/docs/pgsql/dashboard/cluster/pgsql-patroni/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardclusterpgsql-patroni><span>PGSQL Patroni</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardclusterpgsql-pitr-li><input type=checkbox id=m-docspgsqldashboardclusterpgsql-pitr-check>
<label for=m-docspgsqldashboardclusterpgsql-pitr-check><a href=/docs/pgsql/dashboard/cluster/pgsql-pitr/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardclusterpgsql-pitr><span>PGSQL PITR</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docspgsqldashboardinstance-li><input type=checkbox id=m-docspgsqldashboardinstance-check>
<label for=m-docspgsqldashboardinstance-check><a href=/docs/pgsql/dashboard/instance/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docspgsqldashboardinstance><span>Instance</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardinstancepgsql-instance-li><input type=checkbox id=m-docspgsqldashboardinstancepgsql-instance-check>
<label for=m-docspgsqldashboardinstancepgsql-instance-check><a href=/docs/pgsql/dashboard/instance/pgsql-instance/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardinstancepgsql-instance><span>PGSQL Instance</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardinstancepgrds-instance-li><input type=checkbox id=m-docspgsqldashboardinstancepgrds-instance-check>
<label for=m-docspgsqldashboardinstancepgrds-instance-check><a href=/docs/pgsql/dashboard/instance/pgrds-instance/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardinstancepgrds-instance><span>PGRDS Instance</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardinstancepgcat-instance-li><input type=checkbox id=m-docspgsqldashboardinstancepgcat-instance-check>
<label for=m-docspgsqldashboardinstancepgcat-instance-check><a href=/docs/pgsql/dashboard/instance/pgcat-instance/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardinstancepgcat-instance><span>PGCAT Instance</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardinstancepgsql-persist-li><input type=checkbox id=m-docspgsqldashboardinstancepgsql-persist-check>
<label for=m-docspgsqldashboardinstancepgsql-persist-check><a href=/docs/pgsql/dashboard/instance/pgsql-persist/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardinstancepgsql-persist><span>PGSQL Persist</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardinstancepgsql-proxy-li><input type=checkbox id=m-docspgsqldashboardinstancepgsql-proxy-check>
<label for=m-docspgsqldashboardinstancepgsql-proxy-check><a href=/docs/pgsql/dashboard/instance/pgsql-proxy/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardinstancepgsql-proxy><span>PGSQL Proxy</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardinstancepgsql-pgbouncer-li><input type=checkbox id=m-docspgsqldashboardinstancepgsql-pgbouncer-check>
<label for=m-docspgsqldashboardinstancepgsql-pgbouncer-check><a href=/docs/pgsql/dashboard/instance/pgsql-pgbouncer/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardinstancepgsql-pgbouncer><span>PGSQL Pgbouncer</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardinstancepgsql-session-li><input type=checkbox id=m-docspgsqldashboardinstancepgsql-session-check>
<label for=m-docspgsqldashboardinstancepgsql-session-check><a href=/docs/pgsql/dashboard/instance/pgsql-session/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardinstancepgsql-session><span>PGSQL Session</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardinstancepgsql-xacts-li><input type=checkbox id=m-docspgsqldashboardinstancepgsql-xacts-check>
<label for=m-docspgsqldashboardinstancepgsql-xacts-check><a href=/docs/pgsql/dashboard/instance/pgsql-xacts/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardinstancepgsql-xacts><span>PGSQL Xacts</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboardinstancepgsql-exporter-li><input type=checkbox id=m-docspgsqldashboardinstancepgsql-exporter-check>
<label for=m-docspgsqldashboardinstancepgsql-exporter-check><a href=/docs/pgsql/dashboard/instance/pgsql-exporter/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboardinstancepgsql-exporter><span>PGSQL Exporter</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docspgsqldashboarddatabase-li><input type=checkbox id=m-docspgsqldashboarddatabase-check>
<label for=m-docspgsqldashboarddatabase-check><a href=/docs/pgsql/dashboard/database/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docspgsqldashboarddatabase><span>Database</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboarddatabasepgsql-database-li><input type=checkbox id=m-docspgsqldashboarddatabasepgsql-database-check>
<label for=m-docspgsqldashboarddatabasepgsql-database-check><a href=/docs/pgsql/dashboard/database/pgsql-database/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboarddatabasepgsql-database><span>PGSQL Database</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboarddatabasepgcat-database-li><input type=checkbox id=m-docspgsqldashboarddatabasepgcat-database-check>
<label for=m-docspgsqldashboarddatabasepgcat-database-check><a href=/docs/pgsql/dashboard/database/pgcat-database/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboarddatabasepgcat-database><span>PGCAT Database</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboarddatabasepgsql-tables-li><input type=checkbox id=m-docspgsqldashboarddatabasepgsql-tables-check>
<label for=m-docspgsqldashboarddatabasepgsql-tables-check><a href=/docs/pgsql/dashboard/database/pgsql-tables/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboarddatabasepgsql-tables><span>PGSQL Tables</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboarddatabasepgsql-table-li><input type=checkbox id=m-docspgsqldashboarddatabasepgsql-table-check>
<label for=m-docspgsqldashboarddatabasepgsql-table-check><a href=/docs/pgsql/dashboard/database/pgsql-table/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboarddatabasepgsql-table><span>PGSQL Table</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboarddatabasepgcat-table-li><input type=checkbox id=m-docspgsqldashboarddatabasepgcat-table-check>
<label for=m-docspgsqldashboarddatabasepgcat-table-check><a href=/docs/pgsql/dashboard/database/pgcat-table/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboarddatabasepgcat-table><span>PGCAT Table</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboarddatabasepgsql-query-li><input type=checkbox id=m-docspgsqldashboarddatabasepgsql-query-check>
<label for=m-docspgsqldashboarddatabasepgsql-query-check><a href=/docs/pgsql/dashboard/database/pgsql-query/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboarddatabasepgsql-query><span>PGSQL Query</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboarddatabasepgcat-query-li><input type=checkbox id=m-docspgsqldashboarddatabasepgcat-query-check>
<label for=m-docspgsqldashboarddatabasepgcat-query-check><a href=/docs/pgsql/dashboard/database/pgcat-query/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboarddatabasepgcat-query><span>PGCAT Query</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboarddatabasepgcat-locks-li><input type=checkbox id=m-docspgsqldashboarddatabasepgcat-locks-check>
<label for=m-docspgsqldashboarddatabasepgcat-locks-check><a href=/docs/pgsql/dashboard/database/pgcat-locks/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboarddatabasepgcat-locks><span>PGCAT Locks</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqldashboarddatabasepgcat-schema-li><input type=checkbox id=m-docspgsqldashboarddatabasepgcat-schema-check>
<label for=m-docspgsqldashboarddatabasepgcat-schema-check><a href=/docs/pgsql/dashboard/database/pgcat-schema/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqldashboarddatabasepgcat-schema><span>PGCAT Schema</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlmetric-li><input type=checkbox id=m-docspgsqlmetric-check>
<label for=m-docspgsqlmetric-check><a href=/docs/pgsql/metric/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlmetric><i class="fa-solid fa-list-check"></i><span>Metrics</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlparam-li><input type=checkbox id=m-docspgsqlparam-check>
<label for=m-docspgsqlparam-check><a href=/docs/pgsql/param/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docspgsqlparam><i class="fa-solid fa-sliders"></i><span>Parameters</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlplaybook-li><input type=checkbox id=m-docspgsqlplaybook-check>
<label for=m-docspgsqlplaybook-check><a href=/docs/pgsql/playbook/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlplaybook><i class="fa-solid fa-scroll"></i><span>Playbook</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docspgsqlext-li><input type=checkbox id=m-docspgsqlext-check>
<label for=m-docspgsqlext-check><a href=/docs/pgsql/ext/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docspgsqlext><i class="fas fa-puzzle-piece"></i><span>Extensions</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlextstart-li><input type=checkbox id=m-docspgsqlextstart-check>
<label for=m-docspgsqlextstart-check><a href=/docs/pgsql/ext/start/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlextstart><i class="fa-solid fa-rocket"></i><span>Quick Start</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlextintro-li><input type=checkbox id=m-docspgsqlextintro-check>
<label for=m-docspgsqlextintro-check><a href=/docs/pgsql/ext/intro/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlextintro><i class="fas fa-info-circle"></i><span>Introduction</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlextpkg-li><input type=checkbox id=m-docspgsqlextpkg-check>
<label for=m-docspgsqlextpkg-check><a href=/docs/pgsql/ext/pkg/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlextpkg><i class="fa-solid fa-box"></i><span>Packages</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlextdownload-li><input type=checkbox id=m-docspgsqlextdownload-check>
<label for=m-docspgsqlextdownload-check><a href=/docs/pgsql/ext/download/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlextdownload><i class="fas fa-download"></i><span>Download</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlextinstall-li><input type=checkbox id=m-docspgsqlextinstall-check>
<label for=m-docspgsqlextinstall-check><a href=/docs/pgsql/ext/install/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlextinstall><i class="fas fa-box-open"></i><span>Install</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlextconfig-li><input type=checkbox id=m-docspgsqlextconfig-check>
<label for=m-docspgsqlextconfig-check><a href=/docs/pgsql/ext/config/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlextconfig><i class="fa-solid fa-gears"></i><span>Config</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlextcreate-li><input type=checkbox id=m-docspgsqlextcreate-check>
<label for=m-docspgsqlextcreate-check><a href=/docs/pgsql/ext/create/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlextcreate><i class="fas fa-plus-circle"></i><span>Create</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlextupdate-li><input type=checkbox id=m-docspgsqlextupdate-check>
<label for=m-docspgsqlextupdate-check><a href=/docs/pgsql/ext/update/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlextupdate><i class="fas fa-arrow-up"></i><span>Update</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlextremove-li><input type=checkbox id=m-docspgsqlextremove-check>
<label for=m-docspgsqlextremove-check><a href=/docs/pgsql/ext/remove/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlextremove><i class="fas fa-trash"></i><span>Remove</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlextextension-li><input type=checkbox id=m-docspgsqlextextension-check>
<label for=m-docspgsqlextextension-check><a href=/docs/pgsql/ext/extension/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlextextension><i class="fa-brands fa-usb"></i><span>Default Extensions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlextrepo-li><input type=checkbox id=m-docspgsqlextrepo-check>
<label for=m-docspgsqlextrepo-check><a href=/docs/pgsql/ext/repo/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlextrepo><i class="fas fa-warehouse"></i><span>Repository</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docspgsqltemplate-li><input type=checkbox id=m-docspgsqltemplate-check>
<label for=m-docspgsqltemplate-check><a href=/docs/pgsql/template/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docspgsqltemplate><i class="fas fa-paint-roller"></i><span>Param Templates</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqltemplatetune-li><input type=checkbox id=m-docspgsqltemplatetune-check>
<label for=m-docspgsqltemplatetune-check><a href=/docs/pgsql/template/tune/ title="Parameter Optimization Policy" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqltemplatetune><i class="fa-solid fa-gauge-high"></i><span>Optimize Params</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqltemplateoltp-li><input type=checkbox id=m-docspgsqltemplateoltp-check>
<label for=m-docspgsqltemplateoltp-check><a href=/docs/pgsql/template/oltp/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqltemplateoltp><i class="fa-solid fa-bolt"></i><span>OLTP Template</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqltemplateolap-li><input type=checkbox id=m-docspgsqltemplateolap-check>
<label for=m-docspgsqltemplateolap-check><a href=/docs/pgsql/template/olap/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqltemplateolap><i class="fa-solid fa-chart-line"></i><span>OLAP Template</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqltemplatecrit-li><input type=checkbox id=m-docspgsqltemplatecrit-check>
<label for=m-docspgsqltemplatecrit-check><a href=/docs/pgsql/template/crit/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqltemplatecrit><i class="fa-solid fa-shield-halved"></i><span>CRIT Template</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqltemplatetiny-li><input type=checkbox id=m-docspgsqltemplatetiny-check>
<label for=m-docspgsqltemplatetiny-check><a href=/docs/pgsql/template/tiny/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqltemplatetiny><i class="fa-solid fa-microchip"></i><span>TINY Template</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docspgsqlkernel-li><input type=checkbox id=m-docspgsqlkernel-check>
<label for=m-docspgsqlkernel-check><a href=/docs/pgsql/kernel/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docspgsqlkernel><i class="fas fa-heart"></i><span>PG Kernels</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlkernelpostgres-li><input type=checkbox id=m-docspgsqlkernelpostgres-check>
<label for=m-docspgsqlkernelpostgres-check><a href=/docs/pgsql/kernel/postgres/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlkernelpostgres><i class="fa-solid fa-database"></i><span>PostgreSQL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlkernelsupabase-li><input type=checkbox id=m-docspgsqlkernelsupabase-check>
<label for=m-docspgsqlkernelsupabase-check><a href=/docs/pgsql/kernel/supabase/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlkernelsupabase><i class="fas fa-bolt"></i><span>Supabase</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlkernelpercona-li><input type=checkbox id=m-docspgsqlkernelpercona-check>
<label for=m-docspgsqlkernelpercona-check><a href=/docs/pgsql/kernel/percona/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlkernelpercona><i class="fa-solid fa-lock"></i><span>Percona</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlkernelopenhalo-li><input type=checkbox id=m-docspgsqlkernelopenhalo-check>
<label for=m-docspgsqlkernelopenhalo-check><a href=/docs/pgsql/kernel/openhalo/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlkernelopenhalo><i class="fa-solid fa-sync"></i><span>OpenHalo</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlkernelorioledb-li><input type=checkbox id=m-docspgsqlkernelorioledb-check>
<label for=m-docspgsqlkernelorioledb-check><a href=/docs/pgsql/kernel/orioledb/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlkernelorioledb><i class="fa-solid fa-bolt"></i><span>OrioleDB</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlkernelcitus-li><input type=checkbox id=m-docspgsqlkernelcitus-check>
<label for=m-docspgsqlkernelcitus-check><a href=/docs/pgsql/kernel/citus/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlkernelcitus><i class="fas fa-lemon"></i><span>Citus</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlkernelbabelfish-li><input type=checkbox id=m-docspgsqlkernelbabelfish-check>
<label for=m-docspgsqlkernelbabelfish-check><a href=/docs/pgsql/kernel/babelfish/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlkernelbabelfish><i class="fab fa-microsoft"></i><span>Babelfish</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlkernelivorysql-li><input type=checkbox id=m-docspgsqlkernelivorysql-check>
<label for=m-docspgsqlkernelivorysql-check><a href=/docs/pgsql/kernel/ivorysql/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlkernelivorysql><i class="fas fa-server"></i><span>IvorySQL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlkernelpolardb-li><input type=checkbox id=m-docspgsqlkernelpolardb-check>
<label for=m-docspgsqlkernelpolardb-check><a href=/docs/pgsql/kernel/polardb/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlkernelpolardb><i class="fas fa-paw"></i><span>PolarDB PG</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlkernelpolardb-o-li><input type=checkbox id=m-docspgsqlkernelpolardb-o-check>
<label for=m-docspgsqlkernelpolardb-o-check><a href=/docs/pgsql/kernel/polardb-o/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlkernelpolardb-o><i class="fas fa-paw"></i><span>PolarDB Oracle</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlkernelpgml-li><input type=checkbox id=m-docspgsqlkernelpgml-check>
<label for=m-docspgsqlkernelpgml-check><a href=/docs/pgsql/kernel/pgml/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlkernelpgml><i class="fas fa-bolt"></i><span>PostgresML</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlkernelcloudberry-li><input type=checkbox id=m-docspgsqlkernelcloudberry-check>
<label for=m-docspgsqlkernelcloudberry-check><a href=/docs/pgsql/kernel/cloudberry/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlkernelcloudberry><i class="fas fa-leaf"></i><span>Cloudberry</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspgsqlfaq-li><input type=checkbox id=m-docspgsqlfaq-check>
<label for=m-docspgsqlfaq-check><a href=/docs/pgsql/faq/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docspgsqlfaq><i class="fa-solid fa-circle-question"></i><span>FAQ</span></a></label></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://github.com/pgsty/pigsty.io/tree/main/content/docs/pgsql/monitor/_index.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> View Page Source</a>
<a href=https://github.com/pgsty/pigsty.io/edit/main/content/docs/pgsql/monitor/_index.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit Current Page</a>
<a href="https://github.com/pgsty/pigsty.io/new/main/content/docs/pgsql/monitor?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Create Child Page</a>
<a href="https://github.com/pgsty/pigsty.io/issues/new?title=Monitoring" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create Docs Issue</a>
<a href=https://github.com/pgsty/pigsty/issues/new class="td-page-meta--project td-page-meta__project-issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create Project Issue</a>
<a id=print href=/_print/docs/pgsql/monitor/><i class="fa-solid fa-print fa-fw"></i> Print Entire Section</a></div><div class=td-toc data-proofer-ignore><div class=td-toc-title><span class=td-toc-title__text>On this page</span>
<a class=td-toc-title__link title="Top of page" href=#></a></div><nav id=TableOfContents><ul><li><a href=#monitoring-overview>Monitoring Overview</a></li><li><a href=#monitoring-modes>Monitoring Modes</a></li><li><a href=#monitor-existing-cluster>Monitor Existing Cluster</a></li><li><a href=#monitor-rds>Monitor RDS</a></li><li><a href=#monitor-setup>Monitor Setup</a><ul><li><a href=#monitor-user>Monitor User</a></li><li><a href=#monitor-authentication>Monitor Authentication</a></li><li><a href=#monitor-schema>Monitor Schema</a></li><li><a href=#monitor-extension>Monitor Extension</a></li><li><a href=#monitor-views>Monitor Views</a></li></ul></li></ul></nav></div><div class="taxonomy taxonomy-terms-cloud taxo-module"><h5 class=taxonomy-title>Module</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://pigsty.io/module/app/ data-taxonomy-term=app><span class=taxonomy-label>APP</span><span class=taxonomy-count>10</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/blog/ data-taxonomy-term=blog><span class=taxonomy-label>BLOG</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/consul/ data-taxonomy-term=consul><span class=taxonomy-label>CONSUL</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/docker/ data-taxonomy-term=docker><span class=taxonomy-label>DOCKER</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/duckdb/ data-taxonomy-term=duckdb><span class=taxonomy-label>DUCKDB</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/etcd/ data-taxonomy-term=etcd><span class=taxonomy-label>ETCD</span><span class=taxonomy-count>7</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/infra/ data-taxonomy-term=infra><span class=taxonomy-label>INFRA</span><span class=taxonomy-count>8</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/jupyter/ data-taxonomy-term=jupyter><span class=taxonomy-label>JUPYTER</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/kafka/ data-taxonomy-term=kafka><span class=taxonomy-label>KAFKA</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/kube/ data-taxonomy-term=kube><span class=taxonomy-label>KUBE</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/minio/ data-taxonomy-term=minio><span class=taxonomy-label>MINIO</span><span class=taxonomy-count>9</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/mysql/ data-taxonomy-term=mysql><span class=taxonomy-label>MYSQL</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/pgsql/ data-taxonomy-term=pgsql><span class=taxonomy-label>PGSQL</span><span class=taxonomy-count>91</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/pig/ data-taxonomy-term=pig><span class=taxonomy-label>PIG</span><span class=taxonomy-count>10</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/pigsty/ data-taxonomy-term=pigsty><span class=taxonomy-label>PIGSTY</span><span class=taxonomy-count>51</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/pilot/ data-taxonomy-term=pilot><span class=taxonomy-label>PILOT</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/redis/ data-taxonomy-term=redis><span class=taxonomy-label>REDIS</span><span class=taxonomy-count>8</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/software/ data-taxonomy-term=software><span class=taxonomy-label>SOFTWARE</span><span class=taxonomy-count>20</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/tigerbeetle/ data-taxonomy-term=tigerbeetle><span class=taxonomy-label>TIGERBEETLE</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/module/victoria/ data-taxonomy-term=victoria><span class=taxonomy-label>VICTORIA</span><span class=taxonomy-count>1</span></a></li></ul></div><div class="taxonomy taxonomy-terms-cloud taxo-categories"><h5 class=taxonomy-title>Category</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://pigsty.io/categories/admin/ data-taxonomy-term=admin><span class=taxonomy-label>Admin</span><span class=taxonomy-count>6</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/categories/application/ data-taxonomy-term=application><span class=taxonomy-label>Application</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/categories/concept/ data-taxonomy-term=concept><span class=taxonomy-label>Concept</span><span class=taxonomy-count>48</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/categories/database/ data-taxonomy-term=database><span class=taxonomy-label>Database</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/categories/reference/ data-taxonomy-term=reference><span class=taxonomy-label>Reference</span><span class=taxonomy-count>182</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/categories/task/ data-taxonomy-term=task><span class=taxonomy-label>Task</span><span class=taxonomy-count>52</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/categories/tutorial/ data-taxonomy-term=tutorial><span class=taxonomy-label>Tutorial</span><span class=taxonomy-count>25</span></a></li></ul></div><div class="taxonomy taxonomy-terms-cloud taxo-tags"><h5 class=taxonomy-title>Tags</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://pigsty.io/tags/agent/ data-taxonomy-term=agent><span class=taxonomy-label>Agent</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/ai/ data-taxonomy-term=ai><span class=taxonomy-label>AI</span><span class=taxonomy-count>8</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/alibaba-cloud/ data-taxonomy-term=alibaba-cloud><span class=taxonomy-label>Alibaba-Cloud</span><span class=taxonomy-count>8</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/aliyun/ data-taxonomy-term=aliyun><span class=taxonomy-label>Aliyun</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/architecture/ data-taxonomy-term=architecture><span class=taxonomy-label>Architecture</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/auth/ data-taxonomy-term=auth><span class=taxonomy-label>Auth</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/aws/ data-taxonomy-term=aws><span class=taxonomy-label>AWS</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/backup/ data-taxonomy-term=backup><span class=taxonomy-label>Backup</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/business/ data-taxonomy-term=business><span class=taxonomy-label>Business</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cdc/ data-taxonomy-term=cdc><span class=taxonomy-label>CDC</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cdn/ data-taxonomy-term=cdn><span class=taxonomy-label>CDN</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/citus/ data-taxonomy-term=citus><span class=taxonomy-label>Citus</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/clickhouse/ data-taxonomy-term=clickhouse><span class=taxonomy-label>ClickHouse</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cloud/ data-taxonomy-term=cloud><span class=taxonomy-label>Cloud</span><span class=taxonomy-count>7</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cloud-exit/ data-taxonomy-term=cloud-exit><span class=taxonomy-label>Cloud-Exit</span><span class=taxonomy-count>37</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cloud-outage/ data-taxonomy-term=cloud-outage><span class=taxonomy-label>Cloud-Outage</span><span class=taxonomy-count>11</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cloudberry/ data-taxonomy-term=cloudberry><span class=taxonomy-label>Cloudberry</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cloudflare/ data-taxonomy-term=cloudflare><span class=taxonomy-label>Cloudflare</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cmdb/ data-taxonomy-term=cmdb><span class=taxonomy-label>CMDB</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/configuration/ data-taxonomy-term=configuration><span class=taxonomy-label>Configuration</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/configuration-management/ data-taxonomy-term=configuration-management><span class=taxonomy-label>Configuration Management</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/connection-pool/ data-taxonomy-term=connection-pool><span class=taxonomy-label>Connection-Pool</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/convention/ data-taxonomy-term=convention><span class=taxonomy-label>Convention</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/cost/ data-taxonomy-term=cost><span class=taxonomy-label>Cost</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/data-corruption/ data-taxonomy-term=data-corruption><span class=taxonomy-label>Data-Corruption</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/database/ data-taxonomy-term=database><span class=taxonomy-label>Database</span><span class=taxonomy-count>50</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/dba/ data-taxonomy-term=dba><span class=taxonomy-label>DBA</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/dbos/ data-taxonomy-term=dbos><span class=taxonomy-label>DBOS</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/ddia/ data-taxonomy-term=ddia><span class=taxonomy-label>DDIA</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/development/ data-taxonomy-term=development><span class=taxonomy-label>Development</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/dhh/ data-taxonomy-term=dhh><span class=taxonomy-label>DHH</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/distributed/ data-taxonomy-term=distributed><span class=taxonomy-label>Distributed</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/docker/ data-taxonomy-term=docker><span class=taxonomy-label>Docker</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/domestic-database/ data-taxonomy-term=domestic-database><span class=taxonomy-label>Domestic-Database</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/duckdb/ data-taxonomy-term=duckdb><span class=taxonomy-label>DuckDB</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/ebs/ data-taxonomy-term=ebs><span class=taxonomy-label>EBS</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/ecosystem/ data-taxonomy-term=ecosystem><span class=taxonomy-label>Ecosystem</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/ecs/ data-taxonomy-term=ecs><span class=taxonomy-label>ECS</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/encoding/ data-taxonomy-term=encoding><span class=taxonomy-label>Encoding</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/etcd/ data-taxonomy-term=etcd><span class=taxonomy-label>Etcd</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/extension/ data-taxonomy-term=extension><span class=taxonomy-label>Extension</span><span class=taxonomy-count>26</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/faq/ data-taxonomy-term=faq><span class=taxonomy-label>FAQ</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/finops/ data-taxonomy-term=finops><span class=taxonomy-label>FinOps</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/full-text-search/ data-taxonomy-term=full-text-search><span class=taxonomy-label>Full-Text-Search</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/functions/ data-taxonomy-term=functions><span class=taxonomy-label>Functions</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/gin/ data-taxonomy-term=gin><span class=taxonomy-label>GIN</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/gis/ data-taxonomy-term=gis><span class=taxonomy-label>GIS</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/go/ data-taxonomy-term=go><span class=taxonomy-label>Go</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/gpl/ data-taxonomy-term=gpl><span class=taxonomy-label>GPL</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/greenplum/ data-taxonomy-term=greenplum><span class=taxonomy-label>Greenplum</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/hardware/ data-taxonomy-term=hardware><span class=taxonomy-label>Hardware</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/hba/ data-taxonomy-term=hba><span class=taxonomy-label>HBA</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/iac/ data-taxonomy-term=iac><span class=taxonomy-label>IaC</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/iceberg/ data-taxonomy-term=iceberg><span class=taxonomy-label>Iceberg</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/incident-report/ data-taxonomy-term=incident-report><span class=taxonomy-label>Incident-Report</span><span class=taxonomy-count>8</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/installation/ data-taxonomy-term=installation><span class=taxonomy-label>Installation</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/introduction/ data-taxonomy-term=introduction><span class=taxonomy-label>Introduction</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/juicefs/ data-taxonomy-term=juicefs><span class=taxonomy-label>JuiceFS</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/kernel/ data-taxonomy-term=kernel><span class=taxonomy-label>Kernel</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/knn/ data-taxonomy-term=knn><span class=taxonomy-label>KNN</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/kubernetes/ data-taxonomy-term=kubernetes><span class=taxonomy-label>Kubernetes</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/license/ data-taxonomy-term=license><span class=taxonomy-label>License</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/linux/ data-taxonomy-term=linux><span class=taxonomy-label>Linux</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/lock/ data-taxonomy-term=lock><span class=taxonomy-label>Lock</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/logging/ data-taxonomy-term=logging><span class=taxonomy-label>Logging</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/mcp/ data-taxonomy-term=mcp><span class=taxonomy-label>MCP</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/metrics/ data-taxonomy-term=metrics><span class=taxonomy-label>Metrics</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/microservices/ data-taxonomy-term=microservices><span class=taxonomy-label>Microservices</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/migration/ data-taxonomy-term=migration><span class=taxonomy-label>Migration</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/minio/ data-taxonomy-term=minio><span class=taxonomy-label>MinIO</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/ml/ data-taxonomy-term=ml><span class=taxonomy-label>ML</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/mongodb/ data-taxonomy-term=mongodb><span class=taxonomy-label>MongoDB</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/monitoring/ data-taxonomy-term=monitoring><span class=taxonomy-label>Monitoring</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/mssql/ data-taxonomy-term=mssql><span class=taxonomy-label>MSSQL</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/mysql/ data-taxonomy-term=mysql><span class=taxonomy-label>MySQL</span><span class=taxonomy-count>10</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/neon/ data-taxonomy-term=neon><span class=taxonomy-label>Neon</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/newsql/ data-taxonomy-term=newsql><span class=taxonomy-label>NewSQL</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/observability/ data-taxonomy-term=observability><span class=taxonomy-label>Observability</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/olap/ data-taxonomy-term=olap><span class=taxonomy-label>OLAP</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/open-source/ data-taxonomy-term=open-source><span class=taxonomy-label>Open-Source</span><span class=taxonomy-count>11</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/openai/ data-taxonomy-term=openai><span class=taxonomy-label>OpenAI</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/opentelemetry/ data-taxonomy-term=opentelemetry><span class=taxonomy-label>OpenTelemetry</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/operating-system/ data-taxonomy-term=operating-system><span class=taxonomy-label>Operating-System</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/oracle/ data-taxonomy-term=oracle><span class=taxonomy-label>Oracle</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/performance/ data-taxonomy-term=performance><span class=taxonomy-label>Performance</span><span class=taxonomy-count>8</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/pg-admin/ data-taxonomy-term=pg-admin><span class=taxonomy-label>PG-Admin</span><span class=taxonomy-count>42</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/pg-development/ data-taxonomy-term=pg-development><span class=taxonomy-label>PG-Development</span><span class=taxonomy-count>20</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/pg-ecosystem/ data-taxonomy-term=pg-ecosystem><span class=taxonomy-label>PG-Ecosystem</span><span class=taxonomy-count>21</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/pg-kernel/ data-taxonomy-term=pg-kernel><span class=taxonomy-label>PG-Kernel</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/pigsty/ data-taxonomy-term=pigsty><span class=taxonomy-label>Pigsty</span><span class=taxonomy-count>32</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/pigstyapp/ data-taxonomy-term=pigstyapp><span class=taxonomy-label>PigstyApp</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/pitr/ data-taxonomy-term=pitr><span class=taxonomy-label>PITR</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/polardb/ data-taxonomy-term=polardb><span class=taxonomy-label>PolarDB</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/positioning/ data-taxonomy-term=positioning><span class=taxonomy-label>Positioning</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/postgresml/ data-taxonomy-term=postgresml><span class=taxonomy-label>PostgresML</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/postgresql/ data-taxonomy-term=postgresql><span class=taxonomy-label>PostgreSQL</span><span class=taxonomy-count>124</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/rds/ data-taxonomy-term=rds><span class=taxonomy-label>RDS</span><span class=taxonomy-count>8</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/recommendation-system/ data-taxonomy-term=recommendation-system><span class=taxonomy-label>Recommendation System</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/recovery/ data-taxonomy-term=recovery><span class=taxonomy-label>Recovery</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/redis/ data-taxonomy-term=redis><span class=taxonomy-label>Redis</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/rednote/ data-taxonomy-term=rednote><span class=taxonomy-label>RedNote</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/s3/ data-taxonomy-term=s3><span class=taxonomy-label>S3</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/security/ data-taxonomy-term=security><span class=taxonomy-label>Security</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/serverless/ data-taxonomy-term=serverless><span class=taxonomy-label>Serverless</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/service/ data-taxonomy-term=service><span class=taxonomy-label>Service</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/sla/ data-taxonomy-term=sla><span class=taxonomy-label>SLA</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/sop/ data-taxonomy-term=sop><span class=taxonomy-label>SOP</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/sponsor/ data-taxonomy-term=sponsor><span class=taxonomy-label>Sponsor</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/sql/ data-taxonomy-term=sql><span class=taxonomy-label>SQL</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/sqlite/ data-taxonomy-term=sqlite><span class=taxonomy-label>SQLite</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/supabase/ data-taxonomy-term=supabase><span class=taxonomy-label>Supabase</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/supply-chain/ data-taxonomy-term=supply-chain><span class=taxonomy-label>Supply Chain</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/tech-commentary/ data-taxonomy-term=tech-commentary><span class=taxonomy-label>Tech Commentary</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/tencent-cloud/ data-taxonomy-term=tencent-cloud><span class=taxonomy-label>Tencent-Cloud</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/tool/ data-taxonomy-term=tool><span class=taxonomy-label>Tool</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/tools/ data-taxonomy-term=tools><span class=taxonomy-label>Tools</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/triggers/ data-taxonomy-term=triggers><span class=taxonomy-label>Triggers</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/user/ data-taxonomy-term=user><span class=taxonomy-label>User</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/vector/ data-taxonomy-term=vector><span class=taxonomy-label>Vector</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/vector-database/ data-taxonomy-term=vector-database><span class=taxonomy-label>Vector-Database</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/vector-db/ data-taxonomy-term=vector-db><span class=taxonomy-label>Vector-DB</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/victoria/ data-taxonomy-term=victoria><span class=taxonomy-label>Victoria</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/visualization/ data-taxonomy-term=visualization><span class=taxonomy-label>Visualization</span><span class=taxonomy-count>6</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/vulnerability/ data-taxonomy-term=vulnerability><span class=taxonomy-label>Vulnerability</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://pigsty.io/tags/wizard/ data-taxonomy-term=wizard><span class=taxonomy-label>Wizard</span><span class=taxonomy-count>1</span></a></li></ul></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/docs/>Docs</a></li><li class=breadcrumb-item><a href=/docs/pgsql/>Module: PGSQL</a></li><li class="breadcrumb-item active" aria-current=page>Monitoring</li></ol></nav><div class=td-content><h1>Monitoring</h1><div class=lead>Overview of Pigsty&rsquo;s monitoring system architecture and how to monitor existing PostgreSQL instances</div><header class=article-meta></header><p>This document introduces Pigsty&rsquo;s monitoring system architecture, including metrics, logs, and target management. It also covers how to <a href=#monitor-existing-cluster>monitor existing PG clusters</a> and remote <a href=#monitor-rds>RDS services</a>.</p><hr><h2 id=monitoring-overview>Monitoring Overview</h2><p>Pigsty uses a modern observability stack for PostgreSQL monitoring:</p><ul><li>Grafana for metrics visualization and PostgreSQL datasource</li><li>VictoriaMetrics for collecting metrics from PostgreSQL / Pgbouncer / Patroni / HAProxy / Node</li><li>VictoriaLogs for logging PostgreSQL / Pgbouncer / Patroni / pgBackRest and host component logs</li><li>Battery-included Grafana <a href=/docs/pgsql/monitor/dashboard>dashboards</a> showcasing all aspects of PostgreSQL</li></ul><p><strong>Metrics</strong></p><p>PostgreSQL monitoring metrics are fully defined by the pg_exporter configuration file: <a href=https://github.com/pgsty/pigsty/blob/main/roles/pgsql/templates/pg_exporter.yml><code>pg_exporter.yml</code></a>
They are further processed by Prometheus recording rules and alert rules: <a href=https://github.com/pgsty/pigsty/blob/main/files/prometheus/rules/pgsql.yml><code>files/prometheus/rules/pgsql.yml</code></a>.</p><p>Pigsty uses three identity labels: <code>cls</code>, <code>ins</code>, <code>ip</code>, which are attached to all metrics and logs. Additionally, metrics from Pgbouncer, host nodes (NODE), and load balancers are also used by Pigsty, with the same labels used whenever possible for correlation analysis.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>cls: pg-meta, ins: pg-meta-1, ip</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>10.10.10.10</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>cls: pg-meta, ins: pg-test-1, ip</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>10.10.10.11</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>cls: pg-meta, ins: pg-test-2, ip</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>10.10.10.12</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>cls: pg-meta, ins: pg-test-3, ip</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>10.10.10.13</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span></code></pre></div><p><strong>Logs</strong></p><p>PostgreSQL-related logs are collected by Vector and sent to the VictoriaLogs log storage/query service on infra nodes.</p><ul><li><a href=/docs/pgsql/param#pg_log_dir><code>pg_log_dir</code></a>: postgres log directory, defaults to <code>/pg/log/postgres</code></li><li><a href=/docs/pgsql/param#pgbouncer_log_dir><code>pgbouncer_log_dir</code></a>: pgbouncer log directory, defaults to <code>/pg/log/pgbouncer</code></li><li><a href=/docs/pgsql/param#patroni_log_dir><code>patroni_log_dir</code></a>: patroni log directory, defaults to <code>/pg/log/patroni</code></li><li><a href=/docs/pgsql/param#pgbackrest_log_dir><code>pgbackrest_log_dir</code></a>: pgbackrest log directory, defaults to <code>/pg/log/pgbackrest</code></li></ul><p><strong>Target Management</strong></p><p>Prometheus monitoring targets are defined in static files under <code>/etc/prometheus/targets/pgsql/</code>, with each instance having a corresponding file. Taking <code>pg-meta-1</code> as an example:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># pg-meta-1 [primary] @ 10.10.10.10</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span>- <span style=color:#204a87;font-weight:700>labels</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>cls: pg-meta, ins: pg-meta-1, ip</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>10.10.10.10</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#204a87;font-weight:700>targets</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span>- <span style=color:#0000cf;font-weight:700>10.10.10.10</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>9630</span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># &lt;--- pg_exporter for PostgreSQL metrics</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span>- <span style=color:#0000cf;font-weight:700>10.10.10.10</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>9631</span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># &lt;--- pg_exporter for pgbouncer metrics</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span>- <span style=color:#0000cf;font-weight:700>10.10.10.10</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8008</span><span style=color:#f8f8f8>    </span><span style=color:#8f5902;font-style:italic># &lt;--- patroni metrics (when API SSL is not enabled)</span><span style=color:#f8f8f8>
</span></span></span></code></pre></div><p>When the global flag <a href=/docs/pgsql/param#patroni_ssl_enabled><code>patroni_ssl_enabled</code></a> is set, patroni targets will be moved to a separate file <code>/etc/prometheus/targets/patroni/&lt;ins>.yml</code>, as it uses the https scrape endpoint. When <a href=#monitor-rds>monitoring RDS</a> instances, monitoring targets are placed separately in the <code>/etc/prometheus/targets/pgrds/</code> directory and managed by <strong>cluster</strong>.</p><p>When removing a cluster using <code>bin/pgsql-rm</code> or <code>pgsql-rm.yml</code>, the Prometheus monitoring targets will be removed. You can also remove them manually or use subtasks from the playbook:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bin/pgmon-rm &lt;cls<span style=color:#000;font-weight:700>|</span>ins&gt;    <span style=color:#8f5902;font-style:italic># Remove prometheus monitoring targets from all infra nodes</span>
</span></span></code></pre></div><p>Remote RDS monitoring targets are placed in <code>/etc/prometheus/targets/pgrds/&lt;cls>.yml</code>, created by the <a href=/docs/pgsql/playbook#pgsql-monitor><code>pgsql-monitor.yml</code></a> playbook or <code>bin/pgmon-add</code> script.</p><hr><h2 id=monitoring-modes>Monitoring Modes</h2><p>Pigsty provides three monitoring modes to suit different monitoring needs.</p><table><thead><tr><th style=text-align:center>Item \ Level</th><th style=text-align:center>L1</th><th style=text-align:center>L2</th><th style=text-align:center>L3</th></tr></thead><tbody><tr><td style=text-align:center>Name</td><td style=text-align:center><a href=#monitor-rds>Basic</a></td><td style=text-align:center><a href=#monitor-existing-cluster>Managed</a></td><td style=text-align:center><strong>Standard</strong></td></tr><tr><td style=text-align:center>Abbr</td><td style=text-align:center><strong>RDS</strong></td><td style=text-align:center><strong>MANAGED</strong></td><td style=text-align:center><strong>FULL</strong></td></tr><tr><td style=text-align:center>Scenario</td><td style=text-align:center>Connection string only, e.g., RDS</td><td style=text-align:center>Existing DB, nodes manageable</td><td style=text-align:center>Instances created by Pigsty</td></tr><tr><td style=text-align:center>PGCAT Features</td><td style=text-align:center>✅ Fully Available</td><td style=text-align:center>✅ Fully Available</td><td style=text-align:center>✅ Fully Available</td></tr><tr><td style=text-align:center>PGSQL Features</td><td style=text-align:center>✅ PG metrics only</td><td style=text-align:center>✅ PG & node metrics only</td><td style=text-align:center>✅ Full Features</td></tr><tr><td style=text-align:center>Connection Pool Metrics</td><td style=text-align:center>❌ Not Available</td><td style=text-align:center>⚠️ Optional</td><td style=text-align:center>✅ Pre-installed</td></tr><tr><td style=text-align:center>Load Balancer Metrics</td><td style=text-align:center>❌ Not Available</td><td style=text-align:center>⚠️ Optional</td><td style=text-align:center>✅ Pre-installed</td></tr><tr><td style=text-align:center>PGLOG Features</td><td style=text-align:center>❌ Not Available</td><td style=text-align:center>⚠️ Optional</td><td style=text-align:center>✅ Pre-installed</td></tr><tr><td style=text-align:center>PG Exporter</td><td style=text-align:center>⚠️ On infra nodes</td><td style=text-align:center>✅ On DB nodes</td><td style=text-align:center>✅ On DB nodes</td></tr><tr><td style=text-align:center>Node Exporter</td><td style=text-align:center>❌ Not deployed</td><td style=text-align:center>✅ On DB nodes</td><td style=text-align:center>✅ On DB nodes</td></tr><tr><td style=text-align:center>Intrusiveness</td><td style=text-align:center>✅ Non-intrusive</td><td style=text-align:center>⚠️ Install Exporter</td><td style=text-align:center>⚠️ Fully managed by Pigsty</td></tr><tr><td style=text-align:center>Monitor Existing Instances</td><td style=text-align:center>✅ Supported</td><td style=text-align:center>✅ Supported</td><td style=text-align:center>❌ For Pigsty-managed only</td></tr><tr><td style=text-align:center>Monitoring Users & Views</td><td style=text-align:center>Manual setup</td><td style=text-align:center>Manual setup</td><td style=text-align:center>Auto-created by Pigsty</td></tr><tr><td style=text-align:center>Deployment Playbook</td><td style=text-align:center><code>bin/pgmon-add &lt;cls></code></td><td style=text-align:center>Partial <code>pgsql.yml</code>/<code>node.yml</code></td><td style=text-align:center><code>pgsql.yml</code></td></tr><tr><td style=text-align:center>Required Permissions</td><td style=text-align:center>Connectable PGURL from infra</td><td style=text-align:center>SSH & sudo on DB nodes</td><td style=text-align:center>SSH & sudo on DB nodes</td></tr><tr><td style=text-align:center>Feature Summary</td><td style=text-align:center>PGCAT + PGRDS</td><td style=text-align:center>Most features</td><td style=text-align:center>Full features</td></tr></tbody></table><p>Databases fully managed by Pigsty are automatically monitored with the best support and typically require no configuration. For existing PostgreSQL clusters or RDS services, if the target DB nodes <strong>can be managed by Pigsty</strong> (ssh accessible, sudo available), you can consider <a href=#monitor-existing-cluster>managed deployment</a> for a monitoring experience similar to native Pigsty. If you <strong>can only access the target database via PGURL</strong> (database connection string), such as remote RDS services, you can use <a href=#monitor-rds>basic mode</a> to monitor the target database.</p><hr><h2 id=monitor-existing-cluster>Monitor Existing Cluster</h2><p><strong>If the target DB nodes can be managed by Pigsty</strong> (<code>ssh</code> accessible and <code>sudo</code> available), you can use the <code>pg_exporter</code> task in the <a href=/docs/pgsql/playbook#pgsqlyml><code>pgsql.yml</code></a> playbook to deploy monitoring components (PG Exporter) on target nodes in the same way as standard deployments. You can also use the <code>pgbouncer</code> and <code>pgbouncer_exporter</code> tasks from that playbook to deploy connection pools and their monitoring on existing instance nodes. Additionally, you can use <code>node_exporter</code>, <code>haproxy</code>, and <code>vector</code> from <a href=/docs/node/playbook#nodeyml><strong><code>node.yml</code></strong></a> to deploy host monitoring, load balancing, and log collection components, achieving an experience identical to native Pigsty database instances.</p><p>The definition method for existing clusters is exactly the same as for clusters managed by Pigsty. You selectively execute partial tasks from the <code>pgsql.yml</code> playbook instead of running the entire playbook.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./node.yml  -l &lt;cls&gt; -t node_repo,node_pkg           <span style=color:#8f5902;font-style:italic># Add YUM repos from INFRA nodes and install packages on host nodes</span>
</span></span><span style=display:flex><span>./node.yml  -l &lt;cls&gt; -t node_exporter,node_register  <span style=color:#8f5902;font-style:italic># Configure host monitoring and add to VictoriaMetrics</span>
</span></span><span style=display:flex><span>./node.yml  -l &lt;cls&gt; -t vector                       <span style=color:#8f5902;font-style:italic># Configure host log collection and send to VictoriaLogs</span>
</span></span><span style=display:flex><span>./pgsql.yml -l &lt;cls&gt; -t pg_exporter,pg_register      <span style=color:#8f5902;font-style:italic># Configure PostgreSQL monitoring and register with VictoriaMetrics/Grafana</span>
</span></span></code></pre></div><p>Since the target database cluster already exists, you need to manually <a href=#monitor-setup>create monitoring users, schemas, and extensions</a> on the target database cluster.</p><hr><h2 id=monitor-rds>Monitor RDS</h2><p>If you <strong>can only access the target database via PGURL</strong> (database connection string), you can configure according to the instructions here. In this mode, Pigsty deploys corresponding PG Exporters on <a href=/docs/concept/arch/node#infra-node><strong>INFRA nodes</strong></a> to scrape remote database metrics, as shown below:</p><pre tabindex=0><code>------ infra ------
|                 |
|   prometheus    |            v---- pg-foo-1 ----v
|       ^         |  metrics   |         ^        |
|   pg_exporter &lt;-|------------|----  postgres    |
|   (port: 20001) |            | 10.10.10.10:5432 |
|       ^         |            ^------------------^
|       ^         |                      ^
|       ^         |            v---- pg-foo-2 ----v
|       ^         |  metrics   |         ^        |
|   pg_exporter &lt;-|------------|----  postgres    |
|   (port: 20002) |            | 10.10.10.11:5433 |
-------------------            ^------------------^
</code></pre><p>In this mode, the monitoring system will not have metrics from hosts, connection pools, load balancers, or high availability components, but the database itself and real-time status information from the data catalog are still available. Pigsty provides two dedicated monitoring dashboards focused on PostgreSQL metrics: <a href=https://demo.pigsty.io/d/pgrds-cluster>PGRDS Cluster</a> and <a href=https://demo.pigsty.io/d/pgrds-instance>PGRDS Instance</a>, while overview and database-level monitoring reuses existing dashboards. Since Pigsty cannot manage your RDS, users need to <a href=#monitor-setup>configure monitoring objects</a> on the target database in advance.</p><div class="alert alert-secondary" role=alert><div class="h4 alert-heading" role=heading>Limitations when monitoring external Postgres instances</div><ul><li>pgBouncer connection pool metrics are not available</li><li>Patroni high availability component metrics are not available</li><li>Host node monitoring metrics are not available, including node HAProxy and Keepalived metrics</li><li>Log collection and log-derived metrics are not available</li></ul></div><p>Here we use the sandbox environment as an example: suppose the <code>pg-meta</code> cluster is an RDS instance <code>pg-foo-1</code> to be monitored, and the <code>pg-test</code> cluster is an RDS cluster <code>pg-bar</code> to be monitored:</p><ol><li><p>Create monitoring schemas, users, and permissions on the target. Refer to <a href=#monitor-setup>Monitor Setup</a> for details</p></li><li><p>Declare the cluster in the configuration inventory. For example, if we want to monitor &ldquo;remote&rdquo; <code>pg-meta</code> & <code>pg-test</code> clusters:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>infra</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>            </span><span style=color:#8f5902;font-style:italic># Infra cluster for proxies, monitoring, alerts, etc.</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>10.10.10.10</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>infra_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>           </span><span style=color:#8f5902;font-style:italic># Install pg_exporter on group &#39;infra&#39; for remote postgres RDS</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pg_exporters</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># List all remote instances here, assign a unique unused local port for k</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>20001</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>pg_cluster: pg-foo, pg_seq: 1, pg_host: 10.10.10.10 , pg_databases</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>meta }] }</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># Register meta database as Grafana datasource</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>20002</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>pg_cluster: pg-bar, pg_seq: 1, pg_host: 10.10.10.11 , pg_port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>5432</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># Different connection string methods</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>20003</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>pg_cluster: pg-bar, pg_seq: 2, pg_host: 10.10.10.12 , pg_exporter_url</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;postgres://dbuser_monitor:DBUser.Monitor@10.10.10.12:5432/postgres?sslmode=disable&#39;</span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>20004</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>pg_cluster: pg-bar, pg_seq: 3, pg_host: 10.10.10.13 , pg_monitor_username: dbuser_monitor, pg_monitor_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>DBUser.Monitor }</span><span style=color:#f8f8f8>
</span></span></span></code></pre></div><p>Databases listed in the <code>pg_databases</code> field will be registered in Grafana as PostgreSQL datasources, providing data support for PGCAT monitoring dashboards. If you don&rsquo;t want to use PGCAT and register databases in Grafana, simply set <code>pg_databases</code> to an empty array or leave it blank.</p><p><img src=/img/pigsty/monitor.jpg alt=pigsty-monitor.jpg></p></li><li><p>Execute the add monitoring command: <code>bin/pgmon-add &lt;clsname></code></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bin/pgmon-add pg-foo  <span style=color:#8f5902;font-style:italic># Bring pg-foo cluster into monitoring</span>
</span></span><span style=display:flex><span>bin/pgmon-add pg-bar  <span style=color:#8f5902;font-style:italic># Bring pg-bar cluster into monitoring</span>
</span></span></code></pre></div></li><li><p>To remove remote cluster monitoring targets, use <code>bin/pgmon-rm &lt;clsname></code></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bin/pgmon-rm pg-foo  <span style=color:#8f5902;font-style:italic># Remove pg-foo from Pigsty monitoring</span>
</span></span><span style=display:flex><span>bin/pgmon-rm pg-bar  <span style=color:#8f5902;font-style:italic># Remove pg-bar from Pigsty monitoring</span>
</span></span></code></pre></div></li></ol><p>You can use more parameters to override default <code>pg_exporter</code> options. Here&rsquo;s an example configuration for monitoring Aliyun RDS for PostgreSQL and PolarDB with Pigsty:</p><details><summary>Example: Monitoring Aliyun RDS for PostgreSQL and PolarDB</summary><p>For details, refer to: <a href=https://github.com/pgsty/pigsty/blob/main/conf/demo/remote.yml>remote.yml</a></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>infra</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>            </span><span style=color:#8f5902;font-style:italic># Infra cluster for proxies, monitoring, alerts, etc.</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>10.10.10.10</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>infra_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8> </span>}<span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>pg_exporters</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>   </span><span style=color:#8f5902;font-style:italic># List all remote RDS PG instances to be monitored here</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>20001</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>        </span><span style=color:#8f5902;font-style:italic># Assign a unique unused local port for local monitoring agent, this is a PolarDB primary</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_cluster</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pg-polar                 </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># RDS cluster name (identity parameter, manually assigned name in monitoring system)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8>                             </span><span style=color:#8f5902;font-style:italic># RDS instance number (identity parameter, manually assigned name in monitoring system)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pc-2ze379wb1d4irc18x.polardbpg.rds.aliyuncs.com</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># RDS host address</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1921</span><span style=color:#f8f8f8>                         </span><span style=color:#8f5902;font-style:italic># RDS port (from console connection info)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_exporter_auto_discovery</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8>      </span><span style=color:#8f5902;font-style:italic># Disable new database auto-discovery feature</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_exporter_include_database</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;test&#39;</span><span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic># Only monitor databases in this list (comma-separated)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_monitor_username</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>dbuser_monitor  </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># Monitoring username, overrides global config</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_monitor_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>DBUser_Monitor  </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># Monitoring password, overrides global config</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_databases</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>test }]       </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># List of databases to enable PGCAT for, only name field needed, set register_datasource to false to not register</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>20002</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8>       </span><span style=color:#8f5902;font-style:italic># This is a PolarDB standby</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_cluster</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pg-polar                 </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># RDS cluster name (identity parameter, manually assigned name in monitoring system)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8>                             </span><span style=color:#8f5902;font-style:italic># RDS instance number (identity parameter, manually assigned name in monitoring system)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pe-2ze7tg620e317ufj4.polarpgmxs.rds.aliyuncs.com</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># RDS host address</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1521</span><span style=color:#f8f8f8>                         </span><span style=color:#8f5902;font-style:italic># RDS port (from console connection info)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_exporter_auto_discovery</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8>      </span><span style=color:#8f5902;font-style:italic># Disable new database auto-discovery feature</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_exporter_include_database</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;test,postgres&#39;</span><span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic># Only monitor databases in this list (comma-separated)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_monitor_username</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>dbuser_monitor  </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># Monitoring username</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_monitor_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>DBUser_Monitor  </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># Monitoring password</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_databases</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>test } ]       </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># List of databases to enable PGCAT for, only name field needed, set register_datasource to false to not register</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>20004</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># This is a basic single-node RDS for PostgreSQL instance</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_cluster</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pg-rds                   </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># RDS cluster name (identity parameter, manually assigned name in monitoring system)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8>                             </span><span style=color:#8f5902;font-style:italic># RDS instance number (identity parameter, manually assigned name in monitoring system)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pgm-2zern3d323fe9ewk.pg.rds.aliyuncs.com </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># RDS host address</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>5432</span><span style=color:#f8f8f8>                         </span><span style=color:#8f5902;font-style:italic># RDS port (from console connection info)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_exporter_auto_discovery</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8>      </span><span style=color:#8f5902;font-style:italic># Disable new database auto-discovery feature</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_exporter_include_database</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;rds&#39;</span><span style=color:#f8f8f8>   </span><span style=color:#8f5902;font-style:italic># Only monitor databases in this list (comma-separated)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_monitor_username</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>dbuser_monitor  </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># Monitoring username</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_monitor_password</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>DBUser_Monitor  </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># Monitoring password</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_databases</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>rds } ]      </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># List of databases to enable PGCAT for, only name field needed, set register_datasource to false to not register</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>20005</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># This is a high-availability RDS for PostgreSQL cluster primary</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_cluster</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pg-rdsha                 </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># RDS cluster name (identity parameter, manually assigned name in monitoring system)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8>                             </span><span style=color:#8f5902;font-style:italic># RDS instance number (identity parameter, manually assigned name in monitoring system)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pgm-2ze3d35d27bq08wu.pg.rds.aliyuncs.com </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># RDS host address</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>5432</span><span style=color:#f8f8f8>                         </span><span style=color:#8f5902;font-style:italic># RDS port (from console connection info)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_exporter_include_database</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;rds&#39;</span><span style=color:#f8f8f8>   </span><span style=color:#8f5902;font-style:italic># Only monitor databases in this list (comma-separated)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_databases</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>rds }, {name : test} ] </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># Include these two databases in PGCAT management, register as Grafana datasources</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>20006</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># This is a high-availability RDS for PostgreSQL cluster read-only instance (standby)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_cluster</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pg-rdsha                 </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># RDS cluster name (identity parameter, manually assigned name in monitoring system)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_seq</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8>                             </span><span style=color:#8f5902;font-style:italic># RDS instance number (identity parameter, manually assigned name in monitoring system)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>pgr-2zexqxalk7d37edt.pg.rds.aliyuncs.com </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># RDS host address</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>5432</span><span style=color:#f8f8f8>                         </span><span style=color:#8f5902;font-style:italic># RDS port (from console connection info)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_exporter_include_database</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;rds&#39;</span><span style=color:#f8f8f8>   </span><span style=color:#8f5902;font-style:italic># Only monitor databases in this list (comma-separated)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>        </span><span style=color:#204a87;font-weight:700>pg_databases</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8> </span>{<span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>rds }, {name : test} ] </span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic># Include these two databases in PGCAT management, register as Grafana datasources</span><span style=color:#f8f8f8>
</span></span></span></code></pre></div></details><hr><h2 id=monitor-setup>Monitor Setup</h2><p>When you want to monitor existing instances, whether RDS or self-built PostgreSQL instances, you need to configure the target database so that Pigsty can access them.</p><p>To monitor an external existing PostgreSQL instance, you need a connection string that can access that instance/cluster. Any accessible connection string (business user, superuser) can be used, but we recommend using a dedicated monitoring user to avoid permission leaks.</p><ul><li><input disabled type=checkbox> <a href=#monitor-user>Monitor User</a>: The default username is <code>dbuser_monitor</code>, which should belong to the <code>pg_monitor</code> role group or have access to relevant views</li><li><input disabled type=checkbox> <a href=#monitor-authentication>Monitor Authentication</a>: Default password authentication is used; ensure HBA policies allow the monitoring user to access databases from the admin node or DB node locally</li><li><input disabled type=checkbox> <a href=#monitor-schema>Monitor Schema</a>: Fixed schema name <code>monitor</code> is used for installing additional <strong>monitoring views</strong> and extension plugins; optional but recommended</li><li><input disabled type=checkbox> <a href=#monitor-extension>Monitor Extension</a>: <strong>Strongly recommended</strong> to enable the built-in monitoring extension <code>pg_stat_statements</code></li><li><input disabled type=checkbox> <a href=#monitor-views>Monitor Views</a>: Monitoring views are optional but can provide additional metric support</li></ul><h3 id=monitor-user>Monitor User</h3><p>Using the default monitoring user <code>dbuser_monitor</code> as an example, create the following user on the target database cluster.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#204a87;font-weight:700>CREATE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>USER</span><span style=color:#f8f8f8> </span><span style=color:#000>dbuser_monitor</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>                                       </span><span style=color:#8f5902;font-style:italic>-- Create monitoring user
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>COMMENT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ROLE</span><span style=color:#f8f8f8> </span><span style=color:#000>dbuser_monitor</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IS</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;system monitor user&#39;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>          </span><span style=color:#8f5902;font-style:italic>-- Comment on monitoring user
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>GRANT</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_monitor</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>TO</span><span style=color:#f8f8f8> </span><span style=color:#000>dbuser_monitor</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>                               </span><span style=color:#8f5902;font-style:italic>-- Grant pg_monitor privilege to monitoring user, otherwise some metrics cannot be collected
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>ALTER</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>USER</span><span style=color:#f8f8f8> </span><span style=color:#000>dbuser_monitor</span><span style=color:#f8f8f8> </span><span style=color:#000>PASSWORD</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;DBUser.Monitor&#39;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>              </span><span style=color:#8f5902;font-style:italic>-- Modify monitoring user password as needed (strongly recommended! but keep consistent with Pigsty config)
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>ALTER</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>USER</span><span style=color:#f8f8f8> </span><span style=color:#000>dbuser_monitor</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>SET</span><span style=color:#f8f8f8> </span><span style=color:#000>log_min_duration_statement</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1000</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>  </span><span style=color:#8f5902;font-style:italic>-- Recommended to avoid logs filling up with monitoring slow queries
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>ALTER</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>USER</span><span style=color:#f8f8f8> </span><span style=color:#000>dbuser_monitor</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>SET</span><span style=color:#f8f8f8> </span><span style=color:#000>search_path</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>public</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>       </span><span style=color:#8f5902;font-style:italic>-- Recommended to ensure pg_stat_statements extension works properly
</span></span></span></code></pre></div><p>Please note that the monitoring user and password created here should be consistent with <a href=/docs/pgsql/param#pg_monitor_username><code>pg_monitor_username</code></a> and <a href=/docs/pgsql/param#pg_monitor_password><code>pg_monitor_password</code></a>.</p><hr><h3 id=monitor-authentication>Monitor Authentication</h3><p>Configure the database <code>pg_hba.conf</code> file, adding the following rules to allow the monitoring user to access all databases from localhost and the admin machine using password authentication.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#8f5902;font-style:italic># allow local role monitor with password</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>local   all  dbuser_monitor                    md5</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>host    all  dbuser_monitor  127.0.0.1/32      md5</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>host    all  dbuser_monitor  &lt;admin_machine_IP&gt;/32 md5</span>
</span></span></code></pre></div><p>If your RDS doesn&rsquo;t support defining HBA, simply whitelist the internal IP address of the machine running Pigsty.</p><hr><h3 id=monitor-schema>Monitor Schema</h3><p>The monitoring schema is <strong>optional</strong>; even without it, the main functionality of Pigsty&rsquo;s monitoring system can work properly, but we strongly recommend creating this schema.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#204a87;font-weight:700>CREATE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>SCHEMA</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IF</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>NOT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>EXISTS</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>               </span><span style=color:#8f5902;font-style:italic>-- Create dedicated monitoring schema
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>GRANT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>USAGE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>SCHEMA</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>TO</span><span style=color:#f8f8f8> </span><span style=color:#000>dbuser_monitor</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>   </span><span style=color:#8f5902;font-style:italic>-- Allow monitoring user to use it
</span></span></span></code></pre></div><hr><h3 id=monitor-extension>Monitor Extension</h3><p>The monitoring extension is optional, but we strongly recommend enabling the <code>pg_stat_statements</code> extension, which provides important data about query performance.</p><p>Note: This extension must be listed in the database parameter <code>shared_preload_libraries</code> to take effect, and modifying that parameter requires a database restart.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#204a87;font-weight:700>CREATE</span><span style=color:#f8f8f8> </span><span style=color:#000>EXTENSION</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IF</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>NOT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>EXISTS</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;pg_stat_statements&#34;</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WITH</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>SCHEMA</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;monitor&#34;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span></code></pre></div><p>Please note that you should install this extension in the default admin database <code>postgres</code>. Sometimes RDS doesn&rsquo;t allow you to create a monitoring schema in the <code>postgres</code> database. In such cases, you can install the <code>pg_stat_statements</code> plugin in the default <code>public</code> schema, as long as you ensure the monitoring user&rsquo;s search_path is configured as above so it can find the <code>pg_stat_statements</code> view.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#204a87;font-weight:700>CREATE</span><span style=color:#f8f8f8> </span><span style=color:#000>EXTENSION</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IF</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>NOT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>EXISTS</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#34;pg_stat_statements&#34;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>ALTER</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>USER</span><span style=color:#f8f8f8> </span><span style=color:#000>dbuser_monitor</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>SET</span><span style=color:#f8f8f8> </span><span style=color:#000>search_path</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>public</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8> </span><span style=color:#8f5902;font-style:italic>-- Recommended to ensure pg_stat_statements extension works properly
</span></span></span></code></pre></div><hr><h3 id=monitor-views>Monitor Views</h3><p>Monitoring views provide several commonly used pre-processed results and encapsulate permissions for monitoring metrics that require high privileges (such as shared memory allocation), making them convenient for querying and use. Strongly recommended to create in all databases requiring monitoring.</p><details><summary>Monitoring schema and monitoring view definitions</summary><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#8f5902;font-style:italic>----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>-- Table bloat estimate : monitor.pg_table_bloat
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>DROP</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IF</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>EXISTS</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_table_bloat</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>CASCADE</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>CREATE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>OR</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>REPLACE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_table_bloat</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#000>CURRENT_CATALOG</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>datname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>nspname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>relname</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>tblid</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>bs</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#f8f8f8> </span><span style=color:#000>tblpages</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>size</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#204a87;font-weight:700>CASE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHEN</span><span style=color:#f8f8f8> </span><span style=color:#000>tblpages</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#f8f8f8> </span><span style=color:#000>est_tblpages_ff</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>THEN</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tblpages</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#f8f8f8> </span><span style=color:#000>est_tblpages_ff</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>tblpages</span><span style=color:#000;font-weight:700>::</span><span style=color:#204a87>FLOAT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ELSE</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>END</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>ratio</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>FROM</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>         </span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#000>ceil</span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8> </span><span style=color:#000>reltuples</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#000>bs</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>page_hdr</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>fillfactor</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tpl_size</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#0000cf;font-weight:700>100</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8> </span><span style=color:#000>ceil</span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8> </span><span style=color:#000>toasttuples</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>est_tblpages_ff</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                </span><span style=color:#000>tblpages</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>fillfactor</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>bs</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>tblid</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>nspname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>relname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>is_na</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>         </span><span style=color:#204a87;font-weight:700>FROM</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                  </span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                      </span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8> </span><span style=color:#000>tpl_hdr_size</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8> </span><span style=color:#000>tpl_data_size</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#f8f8f8> </span><span style=color:#000>ma</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                          </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>CASE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHEN</span><span style=color:#f8f8f8> </span><span style=color:#000>tpl_hdr_size</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>%</span><span style=color:#f8f8f8> </span><span style=color:#000>ma</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>THEN</span><span style=color:#f8f8f8> </span><span style=color:#000>ma</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ELSE</span><span style=color:#f8f8f8> </span><span style=color:#000>tpl_hdr_size</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>%</span><span style=color:#f8f8f8> </span><span style=color:#000>ma</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>END</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                          </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>CASE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHEN</span><span style=color:#f8f8f8> </span><span style=color:#000>ceil</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tpl_data_size</span><span style=color:#000;font-weight:700>)::</span><span style=color:#204a87>INT</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>%</span><span style=color:#f8f8f8> </span><span style=color:#000>ma</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>THEN</span><span style=color:#f8f8f8> </span><span style=color:#000>ma</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ELSE</span><span style=color:#f8f8f8> </span><span style=color:#000>ceil</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tpl_data_size</span><span style=color:#000;font-weight:700>)::</span><span style=color:#204a87>INT</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>%</span><span style=color:#f8f8f8> </span><span style=color:#000>ma</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>END</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                          </span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tpl_size</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#000>heappages</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8> </span><span style=color:#000>toastpages</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tblpages</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>heappages</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                      </span><span style=color:#000>toastpages</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>reltuples</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>toasttuples</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>bs</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>page_hdr</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>tblid</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>nspname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>relname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>fillfactor</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>is_na</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                  </span><span style=color:#204a87;font-weight:700>FROM</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                           </span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                               </span><span style=color:#000>tbl</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>oid</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tblid</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>ns</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>nspname</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>relname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>reltuples</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                               </span><span style=color:#000>tbl</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>relpages</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>heappages</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>coalesce</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>toast</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>relpages</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>toastpages</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                               </span><span style=color:#000>coalesce</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>toast</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>reltuples</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>toasttuples</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                               </span><span style=color:#000>coalesce</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>substring</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>array_to_string</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tbl</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>reloptions</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39; &#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>FROM</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;fillfactor=([0-9]+)&#39;</span><span style=color:#000;font-weight:700>)::</span><span style=color:#204a87>smallint</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>100</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>fillfactor</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                               </span><span style=color:#000>current_setting</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;block_size&#39;</span><span style=color:#000;font-weight:700>)::</span><span style=color:#204a87>numeric</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>bs</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                               </span><span style=color:#204a87;font-weight:700>CASE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHEN</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>version</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>~</span><span style=color:#4e9a06>&#39;mingw32&#39;</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>OR</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>version</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>~</span><span style=color:#4e9a06>&#39;64-bit|x86_64|ppc64|ia64|amd64&#39;</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>THEN</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>8</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ELSE</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>END</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>ma</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                               </span><span style=color:#0000cf;font-weight:700>24</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>page_hdr</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                               </span><span style=color:#0000cf;font-weight:700>23</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>CASE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHEN</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>MAX</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>coalesce</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>s</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>null_frac</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>))</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>THEN</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>7</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>count</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>s</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attname</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>8</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ELSE</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>::</span><span style=color:#204a87>int</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>END</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                                   </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>CASE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHEN</span><span style=color:#f8f8f8> </span><span style=color:#000>bool_or</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>att</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attname</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;oid&#39;</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>and</span><span style=color:#f8f8f8> </span><span style=color:#000>att</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attnum</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>THEN</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ELSE</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>END</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tpl_hdr_size</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                               </span><span style=color:#204a87;font-weight:700>sum</span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>coalesce</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>s</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>null_frac</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>))</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#f8f8f8> </span><span style=color:#000>coalesce</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>s</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>avg_width</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tpl_data_size</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                               </span><span style=color:#000>bool_or</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>att</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>atttypid</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;pg_catalog.name&#39;</span><span style=color:#000;font-weight:700>::</span><span style=color:#000>regtype</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                                   </span><span style=color:#204a87;font-weight:700>OR</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>sum</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>CASE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHEN</span><span style=color:#f8f8f8> </span><span style=color:#000>att</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attnum</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>THEN</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ELSE</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>END</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>&lt;&gt;</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>count</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>s</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attname</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>is_na</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                           </span><span style=color:#204a87;font-weight:700>FROM</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_attribute</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>att</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                                    </span><span style=color:#204a87;font-weight:700>JOIN</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_class</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>att</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attrelid</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>oid</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                                    </span><span style=color:#204a87;font-weight:700>JOIN</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_namespace</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>ns</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>ns</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>oid</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>relnamespace</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                                    </span><span style=color:#204a87;font-weight:700>LEFT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>JOIN</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_stats</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>s</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>s</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>schemaname</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>ns</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>nspname</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AND</span><span style=color:#f8f8f8> </span><span style=color:#000>s</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>tablename</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>relname</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AND</span><span style=color:#f8f8f8> </span><span style=color:#000>s</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>inherited</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>false</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AND</span><span style=color:#f8f8f8> </span><span style=color:#000>s</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attname</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>att</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attname</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                                    </span><span style=color:#204a87;font-weight:700>LEFT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>JOIN</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_class</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>toast</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>reltoastrelid</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>toast</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>oid</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                           </span><span style=color:#204a87;font-weight:700>WHERE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>NOT</span><span style=color:#f8f8f8> </span><span style=color:#000>att</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attisdropped</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AND</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>relkind</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;r&#39;</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AND</span><span style=color:#f8f8f8> </span><span style=color:#000>nspname</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>NOT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IN</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;pg_catalog&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#39;information_schema&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                           </span><span style=color:#204a87;font-weight:700>GROUP</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>BY</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>6</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>7</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>8</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>9</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                       </span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>s</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>              </span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>s2</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>     </span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>s3</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>WHERE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>NOT</span><span style=color:#f8f8f8> </span><span style=color:#000>is_na</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>COMMENT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_table_bloat</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IS</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;postgres table bloat estimate&#39;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>GRANT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_table_bloat</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>TO</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_monitor</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>-- Index bloat estimate : monitor.pg_index_bloat
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>DROP</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IF</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>EXISTS</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_index_bloat</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>CASCADE</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>CREATE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>OR</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>REPLACE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_index_bloat</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#000>CURRENT_CATALOG</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>datname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>nspname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>idxname</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>relname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>tblid</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>idxid</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>relpages</span><span style=color:#000;font-weight:700>::</span><span style=color:#204a87>BIGINT</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#f8f8f8> </span><span style=color:#000>bs</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>size</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>COALESCE</span><span style=color:#000;font-weight:700>((</span><span style=color:#000>relpages</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8> </span><span style=color:#000>reltuples</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>6</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8> </span><span style=color:#000>ma</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>CASE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHEN</span><span style=color:#f8f8f8> </span><span style=color:#000>index_tuple_hdr</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>%</span><span style=color:#f8f8f8> </span><span style=color:#000>ma</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>THEN</span><span style=color:#f8f8f8> </span><span style=color:#000>ma</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ELSE</span><span style=color:#f8f8f8> </span><span style=color:#000>index_tuple_hdr</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>%</span><span style=color:#f8f8f8> </span><span style=color:#000>ma</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>END</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                                               </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8> </span><span style=color:#000>nulldatawidth</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8> </span><span style=color:#000>ma</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>CASE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHEN</span><span style=color:#f8f8f8> </span><span style=color:#000>nulldatawidth</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>%</span><span style=color:#f8f8f8> </span><span style=color:#000>ma</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>THEN</span><span style=color:#f8f8f8> </span><span style=color:#000>ma</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ELSE</span><span style=color:#f8f8f8> </span><span style=color:#000>nulldatawidth</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>%</span><span style=color:#f8f8f8> </span><span style=color:#000>ma</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>END</span><span style=color:#000;font-weight:700>))</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                                  </span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#000>bs</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#f8f8f8> </span><span style=color:#000>pagehdr</span><span style=color:#000;font-weight:700>)::</span><span style=color:#204a87>FLOAT</span><span style=color:#f8f8f8>  </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>)),</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#f8f8f8> </span><span style=color:#000>relpages</span><span style=color:#000;font-weight:700>::</span><span style=color:#204a87>FLOAT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>ratio</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>FROM</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>         </span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#000>nspname</span><span style=color:#000;font-weight:700>,</span><span style=color:#000>idxname</span><span style=color:#000;font-weight:700>,</span><span style=color:#000>indrelid</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tblid</span><span style=color:#000;font-weight:700>,</span><span style=color:#000>indexrelid</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>idxid</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                </span><span style=color:#000>reltuples</span><span style=color:#000;font-weight:700>,</span><span style=color:#000>relpages</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                </span><span style=color:#000>current_setting</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;block_size&#39;</span><span style=color:#000;font-weight:700>)::</span><span style=color:#204a87>INTEGER</span><span style=color:#f8f8f8>                                                               </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>bs</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                </span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>CASE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHEN</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>version</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>~</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;mingw32&#39;</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>OR</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>version</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>~</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;64-bit|x86_64|ppc64|ia64|amd64&#39;</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>THEN</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>8</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ELSE</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>END</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>  </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>ma</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                </span><span style=color:#0000cf;font-weight:700>24</span><span style=color:#f8f8f8>                                                                                                   </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>pagehdr</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                </span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>CASE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHEN</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>max</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>COALESCE</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>pg_stats</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>null_frac</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>))</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>THEN</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ELSE</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>6</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>END</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>                               </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>index_tuple_hdr</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                </span><span style=color:#204a87;font-weight:700>sum</span><span style=color:#000;font-weight:700>((</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#f8f8f8> </span><span style=color:#000>COALESCE</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>pg_stats</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>null_frac</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>))</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                    </span><span style=color:#000>COALESCE</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>pg_stats</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>avg_width</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1024</span><span style=color:#000;font-weight:700>))::</span><span style=color:#204a87>INTEGER</span><span style=color:#f8f8f8>                                                     </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>nulldatawidth</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>         </span><span style=color:#204a87;font-weight:700>FROM</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_attribute</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                  </span><span style=color:#204a87;font-weight:700>JOIN</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>             </span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_namespace</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>nspname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                    </span><span style=color:#000>ic</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>relname</span><span style=color:#f8f8f8>                                                   </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>idxname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                    </span><span style=color:#000>ic</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>reltuples</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                    </span><span style=color:#000>ic</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>relpages</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                    </span><span style=color:#000>pg_index</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>indrelid</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                    </span><span style=color:#000>pg_index</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>indexrelid</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                    </span><span style=color:#000>tc</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>relname</span><span style=color:#f8f8f8>                                                   </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tablename</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                    </span><span style=color:#000>regexp_split_to_table</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>pg_index</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>indkey</span><span style=color:#000;font-weight:700>::</span><span style=color:#204a87>TEXT</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39; &#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>::</span><span style=color:#f8f8f8> </span><span style=color:#204a87>INTEGER</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>attnum</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                    </span><span style=color:#000>pg_index</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>indexrelid</span><span style=color:#f8f8f8>                                          </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>index_oid</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>             </span><span style=color:#204a87;font-weight:700>FROM</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_index</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                      </span><span style=color:#204a87;font-weight:700>JOIN</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_class</span><span style=color:#f8f8f8> </span><span style=color:#000>ic</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_index</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>indexrelid</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#000>ic</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>oid</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                      </span><span style=color:#204a87;font-weight:700>JOIN</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_class</span><span style=color:#f8f8f8> </span><span style=color:#000>tc</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_index</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>indrelid</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#000>tc</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>oid</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                      </span><span style=color:#204a87;font-weight:700>JOIN</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_namespace</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_namespace</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>oid</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#000>ic</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>relnamespace</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                      </span><span style=color:#204a87;font-weight:700>JOIN</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_am</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>ic</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>relam</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_am</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>oid</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>             </span><span style=color:#204a87;font-weight:700>WHERE</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_am</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>amname</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;btree&#39;</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AND</span><span style=color:#f8f8f8> </span><span style=color:#000>ic</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>relpages</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AND</span><span style=color:#f8f8f8> </span><span style=color:#000>nspname</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>NOT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IN</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;pg_catalog&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;information_schema&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>         </span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#000>ind_atts</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_attribute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attrelid</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#000>ind_atts</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>indexrelid</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AND</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_attribute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attnum</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#000>ind_atts</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attnum</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                  </span><span style=color:#204a87;font-weight:700>JOIN</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_stats</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_stats</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>schemaname</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#000>ind_atts</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>nspname</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>             </span><span style=color:#204a87;font-weight:700>AND</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>((</span><span style=color:#000>pg_stats</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>tablename</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#000>ind_atts</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>tablename</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AND</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_stats</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attname</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_get_indexdef</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>pg_attribute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attrelid</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_attribute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attnum</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>TRUE</span><span style=color:#000;font-weight:700>))</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                 </span><span style=color:#204a87;font-weight:700>OR</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#000>pg_stats</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>tablename</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#000>ind_atts</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>idxname</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AND</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_stats</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attname</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_attribute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attname</span><span style=color:#000;font-weight:700>))</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>         </span><span style=color:#204a87;font-weight:700>WHERE</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_attribute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attnum</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>         </span><span style=color:#204a87;font-weight:700>GROUP</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>BY</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>6</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>     </span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#000>est</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>COMMENT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_index_bloat</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IS</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;postgres index bloat estimate (btree-only)&#39;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>GRANT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_index_bloat</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>TO</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_monitor</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>-- Relation Bloat : monitor.pg_bloat
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>DROP</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IF</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>EXISTS</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_bloat</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>CASCADE</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>CREATE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>OR</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>REPLACE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_bloat</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#000>coalesce</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ib</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>datname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>tb</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>datname</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>                                                   </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>datname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>coalesce</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ib</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>nspname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>tb</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>nspname</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>                                                   </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>nspname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>coalesce</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ib</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>tblid</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>tb</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>tblid</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>                                                       </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tblid</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>coalesce</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tb</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>nspname</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>||</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;.&#39;</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>||</span><span style=color:#f8f8f8> </span><span style=color:#000>tb</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>relname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>ib</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>nspname</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>||</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;.&#39;</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>||</span><span style=color:#f8f8f8> </span><span style=color:#000>ib</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>tblid</span><span style=color:#000;font-weight:700>::</span><span style=color:#000>RegClass</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tblname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>tb</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>size</span><span style=color:#f8f8f8>                                                                            </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl_size</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#204a87;font-weight:700>CASE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHEN</span><span style=color:#f8f8f8> </span><span style=color:#000>tb</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ratio</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>THEN</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ELSE</span><span style=color:#f8f8f8> </span><span style=color:#000>round</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tb</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ratio</span><span style=color:#000;font-weight:700>::</span><span style=color:#204a87>NUMERIC</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>6</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>END</span><span style=color:#f8f8f8>                 </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl_ratio</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tb</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>size</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>CASE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHEN</span><span style=color:#f8f8f8> </span><span style=color:#000>tb</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ratio</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>THEN</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ELSE</span><span style=color:#f8f8f8> </span><span style=color:#000>tb</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ratio</span><span style=color:#000;font-weight:700>::</span><span style=color:#204a87>NUMERIC</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>END</span><span style=color:#000;font-weight:700>))</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>::</span><span style=color:#204a87>BIGINT</span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl_wasted</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>ib</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>idxid</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>ib</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>nspname</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>||</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;.&#39;</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>||</span><span style=color:#f8f8f8> </span><span style=color:#000>ib</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>relname</span><span style=color:#f8f8f8>                                                    </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>idxname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>ib</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>size</span><span style=color:#f8f8f8>                                                                            </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>idx_size</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#204a87;font-weight:700>CASE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHEN</span><span style=color:#f8f8f8> </span><span style=color:#000>ib</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ratio</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>THEN</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ELSE</span><span style=color:#f8f8f8> </span><span style=color:#000>round</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ib</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ratio</span><span style=color:#000;font-weight:700>::</span><span style=color:#204a87>NUMERIC</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>END</span><span style=color:#f8f8f8>                 </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>idx_ratio</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ib</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>size</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>CASE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHEN</span><span style=color:#f8f8f8> </span><span style=color:#000>ib</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ratio</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>THEN</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ELSE</span><span style=color:#f8f8f8> </span><span style=color:#000>ib</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ratio</span><span style=color:#000;font-weight:700>::</span><span style=color:#204a87>NUMERIC</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>END</span><span style=color:#000;font-weight:700>))</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>::</span><span style=color:#204a87>BIGINT</span><span style=color:#f8f8f8>    </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>idx_wasted</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>FROM</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_index_bloat</span><span style=color:#f8f8f8> </span><span style=color:#000>ib</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>         </span><span style=color:#204a87;font-weight:700>FULL</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>OUTER</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>JOIN</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_table_bloat</span><span style=color:#f8f8f8> </span><span style=color:#000>tb</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>ib</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>tblid</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#000>tb</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>tblid</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>COMMENT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_bloat</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IS</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;postgres relation bloat detail&#39;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>GRANT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_bloat</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>TO</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_monitor</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>-- monitor.pg_index_bloat_human
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>DROP</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IF</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>EXISTS</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_index_bloat_human</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>CASCADE</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>CREATE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>OR</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>REPLACE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_index_bloat_human</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#000>idxname</span><span style=color:#f8f8f8>                            </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>name</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>tblname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>idx_wasted</span><span style=color:#f8f8f8>                         </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>wasted</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>pg_size_pretty</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>idx_size</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>           </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>idx_size</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>round</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>100</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#f8f8f8> </span><span style=color:#000>idx_ratio</span><span style=color:#000;font-weight:700>::</span><span style=color:#204a87>NUMERIC</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>idx_ratio</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>pg_size_pretty</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>idx_wasted</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>         </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>idx_wasted</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>pg_size_pretty</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tbl_size</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>           </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl_size</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>round</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>100</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl_ratio</span><span style=color:#000;font-weight:700>::</span><span style=color:#204a87>NUMERIC</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl_ratio</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>pg_size_pretty</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tbl_wasted</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>         </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl_wasted</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>FROM</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_bloat</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>WHERE</span><span style=color:#f8f8f8> </span><span style=color:#000>idxname</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IS</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>NOT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>NULL</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>COMMENT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_index_bloat_human</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IS</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;postgres index bloat info in human-readable format&#39;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>GRANT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_index_bloat_human</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>TO</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_monitor</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>-- monitor.pg_table_bloat_human
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>DROP</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IF</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>EXISTS</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_table_bloat_human</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>CASCADE</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>CREATE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>OR</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>REPLACE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_table_bloat_human</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#000>tblname</span><span style=color:#f8f8f8>                                          </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>name</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>idx_wasted</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl_wasted</span><span style=color:#f8f8f8>                          </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>wasted</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>pg_size_pretty</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>idx_wasted</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl_wasted</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>          </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>all_wasted</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>pg_size_pretty</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tbl_wasted</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>                       </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl_wasted</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>pg_size_pretty</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tbl_size</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>                         </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl_size</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>tbl_ratio</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>pg_size_pretty</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>idx_wasted</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>                       </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>idx_wasted</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>pg_size_pretty</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>idx_size</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>                         </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>idx_size</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>round</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>idx_wasted</span><span style=color:#000;font-weight:700>::</span><span style=color:#204a87>NUMERIC</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>100</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#f8f8f8> </span><span style=color:#000>idx_size</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>idx_ratio</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>FROM</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#000>datname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>             </span><span style=color:#000>nspname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>             </span><span style=color:#000>tblname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>             </span><span style=color:#000>coalesce</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>max</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tbl_wasted</span><span style=color:#000;font-weight:700>),</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>                         </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl_wasted</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>             </span><span style=color:#000>coalesce</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>max</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tbl_size</span><span style=color:#000;font-weight:700>),</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>                           </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl_size</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>             </span><span style=color:#000>round</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>100</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#f8f8f8> </span><span style=color:#000>coalesce</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>max</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>tbl_ratio</span><span style=color:#000;font-weight:700>),</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>)::</span><span style=color:#204a87>NUMERIC</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tbl_ratio</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>             </span><span style=color:#000>coalesce</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>sum</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>idx_wasted</span><span style=color:#000;font-weight:700>),</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>                         </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>idx_wasted</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>             </span><span style=color:#000>coalesce</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>sum</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>idx_size</span><span style=color:#000;font-weight:700>),</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>                           </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>idx_size</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>FROM</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_bloat</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>WHERE</span><span style=color:#f8f8f8> </span><span style=color:#000>tblname</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IS</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>NOT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>NULL</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>GROUP</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>BY</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>     </span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#000>d</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>COMMENT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_table_bloat_human</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IS</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;postgres table bloat info in human-readable format&#39;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>GRANT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_table_bloat_human</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>TO</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_monitor</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>-- Activity Overview: monitor.pg_session
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>DROP</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IF</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>EXISTS</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_session</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>CASCADE</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>CREATE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>OR</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>REPLACE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_session</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#000>coalesce</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>datname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;all&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>datname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>numbackends</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>active</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>idle</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>ixact</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>max_duration</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>max_tx_duration</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8> </span><span style=color:#000>max_conn_duration</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>FROM</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>         </span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#000>datname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                </span><span style=color:#204a87;font-weight:700>count</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>                                         </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>numbackends</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                </span><span style=color:#204a87;font-weight:700>count</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#000>FILTER</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHERE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>state</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;active&#39;</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>       </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>active</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                </span><span style=color:#204a87;font-weight:700>count</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#000>FILTER</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHERE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>state</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;idle&#39;</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>         </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>idle</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                </span><span style=color:#204a87;font-weight:700>count</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#000>FILTER</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHERE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>state</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;idle in transaction&#39;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                    </span><span style=color:#204a87;font-weight:700>OR</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>state</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;idle in transaction (aborted)&#39;</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>ixact</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                </span><span style=color:#204a87;font-weight:700>max</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>extract</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>epoch</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>from</span><span style=color:#f8f8f8> </span><span style=color:#000>now</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#f8f8f8> </span><span style=color:#000>state_change</span><span style=color:#000;font-weight:700>))</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                </span><span style=color:#000>FILTER</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>WHERE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>state</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;active&#39;</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>                </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>max_duration</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                </span><span style=color:#204a87;font-weight:700>max</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>extract</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>epoch</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>from</span><span style=color:#f8f8f8> </span><span style=color:#000>now</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#f8f8f8> </span><span style=color:#000>xact_start</span><span style=color:#000;font-weight:700>))</span><span style=color:#f8f8f8>      </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>max_tx_duration</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>                </span><span style=color:#204a87;font-weight:700>max</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>extract</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>epoch</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>from</span><span style=color:#f8f8f8> </span><span style=color:#000>now</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#f8f8f8> </span><span style=color:#000>backend_start</span><span style=color:#000;font-weight:700>))</span><span style=color:#f8f8f8>   </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>max_conn_duration</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>         </span><span style=color:#204a87;font-weight:700>FROM</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_stat_activity</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>         </span><span style=color:#204a87;font-weight:700>WHERE</span><span style=color:#f8f8f8> </span><span style=color:#000>backend_type</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;client backend&#39;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>           </span><span style=color:#204a87;font-weight:700>AND</span><span style=color:#f8f8f8> </span><span style=color:#000>pid</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>&lt;&gt;</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_backend_pid</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>         </span><span style=color:#204a87;font-weight:700>GROUP</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>BY</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ROLLUP</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>         </span><span style=color:#204a87;font-weight:700>ORDER</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>BY</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8> </span><span style=color:#000>NULLS</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>FIRST</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>     </span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#000>t</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>COMMENT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_session</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IS</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;postgres activity group by session&#39;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>GRANT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_session</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>TO</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_monitor</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>-- Sequential Scan: monitor.pg_seq_scan
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>DROP</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IF</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>EXISTS</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_seq_scan</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>CASCADE</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>CREATE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>OR</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>REPLACE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_seq_scan</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#000>schemaname</span><span style=color:#f8f8f8>                                                        </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>nspname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>relname</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>seq_scan</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>seq_tup_read</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>seq_tup_read</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#f8f8f8> </span><span style=color:#000>seq_scan</span><span style=color:#f8f8f8>                                           </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>seq_tup_avg</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>idx_scan</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>n_live_tup</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8> </span><span style=color:#000>n_dead_tup</span><span style=color:#f8f8f8>                                           </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>tuples</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>       </span><span style=color:#000>round</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n_live_tup</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>100</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>::</span><span style=color:#204a87>NUMERIC</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n_live_tup</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8> </span><span style=color:#000>n_dead_tup</span><span style=color:#000;font-weight:700>),</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#000>live_ratio</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>FROM</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_stat_user_tables</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>WHERE</span><span style=color:#f8f8f8> </span><span style=color:#000>seq_scan</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>  </span><span style=color:#204a87;font-weight:700>and</span><span style=color:#f8f8f8> </span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n_live_tup</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8> </span><span style=color:#000>n_dead_tup</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f8f8f8> </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>ORDER</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>BY</span><span style=color:#f8f8f8> </span><span style=color:#000>seq_scan</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>DESC</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>COMMENT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>VIEW</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_seq_scan</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IS</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;table that have seq scan&#39;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>GRANT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_seq_scan</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>TO</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_monitor</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span></code></pre></div></details><details><summary>Function for viewing shared memory allocation (PG13 and above)</summary><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#204a87;font-weight:700>DROP</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>FUNCTION</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IF</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>EXISTS</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_shmem</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>CASCADE</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>CREATE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>OR</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>REPLACE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>FUNCTION</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_shmem</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>RETURNS</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>SETOF</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8>    </span><span style=color:#000>pg_shmem_allocations</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>AS</span><span style=color:#f8f8f8> </span><span style=color:#a40000>$$</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>SELECT</span><span style=color:#f8f8f8> </span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>FROM</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_shmem_allocations</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>$$</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>LANGUAGE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>SQL</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>SECURITY</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>DEFINER</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>COMMENT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>FUNCTION</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_shmem</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>IS</span><span style=color:#f8f8f8> </span><span style=color:#4e9a06>&#39;security wrapper for system view pg_shmem&#39;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>REVOKE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ALL</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>FUNCTION</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_shmem</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>FROM</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>PUBLIC</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>GRANT</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>EXECUTE</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>ON</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>FUNCTION</span><span style=color:#f8f8f8> </span><span style=color:#000>monitor</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pg_shmem</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8> </span><span style=color:#204a87;font-weight:700>TO</span><span style=color:#f8f8f8> </span><span style=color:#000>pg_monitor</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8>
</span></span></span></code></pre></div></details><div class=section-index><hr class=panel-line><div class=entry><h5><a href=/docs/pgsql/monitor/dashboard/>Dashboards</a></h5><p>Pigsty provides many out-of-the-box Grafana monitoring dashboards for PostgreSQL</p></div><div class=entry><h5><a href=/docs/pgsql/monitor/metric/>Metrics List</a></h5><p>Complete list and explanation of monitoring metrics provided by the Pigsty PGSQL module</p></div></div><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes">Thanks for the feedback! Please <a href=https://github.com/pgsty/pigsty/issues/new>let us know how we can improve</a>.</p><p class="feedback--response feedback--response-no">Sorry to hear that. Please <a href=https://github.com/pgsty/pigsty/issues/new>let us know how we can improve</a>.</p></div><script>const yesButton=document.querySelector(".feedback--answer-yes"),noButton=document.querySelector(".feedback--answer-no"),yesResponse=document.querySelector(".feedback--response-yes"),noResponse=document.querySelector(".feedback--response-no"),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=e=>{if(typeof gtag!="function")return;gtag("event","page_helpful",{event_category:"Helpful",event_label:window.location.pathname,value:e})};yesButton.addEventListener("click",()=>{yesResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(100)}),noButton.addEventListener("click",()=>{noResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(0)})</script><br><div class=td-page-meta__lastmod>Last Modified 2026-01-08: <a data-proofer-ignore href=https://github.com/pgsty/pigsty.io/commit/e09b34835b4f5d861e5a58448da5e3eef161a3db>add ci/cd workflow (e09b348)</a></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="Email - Vonng" aria-label="Email - Vonng"><a target=_blank rel=noopener href=mailto:rh@vonng.com aria-label="Email - Vonng"><i class="fa fa-envelope"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="GitHub - Vonng" aria-label="GitHub - Vonng"><a target=_blank rel=noopener href=https://github.com/Vonng aria-label="GitHub - Vonng"><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="X - Vonng" aria-label="X - Vonng"><a target=_blank rel=noopener href=https://x.com/RonVonng aria-label="X - Vonng"><i class="fab fa-x-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="X - Pigsty" aria-label="X - Pigsty"><a target=_blank rel=noopener href=https://x.com/PlGSTY aria-label="X - Pigsty"><i class="fab fa-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="LinkedIn - Vonng" aria-label="LinkedIn - Vonng"><a target=_blank rel=noopener href=https://www.linkedin.com/in/vonng/ aria-label="LinkedIn - Vonng"><i class="fab fa-linkedin"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=Discord aria-label=Discord><a target=_blank rel=noopener href=https://discord.gg/wDzt5VyWEz aria-label=Discord><i class="fab fa-discord"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Telegram aria-label=Telegram><a target=_blank rel=noopener href=https://t.me/joinchat/gV9zfZraNPM3YjFh aria-label=Telegram><i class="fab fa-telegram"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=WeChat aria-label=WeChat><a target=_blank rel=noopener href=/img/pigsty/pigsty-cc.jpg aria-label=WeChat><i class="fab fa-weixin"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Discussion aria-label=Discussion><a target=_blank rel=noopener href=https://github.com/orgs/pgsty/discussions aria-label=Discussion><i class="fab fa-discourse"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Repo aria-label=Repo><a target=_blank rel=noopener href=https://github.com/pgsty/pigsty aria-label=Repo><i class="fab fa-github"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2018&ndash;2026
<span class=td-footer__authors>Ruohang Feng</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span><span class=ms-2><a href=/docs/about/privacy target=_blank rel=noopener>Privacy Policy</a></span></div></div></div></footer></div><script src=/js/main.min.d20e761d6aa4d2ace0488e45da0e775a8b17300a8430f32fbcfa016e6c9e6eb6.js integrity="sha256-0g52HWqk0qzgSI5F2g53WosXMAqEMPMvvPoBbmyebrY=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>